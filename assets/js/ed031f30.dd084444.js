"use strict";(self.webpackChunknotes_3=self.webpackChunknotes_3||[]).push([[25343],{54213:(n,e,s)=>{s.d(e,{R:()=>i,x:()=>l});var r=s(36672);const o={},t=r.createContext(o);function i(n){const e=r.useContext(t);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:i(n.components),r.createElement(t.Provider,{value:e},n.children)}},59490:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"FrontEnd/Libraries/Storybook","title":"Storybook","description":"Storybook \u662f\u524d\u7aef UI \u7ec4\u4ef6\u5f00\u53d1\u7684\u884c\u4e1a\u6807\u51c6\u5de5\u5177. \u5b83\u4e3a\u7ec4\u4ef6\u63d0\u4f9b\u4e86\u4e00\u4e2a\u9694\u79bb\u7684\u5de5\u4f5c\u574a, \u8ba9\u5f00\u53d1\u8005\u53ef\u4ee5\u5728\u4e0d\u8fd0\u884c\u6574\u4e2a\u590d\u6742\u5e94\u7528\u7a0b\u5e8f\u7684\u60c5\u51b5\u4e0b, \u72ec\u7acb\u5730\u8bbe\u8ba1\u3001\u5f00\u53d1\u3001\u6d4b\u8bd5\u548c\u8bb0\u5f55\u7ec4\u4ef6.","source":"@site/docs/FrontEnd/Libraries/Storybook.mdx","sourceDirName":"FrontEnd/Libraries","slug":"/FrontEnd/Libraries/Storybook","permalink":"/notes3/docs/FrontEnd/Libraries/Storybook","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/FrontEnd/Libraries/Storybook.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"frontEnd","previous":{"title":"React-Joyride","permalink":"/notes3/docs/FrontEnd/Libraries/React-Joyride"},"next":{"title":"Vidstack","permalink":"/notes3/docs/FrontEnd/Libraries/Vidstack"}}');var o=s(23420),t=s(54213);const i={},l=void 0,c={},d=[{value:"\u754c\u9762\u6982\u89c8",id:"\u754c\u9762\u6982\u89c8",level:2},{value:"\u6838\u5fc3\u6982\u5ff5",id:"\u6838\u5fc3\u6982\u5ff5",level:2},{value:"1. Stories (\u6545\u4e8b)",id:"1-stories-\u6545\u4e8b",level:3},{value:"2. Args (\u53c2\u6570)",id:"2-args-\u53c2\u6570",level:3},{value:"3. Decorators (\u88c5\u9970\u5668)",id:"3-decorators-\u88c5\u9970\u5668",level:3},{value:"\u4ea4\u4e92\u5f0f\u6d4b\u8bd5 (Interaction Testing)",id:"\u4ea4\u4e92\u5f0f\u6d4b\u8bd5-interaction-testing",level:2},{value:"\u63d2\u4ef6\u7cfb\u7edf (Addon Ecosystem)",id:"\u63d2\u4ef6\u7cfb\u7edf-addon-ecosystem",level:2},{value:"\u5f00\u53d1\u5de5\u4f5c\u6d41",id:"\u5f00\u53d1\u5de5\u4f5c\u6d41",level:2},{value:"\u4e3a\u4ec0\u4e48\u9009\u62e9 Storybook?",id:"\u4e3a\u4ec0\u4e48\u9009\u62e9-storybook",level:2}];function a(n){const e={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.a,{href:"https://storybook.js.org/",children:"Storybook"})," \u662f\u524d\u7aef UI \u7ec4\u4ef6\u5f00\u53d1\u7684\u884c\u4e1a\u6807\u51c6\u5de5\u5177. \u5b83\u4e3a\u7ec4\u4ef6\u63d0\u4f9b\u4e86\u4e00\u4e2a",(0,o.jsx)(e.strong,{children:"\u9694\u79bb\u7684\u5de5\u4f5c\u574a"}),", \u8ba9\u5f00\u53d1\u8005\u53ef\u4ee5\u5728\u4e0d\u8fd0\u884c\u6574\u4e2a\u590d\u6742\u5e94\u7528\u7a0b\u5e8f\u7684\u60c5\u51b5\u4e0b, \u72ec\u7acb\u5730\u8bbe\u8ba1\u3001\u5f00\u53d1\u3001\u6d4b\u8bd5\u548c\u8bb0\u5f55\u7ec4\u4ef6."]}),"\n",(0,o.jsx)(e.h2,{id:"\u754c\u9762\u6982\u89c8",children:"\u754c\u9762\u6982\u89c8"}),"\n",(0,o.jsx)(e.p,{children:"Storybook \u7684\u754c\u9762\u8bbe\u8ba1\u76f4\u89c2, \u4e3b\u8981\u7531\u4ee5\u4e0b\u51e0\u4e2a\u6838\u5fc3\u533a\u57df\u7ec4\u6210:"}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Sidebar (\u4fa7\u8fb9\u680f)"}),': \u5de6\u4fa7\u533a\u57df, \u5217\u51fa\u4e86\u6240\u6709\u7684\u7ec4\u4ef6\u53ca\u5176\u5bf9\u5e94\u7684 "Stories" (\u6545\u4e8b). \u652f\u6301\u641c\u7d22\u548c\u5206\u7ec4\u7ba1\u7406 (\u5982 Atoms, Molecules).']}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Canvas (\u753b\u5e03)"}),": \u4e2d\u592e\u4e3b\u89c6\u56fe, \u6e32\u67d3\u7ec4\u4ef6\u7684\u5b9e\u65f6\u9884\u89c8. \u4f60\u53ef\u4ee5\u5207\u6362\u80cc\u666f\u989c\u8272\u3001\u89c6\u53e3\u5927\u5c0f (\u5982\u79fb\u52a8\u7aef/\u5e73\u677f\u9884\u89c8)."]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Addons Panel (\u63d2\u4ef6\u9762\u677f)"}),": \u901a\u5e38\u4f4d\u4e8e\u5e95\u90e8\u6216\u53f3\u4fa7, \u63d0\u4f9b\u4e0e\u7ec4\u4ef6\u4ea4\u4e92\u7684\u5de5\u5177:","\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Controls"}),": \u52a8\u6001\u4fee\u6539 Props \u7684 UI \u8868\u5355."]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Actions"}),": \u67e5\u770b\u4e8b\u4ef6\u89e6\u53d1\u65e5\u5fd7 (\u5982\u70b9\u51fb\u3001\u8f93\u5165)."]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Interactions"}),": \u8fd0\u884c\u4ea4\u4e92\u5f0f\u6d4b\u8bd5\u811a\u672c."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Toolbar (\u5de5\u5177\u680f)"}),": \u9876\u90e8\u533a\u57df, \u5305\u542b\u7f29\u653e\u3001\u7f51\u683c\u7ebf\u3001\u65e0\u969c\u788d\u68c0\u67e5\u7b49\u5168\u5c40\u5f00\u5173."]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"\u6838\u5fc3\u6982\u5ff5",children:"\u6838\u5fc3\u6982\u5ff5"}),"\n",(0,o.jsx)(e.h3,{id:"1-stories-\u6545\u4e8b",children:"1. Stories (\u6545\u4e8b)"}),"\n",(0,o.jsx)(e.p,{children:"\u4e00\u4e2a Story \u4ee3\u8868\u7ec4\u4ef6\u7684\u4e00\u4e2a\u7279\u5b9a\u89c6\u89c9\u72b6\u6001."}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"CSF 3.0 (Component Story Format)"}),": \u5f53\u524d\u63a8\u8350\u7684\u7f16\u5199\u6807\u51c6, \u4f7f\u7528 ES \u6a21\u5757\u5bfc\u51fa\u5bf9\u8c61, \u6781\u5176\u7b80\u6d01\u4e14\u6613\u4e8e\u590d\u7528."]}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"2-args-\u53c2\u6570",children:"2. Args (\u53c2\u6570)"}),"\n",(0,o.jsx)(e.p,{children:"Args \u662f Storybook \u7684\u52a8\u6001 Props \u7cfb\u7edf."}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:'\u5f00\u53d1\u8005\u5728 UI \u4e2d\u4fee\u6539 Controls, Args \u4f1a\u5b9e\u65f6\u4f20\u9012\u7ed9\u7ec4\u4ef6, \u5b9e\u73b0 "\u6240\u89c1\u5373\u6240\u5f97" \u7684\u8c03\u8bd5\u4f53\u9a8c.'}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"3-decorators-\u88c5\u9970\u5668",children:"3. Decorators (\u88c5\u9970\u5668)"}),"\n",(0,o.jsx)(e.p,{children:"\u7528\u4e8e\u4e3a\u7ec4\u4ef6\u5305\u88f9\u4e0a\u4e0b\u6587\u73af\u5883 (Context)."}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["\u5e38\u89c1\u7684\u7528\u6cd5\u5305\u62ec: \u6ce8\u5165\u4e3b\u9898 (",(0,o.jsx)(e.code,{children:"ThemeProvider"}),"), \u6dfb\u52a0\u5168\u5c40\u6837\u5f0f (",(0,o.jsx)(e.code,{children:"padding"}),"), \u6216\u6302\u8f7d\u72b6\u6001\u7ba1\u7406\u5e93 (",(0,o.jsx)(e.code,{children:"Redux Provider"}),")."]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"\u4ea4\u4e92\u5f0f\u6d4b\u8bd5-interaction-testing",children:"\u4ea4\u4e92\u5f0f\u6d4b\u8bd5 (Interaction Testing)"}),"\n",(0,o.jsxs)(e.p,{children:["Storybook \u4e0d\u4ec5\u4ec5\u662f\u9759\u6001\u5c55\u793a, \u8fd8\u53ef\u4ee5\u901a\u8fc7 ",(0,o.jsx)(e.code,{children:"play"})," \u51fd\u6570\u6a21\u62df\u7528\u6237\u884c\u4e3a."]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-tsx",children:"// LoginForm.stories.tsx\nimport { within, userEvent, expect } from '@storybook/test';\n\nexport const AutoLogin: Story = {\n  play: async ({ canvasElement }) => {\n    const canvas = within(canvasElement);\n    \n    // \u6a21\u62df\u8f93\u5165\n    await userEvent.type(canvas.getByTestId('email'), 'user@example.com');\n    await userEvent.type(canvas.getByTestId('password'), 'password123');\n    \n    // \u6a21\u62df\u70b9\u51fb\n    await userEvent.click(canvas.getByRole('button'));\n    \n    // \u9a8c\u8bc1\u7ed3\u679c\n    const feedback = await canvas.findByText('\u767b\u5f55\u6210\u529f!');\n    await expect(feedback).toBeInTheDocument();\n  },\n};\n"})}),"\n",(0,o.jsx)(e.h2,{id:"\u63d2\u4ef6\u7cfb\u7edf-addon-ecosystem",children:"\u63d2\u4ef6\u7cfb\u7edf (Addon Ecosystem)"}),"\n",(0,o.jsx)(e.p,{children:"Storybook \u7684\u5f3a\u5927\u4e4b\u5904\u5728\u4e8e\u5176\u6781\u5176\u4e30\u5bcc\u7684\u63d2\u4ef6\u751f\u6001:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Controls"}),": \u65e0\u9700\u4ee3\u7801\u5373\u53ef\u5207\u6362 Boolean\u3001Color\u3001Select \u7b49\u7c7b\u578b\u7684 Props."]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Actions"}),": \u6355\u83b7 ",(0,o.jsx)(e.code,{children:"on-"})," \u5f00\u5934\u7684\u56de\u8c03\u51fd\u6570\u5e76\u8bb0\u5f55\u53c2\u6570."]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Viewport"}),": \u9884\u8bbe\u591a\u79cd\u8bbe\u5907\u5c3a\u5bf8, \u65b9\u4fbf\u54cd\u5e94\u5f0f\u5f00\u53d1."]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Accessibility (a11y)"}),": \u5b9e\u65f6\u5206\u6790\u7ec4\u4ef6\u7684 HTML \u7ed3\u6784\u662f\u5426\u7b26\u5408\u65e0\u969c\u788d\u6807\u51c6."]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Design Tokens"}),": \u76f4\u63a5\u5728\u4fa7\u8fb9\u680f\u663e\u793a\u914d\u8272\u3001\u5b57\u4f53\u7b49\u8bbe\u8ba1\u53d8\u91cf."]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"\u5f00\u53d1\u5de5\u4f5c\u6d41",children:"\u5f00\u53d1\u5de5\u4f5c\u6d41"}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"\u9694\u79bb\u5f00\u53d1"}),": \u5728\u4e3b\u5e94\u7528\u5f00\u53d1\u524d, \u5148\u5728 Storybook \u4e2d\u5b9a\u4e49\u7ec4\u4ef6\u7684\u5404\u79cd\u72b6\u6001."]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"\u8fb9\u7f18\u60c5\u51b5\u8986\u76d6"}),': \u8f7b\u677e\u521b\u5efa "\u9519\u8bef"\u3001"\u8d85\u957f\u6587\u672c"\u3001"\u7a7a\u6570\u636e" \u7b49\u4e3b\u5e94\u7528\u4e2d\u96be\u4ee5\u89e6\u53d1\u7684\u72b6\u6001.']}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"\u89c6\u89c9\u56de\u5f52"}),": \u901a\u8fc7 Chromatic \u7b49\u5de5\u5177\u5bf9\u6bd4\u6bcf\u4e00\u4e2a Story \u7684\u50cf\u7d20\u7ea7\u53d8\u5316, \u9632\u6b62\u4ee3\u7801\u6539\u52a8\u5f15\u5165 UI Bug."]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"\u6d3b\u7684\u6587\u6863"}),": ",(0,o.jsx)(e.code,{children:"Autodocs"})," \u63d2\u4ef6\u4f1a\u6839\u636e Stories \u548c\u7ec4\u4ef6\u6e90\u7801\u81ea\u52a8\u751f\u6210\u7f8e\u89c2\u3001\u53ef\u4ea4\u4e92\u7684 API \u6587\u6863."]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"\u4e3a\u4ec0\u4e48\u9009\u62e9-storybook",children:"\u4e3a\u4ec0\u4e48\u9009\u62e9 Storybook?"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"\u89e3\u8026"}),": \u5f3a\u8feb\u5f00\u53d1\u8005\u7f16\u5199\u66f4\u7eaf\u51c0\u3001\u4f9d\u8d56\u66f4\u5c11\u7684\u7ec4\u4ef6."]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"\u534f\u4f5c"}),": \u8bbe\u8ba1\u5e08\u548c QA \u53ef\u4ee5\u5728\u4e0d\u9700\u8981\u4ee3\u7801\u6743\u9650\u7684\u60c5\u51b5\u4e0b\u5ba1\u67e5 UI."]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"\u63d0\u6548"}),": \u5728\u5927\u578b\u9879\u76ee\u4e2d, \u4fee\u6539\u4e00\u4e2a\u6df1\u5c42\u9875\u9762\u7ec4\u4ef6\u7684\u53cd\u9988\u65f6\u95f4\u4ece\u5206\u949f\u7ea7\u964d\u4f4e\u5230\u79d2\u7ea7."]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(a,{...n})}):a(n)}}}]);