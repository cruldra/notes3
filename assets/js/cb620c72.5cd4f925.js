"use strict";(self.webpackChunknotes_3=self.webpackChunknotes_3||[]).push([[984],{25396:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"SoftwareEngineering/\u8f6f\u4ef6\u6d4b\u8bd5/Vitest","title":"Vitest","description":"Vitest \u662f\u4e00\u4e2a\u73b0\u4ee3\u5316\u7684 JavaScript/TypeScript \u6d4b\u8bd5\u6846\u67b6\uff0c\u7531 Vite \u56e2\u961f\u5f00\u53d1\u3002\u5b83\u4e13\u4e3a Vite \u751f\u6001\u7cfb\u7edf\u8bbe\u8ba1\uff0c\u4f46\u4e5f\u53ef\u4ee5\u5728\u975e Vite \u9879\u76ee\u4e2d\u4f7f\u7528\u3002Vitest \u7ee7\u627f\u4e86 Vite \u7684\u5feb\u901f\u6784\u5efa\u548c\u70ed\u91cd\u8f7d\u7279\u6027\uff0c\u4e3a\u524d\u7aef\u5f00\u53d1\u8005\u63d0\u4f9b\u4e86\u6781\u901f\u7684\u6d4b\u8bd5\u4f53\u9a8c\u3002","source":"@site/docs/SoftwareEngineering/\u8f6f\u4ef6\u6d4b\u8bd5/Vitest.mdx","sourceDirName":"SoftwareEngineering/\u8f6f\u4ef6\u6d4b\u8bd5","slug":"/SoftwareEngineering/\u8f6f\u4ef6\u6d4b\u8bd5/Vitest","permalink":"/notes3/docs/SoftwareEngineering/\u8f6f\u4ef6\u6d4b\u8bd5/Vitest","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/SoftwareEngineering/\u8f6f\u4ef6\u6d4b\u8bd5/Vitest.mdx","tags":[],"version":"current","frontMatter":{},"sidebar":"softwareEngineering","previous":{"title":"Testing Library","permalink":"/notes3/docs/SoftwareEngineering/\u8f6f\u4ef6\u6d4b\u8bd5/Testing Library"},"next":{"title":"\u57fa\u672c\u6982\u5ff5","permalink":"/notes3/docs/SoftwareEngineering/\u8f6f\u4ef6\u6d4b\u8bd5/\u57fa\u672c\u6982\u5ff5"}}');var t=r(23420),i=r(54213);const l={},c=void 0,d={},a=[{value:"\u6838\u5fc3\u7279\u6027",id:"\u6838\u5fc3\u7279\u6027",level:2},{value:"\ud83d\ude80 \u6781\u901f\u8fd0\u884c",id:"-\u6781\u901f\u8fd0\u884c",level:3},{value:"\ud83d\udd27 \u5f00\u7bb1\u5373\u7528",id:"-\u5f00\u7bb1\u5373\u7528",level:3},{value:"\ud83e\uddea \u4e30\u5bcc\u7684\u6d4b\u8bd5\u529f\u80fd",id:"-\u4e30\u5bcc\u7684\u6d4b\u8bd5\u529f\u80fd",level:3},{value:"\u5b89\u88c5\u548c\u8bbe\u7f6e",id:"\u5b89\u88c5\u548c\u8bbe\u7f6e",level:2},{value:"\u57fa\u7840\u5b89\u88c5",id:"\u57fa\u7840\u5b89\u88c5",level:3},{value:"\u914d\u7f6e\u6587\u4ef6",id:"\u914d\u7f6e\u6587\u4ef6",level:3},{value:"package.json \u811a\u672c",id:"packagejson-\u811a\u672c",level:3},{value:"\u57fa\u672c\u7528\u6cd5",id:"\u57fa\u672c\u7528\u6cd5",level:2},{value:"\u7b80\u5355\u6d4b\u8bd5\u793a\u4f8b",id:"\u7b80\u5355\u6d4b\u8bd5\u793a\u4f8b",level:3},{value:"\u5f02\u6b65\u6d4b\u8bd5",id:"\u5f02\u6b65\u6d4b\u8bd5",level:3},{value:"Mock \u529f\u80fd",id:"mock-\u529f\u80fd",level:3},{value:"\u9ad8\u7ea7\u529f\u80fd",id:"\u9ad8\u7ea7\u529f\u80fd",level:2},{value:"\u6d4b\u8bd5\u73af\u5883\u914d\u7f6e",id:"\u6d4b\u8bd5\u73af\u5883\u914d\u7f6e",level:3},{value:"\u5feb\u7167\u6d4b\u8bd5",id:"\u5feb\u7167\u6d4b\u8bd5",level:3},{value:"\u6d4b\u8bd5\u8986\u76d6\u7387",id:"\u6d4b\u8bd5\u8986\u76d6\u7387",level:3},{value:"\u4e0e\u5176\u4ed6\u6d4b\u8bd5\u6846\u67b6\u5bf9\u6bd4",id:"\u4e0e\u5176\u4ed6\u6d4b\u8bd5\u6846\u67b6\u5bf9\u6bd4",level:2},{value:"Vitest vs Jest",id:"vitest-vs-jest",level:3},{value:"\u8fc1\u79fb\u6307\u5357",id:"\u8fc1\u79fb\u6307\u5357",level:3},{value:"\u5b9e\u8df5\u5efa\u8bae",id:"\u5b9e\u8df5\u5efa\u8bae",level:2},{value:"\u9879\u76ee\u7ed3\u6784",id:"\u9879\u76ee\u7ed3\u6784",level:3},{value:"\u6d4b\u8bd5\u7b56\u7565",id:"\u6d4b\u8bd5\u7b56\u7565",level:3},{value:"\u6027\u80fd\u4f18\u5316",id:"\u6027\u80fd\u4f18\u5316",level:3},{value:"\u5e38\u7528\u63d2\u4ef6\u548c\u5de5\u5177",id:"\u5e38\u7528\u63d2\u4ef6\u548c\u5de5\u5177",level:2},{value:"UI \u754c\u9762",id:"ui-\u754c\u9762",level:3},{value:"\u6d4f\u89c8\u5668\u6d4b\u8bd5",id:"\u6d4f\u89c8\u5668\u6d4b\u8bd5",level:3},{value:"\u8986\u76d6\u7387\u589e\u5f3a",id:"\u8986\u76d6\u7387\u589e\u5f3a",level:3},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2},{value:"\u76f8\u5173\u8d44\u6e90",id:"\u76f8\u5173\u8d44\u6e90",level:2}];function o(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Vitest \u662f\u4e00\u4e2a\u73b0\u4ee3\u5316\u7684 JavaScript/TypeScript \u6d4b\u8bd5\u6846\u67b6\uff0c\u7531 Vite \u56e2\u961f\u5f00\u53d1\u3002\u5b83\u4e13\u4e3a Vite \u751f\u6001\u7cfb\u7edf\u8bbe\u8ba1\uff0c\u4f46\u4e5f\u53ef\u4ee5\u5728\u975e Vite \u9879\u76ee\u4e2d\u4f7f\u7528\u3002Vitest \u7ee7\u627f\u4e86 Vite \u7684\u5feb\u901f\u6784\u5efa\u548c\u70ed\u91cd\u8f7d\u7279\u6027\uff0c\u4e3a\u524d\u7aef\u5f00\u53d1\u8005\u63d0\u4f9b\u4e86\u6781\u901f\u7684\u6d4b\u8bd5\u4f53\u9a8c\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"\u6838\u5fc3\u7279\u6027",children:"\u6838\u5fc3\u7279\u6027"}),"\n",(0,t.jsx)(n.h3,{id:"-\u6781\u901f\u8fd0\u884c",children:"\ud83d\ude80 \u6781\u901f\u8fd0\u884c"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u539f\u751f ESM \u652f\u6301"}),"\uff1a\u65e0\u9700\u989d\u5916\u7684\u8f6c\u6362\u914d\u7f6e"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u667a\u80fd\u76d1\u542c\u6a21\u5f0f"}),"\uff1a\u53ea\u91cd\u65b0\u8fd0\u884c\u76f8\u5173\u7684\u6d4b\u8bd5\u6587\u4ef6"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u5e76\u884c\u6267\u884c"}),"\uff1a\u9ed8\u8ba4\u5e76\u884c\u8fd0\u884c\u6d4b\u8bd5\u4ee5\u63d0\u5347\u901f\u5ea6"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Vite \u9a71\u52a8"}),"\uff1a\u5229\u7528 Vite \u7684\u5feb\u901f HMR \u548c\u6784\u5efa\u80fd\u529b"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"-\u5f00\u7bb1\u5373\u7528",children:"\ud83d\udd27 \u5f00\u7bb1\u5373\u7528"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u96f6\u914d\u7f6e\u542f\u52a8"}),"\uff1a\u5927\u90e8\u5206\u9879\u76ee\u53ef\u4ee5\u76f4\u63a5\u5f00\u59cb\u4f7f\u7528"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"TypeScript \u539f\u751f\u652f\u6301"}),"\uff1a\u65e0\u9700\u989d\u5916\u914d\u7f6e\u5373\u53ef\u6d4b\u8bd5 TS \u4ee3\u7801"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"JSX/TSX \u652f\u6301"}),"\uff1a\u76f4\u63a5\u652f\u6301 React\u3001Vue \u7b49\u7ec4\u4ef6\u6d4b\u8bd5"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"CSS \u5904\u7406"}),"\uff1a\u81ea\u52a8\u5904\u7406 CSS \u6a21\u5757\u548c\u9884\u5904\u7406\u5668"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"-\u4e30\u5bcc\u7684\u6d4b\u8bd5\u529f\u80fd",children:"\ud83e\uddea \u4e30\u5bcc\u7684\u6d4b\u8bd5\u529f\u80fd"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Jest \u517c\u5bb9 API"}),"\uff1a\u53ef\u4ee5\u65e0\u7f1d\u8fc1\u79fb Jest \u6d4b\u8bd5"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u5feb\u7167\u6d4b\u8bd5"}),"\uff1a\u652f\u6301\u5feb\u7167\u6d4b\u8bd5\u548c\u5185\u8054\u5feb\u7167"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u6a21\u62df\u529f\u80fd"}),"\uff1a\u5f3a\u5927\u7684 Mock \u548c Spy \u529f\u80fd"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u8986\u76d6\u7387\u62a5\u544a"}),"\uff1a\u5185\u7f6e\u4ee3\u7801\u8986\u76d6\u7387\u7edf\u8ba1"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u5b89\u88c5\u548c\u8bbe\u7f6e",children:"\u5b89\u88c5\u548c\u8bbe\u7f6e"}),"\n",(0,t.jsx)(n.h3,{id:"\u57fa\u7840\u5b89\u88c5",children:"\u57fa\u7840\u5b89\u88c5"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# \u4f7f\u7528 npm\r\nnpm install -D vitest\r\n\r\n# \u4f7f\u7528 pnpm\r\npnpm add -D vitest\r\n\r\n# \u4f7f\u7528 yarn\r\nyarn add -D vitest\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u914d\u7f6e\u6587\u4ef6",children:"\u914d\u7f6e\u6587\u4ef6"}),"\n",(0,t.jsxs)(n.p,{children:["\u521b\u5efa ",(0,t.jsx)(n.code,{children:"vitest.config.ts"}),"\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import { defineConfig } from 'vitest/config'\r\n\r\nexport default defineConfig({\r\n  test: {\r\n    // \u6d4b\u8bd5\u73af\u5883\r\n    environment: 'jsdom', // \u6216 'node', 'happy-dom'\r\n    \r\n    // \u5168\u5c40\u8bbe\u7f6e\r\n    globals: true,\r\n    \r\n    // \u6d4b\u8bd5\u6587\u4ef6\u5339\u914d\u6a21\u5f0f\r\n    include: ['**/*.{test,spec}.{js,mjs,cjs,ts,mts,cts,jsx,tsx}'],\r\n    \r\n    // \u8986\u76d6\u7387\u914d\u7f6e\r\n    coverage: {\r\n      provider: 'v8',\r\n      reporter: ['text', 'json', 'html']\r\n    }\r\n  }\r\n})\n"})}),"\n",(0,t.jsx)(n.h3,{id:"packagejson-\u811a\u672c",children:"package.json \u811a\u672c"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\r\n  "scripts": {\r\n    "test": "vitest",\r\n    "test:run": "vitest run",\r\n    "test:coverage": "vitest --coverage",\r\n    "test:ui": "vitest --ui"\r\n  }\r\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"\u57fa\u672c\u7528\u6cd5",children:"\u57fa\u672c\u7528\u6cd5"}),"\n",(0,t.jsx)(n.h3,{id:"\u7b80\u5355\u6d4b\u8bd5\u793a\u4f8b",children:"\u7b80\u5355\u6d4b\u8bd5\u793a\u4f8b"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// math.js\r\nexport function add(a, b) {\r\n  return a + b\r\n}\r\n\r\nexport function multiply(a, b) {\r\n  return a * b\r\n}\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// math.test.js\r\nimport { describe, it, expect } from 'vitest'\r\nimport { add, multiply } from './math.js'\r\n\r\ndescribe('Math functions', () => {\r\n  it('should add two numbers correctly', () => {\r\n    expect(add(2, 3)).toBe(5)\r\n    expect(add(-1, 1)).toBe(0)\r\n  })\r\n\r\n  it('should multiply two numbers correctly', () => {\r\n    expect(multiply(3, 4)).toBe(12)\r\n    expect(multiply(0, 5)).toBe(0)\r\n  })\r\n})\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u5f02\u6b65\u6d4b\u8bd5",children:"\u5f02\u6b65\u6d4b\u8bd5"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"import { describe, it, expect } from 'vitest'\r\n\r\n// \u6d4b\u8bd5 Promise\r\ndescribe('Async tests', () => {\r\n  it('should handle promises', async () => {\r\n    const result = await fetchUserData(1)\r\n    expect(result.name).toBe('John Doe')\r\n  })\r\n\r\n  it('should handle async/await', async () => {\r\n    await expect(asyncFunction()).resolves.toBe('success')\r\n  })\r\n\r\n  it('should handle rejections', async () => {\r\n    await expect(failingFunction()).rejects.toThrow('Error message')\r\n  })\r\n})\n"})}),"\n",(0,t.jsx)(n.h3,{id:"mock-\u529f\u80fd",children:"Mock \u529f\u80fd"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"import { describe, it, expect, vi } from 'vitest'\r\nimport { getUserData } from './api.js'\r\n\r\n// Mock \u6a21\u5757\r\nvi.mock('./api.js', () => ({\r\n  getUserData: vi.fn()\r\n}))\r\n\r\ndescribe('Mock tests', () => {\r\n  it('should mock function calls', () => {\r\n    // \u8bbe\u7f6e mock \u8fd4\u56de\u503c\r\n    getUserData.mockResolvedValue({ id: 1, name: 'John' })\r\n    \r\n    // \u6d4b\u8bd5\r\n    const result = await getUserData(1)\r\n    expect(result.name).toBe('John')\r\n    expect(getUserData).toHaveBeenCalledWith(1)\r\n  })\r\n})\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u9ad8\u7ea7\u529f\u80fd",children:"\u9ad8\u7ea7\u529f\u80fd"}),"\n",(0,t.jsx)(n.h3,{id:"\u6d4b\u8bd5\u73af\u5883\u914d\u7f6e",children:"\u6d4b\u8bd5\u73af\u5883\u914d\u7f6e"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// vitest.config.ts\r\nexport default defineConfig({\r\n  test: {\r\n    // DOM \u6d4b\u8bd5\u73af\u5883\r\n    environment: 'jsdom',\r\n    \r\n    // \u73af\u5883\u9009\u9879\r\n    environmentOptions: {\r\n      jsdom: {\r\n        resources: 'usable'\r\n      }\r\n    },\r\n    \r\n    // \u8bbe\u7f6e\u6587\u4ef6\r\n    setupFiles: ['./tests/setup.ts']\r\n  }\r\n})\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u5feb\u7167\u6d4b\u8bd5",children:"\u5feb\u7167\u6d4b\u8bd5"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"import { describe, it, expect } from 'vitest'\r\nimport { render } from '@testing-library/react'\r\nimport Component from './Component.jsx'\r\n\r\ndescribe('Component', () => {\r\n  it('should match snapshot', () => {\r\n    const { container } = render(<Component name=\"John\" />)\r\n    expect(container.firstChild).toMatchSnapshot()\r\n  })\r\n\r\n  it('should match inline snapshot', () => {\r\n    expect(formatName('john doe')).toMatchInlineSnapshot('\"John Doe\"')\r\n  })\r\n})\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u6d4b\u8bd5\u8986\u76d6\u7387",children:"\u6d4b\u8bd5\u8986\u76d6\u7387"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# \u8fd0\u884c\u8986\u76d6\u7387\u6d4b\u8bd5\r\nvitest --coverage\r\n\r\n# \u6307\u5b9a\u8986\u76d6\u7387\u9608\u503c\r\nvitest --coverage --coverage.statements=80\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u4e0e\u5176\u4ed6\u6d4b\u8bd5\u6846\u67b6\u5bf9\u6bd4",children:"\u4e0e\u5176\u4ed6\u6d4b\u8bd5\u6846\u67b6\u5bf9\u6bd4"}),"\n",(0,t.jsx)(n.h3,{id:"vitest-vs-jest",children:"Vitest vs Jest"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u7279\u6027"}),(0,t.jsx)(n.th,{children:"Vitest"}),(0,t.jsx)(n.th,{children:"Jest"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u542f\u52a8\u901f\u5ea6"}),(0,t.jsx)(n.td,{children:"\u26a1 \u6781\u5feb"}),(0,t.jsx)(n.td,{children:"\ud83d\udc0c \u8f83\u6162"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"ESM \u652f\u6301"}),(0,t.jsx)(n.td,{children:"\u2705 \u539f\u751f\u652f\u6301"}),(0,t.jsx)(n.td,{children:"\u26a0\ufe0f \u9700\u8981\u914d\u7f6e"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"TypeScript"}),(0,t.jsx)(n.td,{children:"\u2705 \u5f00\u7bb1\u5373\u7528"}),(0,t.jsx)(n.td,{children:"\u26a0\ufe0f \u9700\u8981\u914d\u7f6e"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u914d\u7f6e\u590d\u6742\u5ea6"}),(0,t.jsx)(n.td,{children:"\ud83d\udfe2 \u7b80\u5355"}),(0,t.jsx)(n.td,{children:"\ud83d\udfe1 \u4e2d\u7b49"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u751f\u6001\u7cfb\u7edf"}),(0,t.jsx)(n.td,{children:"\ud83d\udfe1 \u65b0\u5174"}),(0,t.jsx)(n.td,{children:"\ud83d\udfe2 \u6210\u719f"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"\u8fc1\u79fb\u6307\u5357",children:"\u8fc1\u79fb\u6307\u5357"}),"\n",(0,t.jsx)(n.p,{children:"\u4ece Jest \u8fc1\u79fb\u5230 Vitest\uff1a"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u5b89\u88c5 Vitest"}),"\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm uninstall jest\r\nnpm install -D vitest\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u66f4\u65b0\u5bfc\u5165"}),"\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// \u4ece\r\nimport { test, expect } from '@jest/globals'\r\n\r\n// \u6539\u4e3a\r\nimport { test, expect } from 'vitest'\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u914d\u7f6e\u8f6c\u6362"}),"\uff1a\r\n\u5927\u90e8\u5206 Jest \u914d\u7f6e\u53ef\u4ee5\u76f4\u63a5\u5728 ",(0,t.jsx)(n.code,{children:"vitest.config.ts"})," \u4e2d\u4f7f\u7528"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u5b9e\u8df5\u5efa\u8bae",children:"\u5b9e\u8df5\u5efa\u8bae"}),"\n",(0,t.jsx)(n.h3,{id:"\u9879\u76ee\u7ed3\u6784",children:"\u9879\u76ee\u7ed3\u6784"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"src/\r\n\u251c\u2500\u2500 components/\r\n\u2502   \u251c\u2500\u2500 Button.tsx\r\n\u2502   \u2514\u2500\u2500 Button.test.tsx\r\n\u251c\u2500\u2500 utils/\r\n\u2502   \u251c\u2500\u2500 helpers.ts\r\n\u2502   \u2514\u2500\u2500 helpers.test.ts\r\n\u2514\u2500\u2500 __tests__/\r\n    \u251c\u2500\u2500 setup.ts\r\n    \u2514\u2500\u2500 integration/\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u6d4b\u8bd5\u7b56\u7565",children:"\u6d4b\u8bd5\u7b56\u7565"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u5355\u5143\u6d4b\u8bd5"}),"\uff1a\u6d4b\u8bd5\u72ec\u7acb\u7684\u51fd\u6570\u548c\u7ec4\u4ef6"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u96c6\u6210\u6d4b\u8bd5"}),"\uff1a\u6d4b\u8bd5\u7ec4\u4ef6\u95f4\u7684\u4ea4\u4e92"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"\u7aef\u5230\u7aef\u6d4b\u8bd5"}),"\uff1a\u7ed3\u5408 Playwright \u6216 Cypress"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"\u6027\u80fd\u4f18\u5316",children:"\u6027\u80fd\u4f18\u5316"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// vitest.config.ts\r\nexport default defineConfig({\r\n  test: {\r\n    // \u5e76\u884c\u8fd0\u884c\r\n    pool: 'threads',\r\n    poolOptions: {\r\n      threads: {\r\n        singleThread: false\r\n      }\r\n    },\r\n    \r\n    // \u6587\u4ef6\u5e76\u884c\r\n    fileParallelism: true,\r\n    \r\n    // \u9694\u79bb\u63a7\u5236\r\n    isolate: false // \u8c28\u614e\u4f7f\u7528\uff0c\u53ef\u80fd\u5f71\u54cd\u6d4b\u8bd5\u72ec\u7acb\u6027\r\n  }\r\n})\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u5e38\u7528\u63d2\u4ef6\u548c\u5de5\u5177",children:"\u5e38\u7528\u63d2\u4ef6\u548c\u5de5\u5177"}),"\n",(0,t.jsx)(n.h3,{id:"ui-\u754c\u9762",children:"UI \u754c\u9762"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install -D @vitest/ui\r\nvitest --ui\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u6d4f\u89c8\u5668\u6d4b\u8bd5",children:"\u6d4f\u89c8\u5668\u6d4b\u8bd5"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install -D @vitest/browser playwright\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u8986\u76d6\u7387\u589e\u5f3a",children:"\u8986\u76d6\u7387\u589e\u5f3a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install -D @vitest/coverage-v8\r\n# \u6216\r\nnpm install -D @vitest/coverage-istanbul\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,t.jsx)(n.p,{children:"Vitest \u662f\u73b0\u4ee3\u524d\u7aef\u5f00\u53d1\u7684\u7406\u60f3\u6d4b\u8bd5\u89e3\u51b3\u65b9\u6848\uff0c\u7279\u522b\u9002\u5408\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\ud83d\udd25 ",(0,t.jsx)(n.strong,{children:"Vite \u9879\u76ee"}),"\uff1a\u5929\u7136\u96c6\u6210\uff0c\u96f6\u914d\u7f6e\u542f\u52a8"]}),"\n",(0,t.jsxs)(n.li,{children:["\u26a1 ",(0,t.jsx)(n.strong,{children:"\u6ce8\u91cd\u901f\u5ea6\u7684\u9879\u76ee"}),"\uff1a\u6781\u5feb\u7684\u6d4b\u8bd5\u6267\u884c\u548c\u53cd\u9988"]}),"\n",(0,t.jsxs)(n.li,{children:["\ud83c\udfaf ",(0,t.jsx)(n.strong,{children:"TypeScript \u9879\u76ee"}),"\uff1a\u539f\u751f\u652f\u6301\uff0c\u65e0\u9700\u989d\u5916\u914d\u7f6e"]}),"\n",(0,t.jsxs)(n.li,{children:["\ud83d\udd04 ",(0,t.jsx)(n.strong,{children:"\u4ece Jest \u8fc1\u79fb"}),"\uff1aAPI \u517c\u5bb9\uff0c\u8fc1\u79fb\u6210\u672c\u4f4e"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u9009\u62e9 Vitest\uff0c\u8ba9\u6d4b\u8bd5\u53d8\u5f97\u66f4\u5feb\u3001\u66f4\u7b80\u5355\u3001\u66f4\u6109\u60a6\uff01"}),"\n",(0,t.jsx)(n.h2,{id:"\u76f8\u5173\u8d44\u6e90",children:"\u76f8\u5173\u8d44\u6e90"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://vitest.dev/",children:"Vitest \u5b98\u65b9\u6587\u6863"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://vitejs.dev/",children:"Vite \u5b98\u65b9\u6587\u6863"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://kentcdodds.com/blog/common-mistakes-with-react-testing-library",children:"\u6d4b\u8bd5\u6700\u4f73\u5b9e\u8df5"})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},54213:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>c});var s=r(36672);const t={},i=s.createContext(t);function l(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);