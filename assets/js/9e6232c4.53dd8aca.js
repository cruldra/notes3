"use strict";(self.webpackChunknotes_3=self.webpackChunknotes_3||[]).push([[87783],{54213:(e,t,s)=>{s.d(t,{R:()=>r,x:()=>d});var n=s(36672);const l={},i=n.createContext(l);function r(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),n.createElement(i.Provider,{value:t},e.children)}},75292:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>r,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"AI/\u63d0\u793a\u8bcd\u5de5\u7a0b/DSPy/API/\u4f18\u5316\u5668/GEPA","title":"GEPA","description":"GEPA (Genetic-Pareto) \u662f\u5728 \\"GEPA2507.19457) \u4e2d\u63d0\u51fa\u7684\u4e00\u79cd\u53cd\u5c04\u5f0f\u4f18\u5316\u5668\uff0c\u5b83\u81ea\u9002\u5e94\u5730\u8fdb\u5316\u4efb\u610f\u7cfb\u7edf\u7684\u6587\u672c\u7ec4\u4ef6\uff08\u4f8b\u5982\u63d0\u793a\u8bcd\uff09\u3002\u9664\u4e86\u6307\u6807\u8fd4\u56de\u7684\u6807\u91cf\u5206\u6570\u5916\uff0c\u7528\u6237\u8fd8\u53ef\u4ee5\u5411 GEPA \u63d0\u4f9b\u6587\u672c\u53cd\u9988\u4ee5\u6307\u5bfc\u4f18\u5316\u8fc7\u7a0b\u3002\u8fd9\u79cd\u6587\u672c\u53cd\u9988\u4f7f GEPA \u66f4\u6e05\u695a\u5730\u4e86\u89e3\u7cfb\u7edf\u4e3a\u4f55\u83b7\u5f97\u8be5\u5206\u6570\uff0c\u7136\u540e GEPA \u53ef\u4ee5\u8fdb\u884c\u5185\u7701\u4ee5\u786e\u5b9a\u5982\u4f55\u63d0\u9ad8\u5206\u6570\u3002\u8fd9\u4f7f\u5f97 GEPA \u80fd\u591f\u5728\u6781\u5c11\u7684\u8f6e\u6b21\u4e2d\u63d0\u51fa\u9ad8\u6027\u80fd\u7684\u63d0\u793a\u8bcd\u3002","source":"@site/docs/AI/\u63d0\u793a\u8bcd\u5de5\u7a0b/DSPy/API/\u4f18\u5316\u5668/GEPA.md","sourceDirName":"AI/\u63d0\u793a\u8bcd\u5de5\u7a0b/DSPy/API/\u4f18\u5316\u5668","slug":"/AI/\u63d0\u793a\u8bcd\u5de5\u7a0b/DSPy/API/\u4f18\u5316\u5668/GEPA","permalink":"/notes3/docs/AI/\u63d0\u793a\u8bcd\u5de5\u7a0b/DSPy/API/\u4f18\u5316\u5668/GEPA","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/AI/\u63d0\u793a\u8bcd\u5de5\u7a0b/DSPy/API/\u4f18\u5316\u5668/GEPA.md","tags":[],"version":"current","frontMatter":{},"sidebar":"ai","previous":{"title":"BootstrapFinetune","permalink":"/notes3/docs/AI/\u63d0\u793a\u8bcd\u5de5\u7a0b/DSPy/API/\u4f18\u5316\u5668/BootstrapFinetune"},"next":{"title":"\u5404\u4e2a\u4f18\u5316\u5668\u4e4b\u95f4\u7684\u533a\u522b\u53ca\u9002\u7528\u573a\u666f","permalink":"/notes3/docs/AI/\u63d0\u793a\u8bcd\u5de5\u7a0b/DSPy/API/\u4f18\u5316\u5668/\u5404\u4e2a\u4f18\u5316\u5668\u4e4b\u95f4\u7684\u533a\u522b\u53ca\u9002\u7528\u573a\u666f"}}');var l=s(23420),i=s(54213);const r={},d=void 0,c={},a=[{value:"<code>dspy.GEPA(metric: GEPAFeedbackMetric, *, auto: Literal[&#39;light&#39;, &#39;medium&#39;, &#39;heavy&#39;] | None = None, max_full_evals: int | None = None, max_metric_calls: int | None = None, reflection_minibatch_size: int = 3, candidate_selection_strategy: Literal[&#39;pareto&#39;, &#39;current_best&#39;] = &#39;pareto&#39;, reflection_lm: LM | None = None, skip_perfect_score: bool = True, add_format_failure_as_feedback: bool = False, instruction_proposer: ProposalFn | None = None, component_selector: ReflectionComponentSelector | str = &#39;round_robin&#39;, use_merge: bool = True, max_merge_invocations: int | None = 5, num_threads: int | None = None, failure_score: float = 0.0, perfect_score: float = 1.0, log_dir: str | None = None, track_stats: bool = False, use_wandb: bool = False, wandb_api_key: str | None = None, wandb_init_kwargs: dict[str, Any] | None = None, track_best_outputs: bool = False, warn_on_score_mismatch: bool = True, enable_tool_optimization: bool = False, use_mlflow: bool = False, seed: int | None = 0, gepa_kwargs: dict | None = None)</code> \xb6",id:"dspygepametric-gepafeedbackmetric--auto-literallight-medium-heavy--none--none-max_full_evals-int--none--none-max_metric_calls-int--none--none-reflection_minibatch_size-int--3-candidate_selection_strategy-literalpareto-current_best--pareto-reflection_lm-lm--none--none-skip_perfect_score-bool--true-add_format_failure_as_feedback-bool--false-instruction_proposer-proposalfn--none--none-component_selector-reflectioncomponentselector--str--round_robin-use_merge-bool--true-max_merge_invocations-int--none--5-num_threads-int--none--none-failure_score-float--00-perfect_score-float--10-log_dir-str--none--none-track_stats-bool--false-use_wandb-bool--false-wandb_api_key-str--none--none-wandb_init_kwargs-dictstr-any--none--none-track_best_outputs-bool--false-warn_on_score_mismatch-bool--true-enable_tool_optimization-bool--false-use_mlflow-bool--false-seed-int--none--0-gepa_kwargs-dict--none--none-",level:2},{value:"\u65b9\u6cd5\xb6",id:"\u65b9\u6cd5",level:3},{value:"<code>auto_budget(num_preds, num_candidates, valset_size: int, minibatch_size: int = 35, full_eval_steps: int = 5) -&gt; int</code> \xb6",id:"auto_budgetnum_preds-num_candidates-valset_size-int-minibatch_size-int--35-full_eval_steps-int--5---int-",level:4},{value:"<code>compile(student: Module, *, trainset: list[Example], teacher: Module | None = None, valset: list[Example] | None = None) -&gt; Module</code> \xb6",id:"compilestudent-module--trainset-listexample-teacher-module--none--none-valset-listexample--none--none---module-",level:4},{value:"<code>get_params() -&gt; dict[str, Any]</code> \xb6",id:"get_params---dictstr-any-",level:4},{value:"<code>dspy.teleprompt.gepa.gepa.GEPAFeedbackMetric</code> \xb6",id:"dspytelepromptgepagepagepafeedbackmetric-",level:2},{value:"\u65b9\u6cd5\xb6",id:"\u65b9\u6cd5-1",level:3},{value:"<code>__call__(gold: Example, pred: Prediction, trace: Optional[DSPyTrace], pred_name: str | None, pred_trace: Optional[DSPyTrace]) -&gt; Union[float, ScoreWithFeedback]</code> \xb6",id:"__call__gold-example-pred-prediction-trace-optionaldspytrace-pred_name-str--none-pred_trace-optionaldspytrace---unionfloat-scorewithfeedback-",level:4},{value:"<code>dspy.teleprompt.gepa.gepa.DspyGEPAResult(candidates: list[Module], parents: list[list[int | None]], val_aggregate_scores: list[float], val_subscores: list[list[float]], per_val_instance_best_candidates: list[set[int]], discovery_eval_counts: list[int], best_outputs_valset: list[list[tuple[int, list[Prediction]]]] | None = None, total_metric_calls: int | None = None, num_full_val_evals: int | None = None, log_dir: str | None = None, seed: int | None = None)</code> <code>dataclass</code> \xb6",id:"dspytelepromptgepagepadspygeparesultcandidates-listmodule-parents-listlistint--none-val_aggregate_scores-listfloat-val_subscores-listlistfloat-per_val_instance_best_candidates-listsetint-discovery_eval_counts-listint-best_outputs_valset-listlisttupleint-listprediction--none--none-total_metric_calls-int--none--none-num_full_val_evals-int--none--none-log_dir-str--none--none-seed-int--none--none-dataclass-",level:2},{value:"\u5c5e\u6027\xb6",id:"\u5c5e\u6027",level:3},{value:"<code>candidates: list[Module]</code> <code>instance-attribute</code> \xb6",id:"candidates-listmodule-instance-attribute-",level:4},{value:"<code>parents: list[list[int | None]]</code> <code>instance-attribute</code> \xb6",id:"parents-listlistint--none-instance-attribute-",level:4},{value:"<code>val_aggregate_scores: list[float]</code> <code>instance-attribute</code> \xb6",id:"val_aggregate_scores-listfloat-instance-attribute-",level:4},{value:"<code>val_subscores: list[list[float]]</code> <code>instance-attribute</code> \xb6",id:"val_subscores-listlistfloat-instance-attribute-",level:4},{value:"<code>per_val_instance_best_candidates: list[set[int]]</code> <code>instance-attribute</code> \xb6",id:"per_val_instance_best_candidates-listsetint-instance-attribute-",level:4},{value:"<code>discovery_eval_counts: list[int]</code> <code>instance-attribute</code> \xb6",id:"discovery_eval_counts-listint-instance-attribute-",level:4},{value:"<code>best_outputs_valset: list[list[tuple[int, list[Prediction]]]] | None = None</code> <code>class-attribute</code> <code>instance-attribute</code> \xb6",id:"best_outputs_valset-listlisttupleint-listprediction--none--none-class-attribute-instance-attribute-",level:4},{value:"<code>total_metric_calls: int | None = None</code> <code>class-attribute</code> <code>instance-attribute</code> \xb6",id:"total_metric_calls-int--none--none-class-attribute-instance-attribute-",level:4},{value:"<code>num_full_val_evals: int | None = None</code> <code>class-attribute</code> <code>instance-attribute</code> \xb6",id:"num_full_val_evals-int--none--none-class-attribute-instance-attribute-",level:4},{value:"<code>log_dir: str | None = None</code> <code>class-attribute</code> <code>instance-attribute</code> \xb6",id:"log_dir-str--none--none-class-attribute-instance-attribute-",level:4},{value:"<code>seed: int | None = None</code> <code>class-attribute</code> <code>instance-attribute</code> \xb6",id:"seed-int--none--none-class-attribute-instance-attribute-",level:4},{value:"<code>best_idx: int</code> <code>property</code> \xb6",id:"best_idx-int-property-",level:4},{value:"<code>best_candidate: dict[str, str]</code> <code>property</code> \xb6",id:"best_candidate-dictstr-str-property-",level:4},{value:"<code>highest_score_achieved_per_val_task: list[float]</code> <code>property</code> \xb6",id:"highest_score_achieved_per_val_task-listfloat-property-",level:4},{value:"\u65b9\u6cd5\xb6",id:"\u65b9\u6cd5-2",level:3},{value:"<code>to_dict() -&gt; dict[str, Any]</code> \xb6",id:"to_dict---dictstr-any-",level:4},{value:"<code>from_gepa_result(gepa_result: GEPAResult, adapter: DspyAdapter) -&gt; DspyGEPAResult</code> <code>staticmethod</code> \xb6",id:"from_gepa_resultgepa_result-geparesult-adapter-dspyadapter---dspygeparesult-staticmethod-",level:4},{value:"\u4f7f\u7528\u793a\u4f8b\xb6",id:"\u4f7f\u7528\u793a\u4f8b",level:2},{value:"\u63a8\u7406\u65f6\u641c\u7d22\xb6",id:"\u63a8\u7406\u65f6\u641c\u7d22",level:3},{value:"GEPA \u5982\u4f55\u5de5\u4f5c\uff1f\xb6",id:"gepa-\u5982\u4f55\u5de5\u4f5c",level:2},{value:"1. <strong>\u53cd\u5c04\u6027\u63d0\u793a\u8bcd\u53d8\u5f02</strong>\xb6",id:"1-\u53cd\u5c04\u6027\u63d0\u793a\u8bcd\u53d8\u5f02",level:3},{value:"2. <strong>\u4e30\u5bcc\u7684\u6587\u672c\u53cd\u9988\u4f5c\u4e3a\u4f18\u5316\u4fe1\u53f7</strong>\xb6",id:"2-\u4e30\u5bcc\u7684\u6587\u672c\u53cd\u9988\u4f5c\u4e3a\u4f18\u5316\u4fe1\u53f7",level:3},{value:"3. <strong>\u57fa\u4e8e Pareto \u7684\u5019\u9009\u8005\u9009\u62e9</strong>\xb6",id:"3-\u57fa\u4e8e-pareto-\u7684\u5019\u9009\u8005\u9009\u62e9",level:3},{value:"\u7b97\u6cd5\u6458\u8981\xb6",id:"\u7b97\u6cd5\u6458\u8981",level:3},{value:"\u5b9e\u73b0\u53cd\u9988\u6307\u6807\xb6",id:"\u5b9e\u73b0\u53cd\u9988\u6307\u6807",level:2},{value:"\u793a\u4f8b\xb6",id:"\u793a\u4f8b",level:3},{value:"\u4f7f\u7528 GEPA \u8fdb\u884c\u5de5\u5177\u4f18\u5316\xb6",id:"\u4f7f\u7528-gepa-\u8fdb\u884c\u5de5\u5177\u4f18\u5316",level:2},{value:"\u81ea\u5b9a\u4e49\u6307\u4ee4\u63d0\u8bae\xb6",id:"\u81ea\u5b9a\u4e49\u6307\u4ee4\u63d0\u8bae",level:2},{value:"\u5ef6\u4f38\u9605\u8bfb\xb6",id:"\u5ef6\u4f38\u9605\u8bfb",level:2}];function o(e){const t={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(t.p,{children:[(0,l.jsx)(t.strong,{children:"GEPA"}),' (Genetic-Pareto) \u662f\u5728 "GEPA: Reflective Prompt Evolution Can Outperform Reinforcement Learning" (Agrawal et al., 2025, ',(0,l.jsx)(t.a,{href:"https://arxiv.org/abs/2507.19457",children:"arxiv:2507.19457"}),") \u4e2d\u63d0\u51fa\u7684\u4e00\u79cd\u53cd\u5c04\u5f0f\u4f18\u5316\u5668\uff0c\u5b83\u81ea\u9002\u5e94\u5730\u8fdb\u5316\u4efb\u610f\u7cfb\u7edf\u7684",(0,l.jsx)(t.em,{children:"\u6587\u672c\u7ec4\u4ef6"}),"\uff08\u4f8b\u5982\u63d0\u793a\u8bcd\uff09\u3002\u9664\u4e86\u6307\u6807\u8fd4\u56de\u7684\u6807\u91cf\u5206\u6570\u5916\uff0c\u7528\u6237\u8fd8\u53ef\u4ee5\u5411 GEPA \u63d0\u4f9b\u6587\u672c\u53cd\u9988\u4ee5\u6307\u5bfc\u4f18\u5316\u8fc7\u7a0b\u3002\u8fd9\u79cd\u6587\u672c\u53cd\u9988\u4f7f GEPA \u66f4\u6e05\u695a\u5730\u4e86\u89e3\u7cfb\u7edf\u4e3a\u4f55\u83b7\u5f97\u8be5\u5206\u6570\uff0c\u7136\u540e GEPA \u53ef\u4ee5\u8fdb\u884c\u5185\u7701\u4ee5\u786e\u5b9a\u5982\u4f55\u63d0\u9ad8\u5206\u6570\u3002\u8fd9\u4f7f\u5f97 GEPA \u80fd\u591f\u5728\u6781\u5c11\u7684\u8f6e\u6b21\u4e2d\u63d0\u51fa\u9ad8\u6027\u80fd\u7684\u63d0\u793a\u8bcd\u3002"]}),"\n",(0,l.jsxs)(t.h2,{id:"dspygepametric-gepafeedbackmetric--auto-literallight-medium-heavy--none--none-max_full_evals-int--none--none-max_metric_calls-int--none--none-reflection_minibatch_size-int--3-candidate_selection_strategy-literalpareto-current_best--pareto-reflection_lm-lm--none--none-skip_perfect_score-bool--true-add_format_failure_as_feedback-bool--false-instruction_proposer-proposalfn--none--none-component_selector-reflectioncomponentselector--str--round_robin-use_merge-bool--true-max_merge_invocations-int--none--5-num_threads-int--none--none-failure_score-float--00-perfect_score-float--10-log_dir-str--none--none-track_stats-bool--false-use_wandb-bool--false-wandb_api_key-str--none--none-wandb_init_kwargs-dictstr-any--none--none-track_best_outputs-bool--false-warn_on_score_mismatch-bool--true-enable_tool_optimization-bool--false-use_mlflow-bool--false-seed-int--none--0-gepa_kwargs-dict--none--none-",children:[(0,l.jsx)(t.code,{children:"dspy.GEPA(metric: GEPAFeedbackMetric, *, auto: Literal['light', 'medium', 'heavy'] | None = None, max_full_evals: int | None = None, max_metric_calls: int | None = None, reflection_minibatch_size: int = 3, candidate_selection_strategy: Literal['pareto', 'current_best'] = 'pareto', reflection_lm: LM | None = None, skip_perfect_score: bool = True, add_format_failure_as_feedback: bool = False, instruction_proposer: ProposalFn | None = None, component_selector: ReflectionComponentSelector | str = 'round_robin', use_merge: bool = True, max_merge_invocations: int | None = 5, num_threads: int | None = None, failure_score: float = 0.0, perfect_score: float = 1.0, log_dir: str | None = None, track_stats: bool = False, use_wandb: bool = False, wandb_api_key: str | None = None, wandb_init_kwargs: dict[str, Any] | None = None, track_best_outputs: bool = False, warn_on_score_mismatch: bool = True, enable_tool_optimization: bool = False, use_mlflow: bool = False, seed: int | None = 0, gepa_kwargs: dict | None = None)"})," ",(0,l.jsx)(t.a,{href:"#dspy.GEPA",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.p,{children:["\u57fa\u7c7b: ",(0,l.jsx)(t.code,{children:"Teleprompter"})]}),"\n",(0,l.jsxs)(t.p,{children:["GEPA \u662f\u4e00\u4e2a\u8fdb\u5316\u4f18\u5316\u5668\uff0c\u5b83\u4f7f\u7528\u53cd\u5c04\u6765\u8fdb\u5316\u590d\u6742\u7cfb\u7edf\u7684\u6587\u672c\u7ec4\u4ef6\u3002GEPA \u5728\u8bba\u6587 ",(0,l.jsx)(t.a,{href:"https://arxiv.org/abs/2507.19457",children:"GEPA: Reflective Prompt Evolution Can Outperform Reinforcement Learning"})," \u4e2d\u63d0\u51fa\u3002\nGEPA \u4f18\u5316\u5f15\u64ce\u7531 ",(0,l.jsx)(t.code,{children:"gepa"})," \u5305\u63d0\u4f9b\uff0c\u53ef\u4ece ",(0,l.jsx)(t.code,{children:"https://github.com/gepa-ai/gepa"})," \u83b7\u53d6\u3002"]}),"\n",(0,l.jsx)(t.p,{children:"GEPA \u6355\u83b7 DSPy \u6a21\u5757\u6267\u884c\u7684\u5b8c\u6574\u8f68\u8ff9\uff0c\u8bc6\u522b\u4e0e\u7279\u5b9a\u9884\u6d4b\u5668\u5bf9\u5e94\u7684\u8f68\u8ff9\u90e8\u5206\uff0c\u5e76\u53cd\u601d\u9884\u6d4b\u5668\u7684\u884c\u4e3a\u4ee5\u4e3a\u9884\u6d4b\u5668\u63d0\u51fa\u65b0\u7684\u6307\u4ee4\u3002GEPA \u5141\u8bb8\u7528\u6237\u5411\u4f18\u5316\u5668\u63d0\u4f9b\u6587\u672c\u53cd\u9988\uff0c\u7528\u4e8e\u6307\u5bfc\u9884\u6d4b\u5668\u7684\u8fdb\u5316\u3002\u6587\u672c\u53cd\u9988\u53ef\u4ee5\u5728\u5355\u4e2a\u9884\u6d4b\u5668\u7684\u7c92\u5ea6\u4e0a\u63d0\u4f9b\uff0c\u4e5f\u53ef\u4ee5\u5728\u6574\u4e2a\u7cfb\u7edf\u7684\u6267\u884c\u7ea7\u522b\u4e0a\u63d0\u4f9b\u3002"}),"\n",(0,l.jsx)(t.p,{children:"\u8981\u5411 GEPA \u4f18\u5316\u5668\u63d0\u4f9b\u53cd\u9988\uff0c\u8bf7\u6309\u5982\u4e0b\u65b9\u5f0f\u5b9e\u73b0\u4e00\u4e2a\u6307\u6807\uff1a"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{children:'def metric(\n    gold: Example,\n    pred: Prediction,\n    trace: Optional[DSPyTrace] = None,\n    pred_name: Optional[str] = None,\n    pred_trace: Optional[DSPyTrace] = None,\n) -> float | ScoreWithFeedback:\n    """\n    \u6b64\u51fd\u6570\u4f7f\u7528\u4ee5\u4e0b\u53c2\u6570\u8c03\u7528\uff1a\n    - gold: \u9ec4\u91d1\u793a\u4f8b\uff08\u6807\u51c6\u7b54\u6848\uff09\u3002\n    - pred: \u9884\u6d4b\u8f93\u51fa\u3002\n    - trace: \u53ef\u9009\u3002\u7a0b\u5e8f\u6267\u884c\u7684\u8f68\u8ff9\u3002\n    - pred_name: \u53ef\u9009\u3002GEPA \u5f53\u524d\u6b63\u5728\u4f18\u5316\u7684\u76ee\u6807\u9884\u6d4b\u5668\u7684\u540d\u79f0\uff0c\u6b63\u5728\u4e3a\u5176\u8bf7\u6c42\u53cd\u9988\u3002\n    - pred_trace: \u53ef\u9009\u3002GEPA \u6b63\u5728\u5bfb\u6c42\u53cd\u9988\u7684\u76ee\u6807\u9884\u6d4b\u5668\u7684\u6267\u884c\u8f68\u8ff9\u3002\n\n    \u6ce8\u610f `pred_name` \u548c `pred_trace` \u53c2\u6570\u3002\u5728\u4f18\u5316\u8fc7\u7a0b\u4e2d\uff0cGEPA \u5c06\u8c03\u7528\u6307\u6807\u4ee5\u83b7\u53d6\u6b63\u5728\u4f18\u5316\u7684\u5355\u4e2a\u9884\u6d4b\u5668\u7684\u53cd\u9988\u3002\n    GEPA \u5728 `pred_name` \u4e2d\u63d0\u4f9b\u9884\u6d4b\u5668\u7684\u540d\u79f0\uff0c\u5728 `pred_trace` \u4e2d\u63d0\u4f9b\u5bf9\u5e94\u4e8e\u9884\u6d4b\u5668\u7684\u5b50\u8f68\u8ff9\uff08\u8f68\u8ff9\u7684\u4e00\u90e8\u5206\uff09\u3002\n    \u5982\u679c\u5728\u9884\u6d4b\u5668\u7ea7\u522b\u53ef\u7528\uff0c\u6307\u6807\u5e94\u8fd4\u56de\u5bf9\u5e94\u4e8e\u9884\u6d4b\u5668\u7684 `{\'score\': float, \'feedback\': str}`\u3002\n    \u5982\u679c\u5728\u9884\u6d4b\u5668\u7ea7\u522b\u4e0d\u53ef\u7528\uff0c\u6307\u6807\u4e5f\u53ef\u4ee5\u5728\u7a0b\u5e8f\u7ea7\u522b\u8fd4\u56de\u6587\u672c\u53cd\u9988\uff08\u4ec5\u4f7f\u7528 gold, pred \u548c trace\uff09\u3002\n    \u5982\u679c\u672a\u8fd4\u56de\u53cd\u9988\uff0cGEPA \u5c06\u4f7f\u7528\u4ec5\u5305\u542b\u5206\u6570\u7684\u7b80\u5355\u6587\u672c\u53cd\u9988\uff1a\n    `f"This trajectory got a score of {score}."`\n    """\n    ...\n\n'})}),"\n",(0,l.jsxs)(t.p,{children:["GEPA \u8fd8\u53ef\u4ee5\u7528\u4f5c\u6279\u91cf\u63a8\u7406\u65f6\u641c\u7d22\u7b56\u7565\uff0c\u65b9\u6cd5\u662f\u4f20\u9012 ",(0,l.jsx)(t.code,{children:"valset=trainset, track_stats=True, track_best_outputs=True"}),"\uff0c\u5e76\u4f7f\u7528\u4f18\u5316\u540e\u7684\u7a0b\u5e8f\uff08\u7531 ",(0,l.jsx)(t.code,{children:"compile"})," \u8fd4\u56de\uff09\u7684 ",(0,l.jsx)(t.code,{children:"detailed_results"})," \u5c5e\u6027\u6765\u83b7\u53d6\u6279\u6b21\u7684 Pareto \u524d\u6cbf\u3002",(0,l.jsx)(t.code,{children:"optimized_program.detailed_results.best_outputs_valset"})," \u5c06\u5305\u542b\u6279\u6b21\u4e2d\u6bcf\u4e2a\u4efb\u52a1\u7684\u6700\u4f73\u8f93\u51fa\u3002"]}),"\n",(0,l.jsx)(t.p,{children:"\u793a\u4f8b:"}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{children:"gepa = GEPA(metric=metric, track_stats=True)\nbatch_of_tasks = [dspy.Example(...) for task in tasks]\nnew_prog = gepa.compile(student, trainset=trainset, valset=batch_of_tasks)\npareto_frontier = new_prog.detailed_results.val_aggregate_scores\n# pareto_frontier \u662f\u4e00\u4e2a\u5206\u6570\u5217\u8868\uff0c\u6279\u6b21\u4e2d\u7684\u6bcf\u4e2a\u4efb\u52a1\u5bf9\u5e94\u4e00\u4e2a\u5206\u6570\u3002\n\n"})}),"\n",(0,l.jsx)(t.p,{children:"\u53c2\u6570:"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{children:"\u540d\u79f0"}),(0,l.jsx)(t.th,{children:"\u7c7b\u578b"}),(0,l.jsx)(t.th,{children:"\u63cf\u8ff0"}),(0,l.jsx)(t.th,{children:"\u9ed8\u8ba4\u503c"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"metric"})}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:'[GEPAFeedbackMetric](#dspy.teleprompt.gepa.gepa.GEPAFeedbackMetric "            dspy.teleprompt.gepa.gepa.GEPAFeedbackMetric")'})}),(0,l.jsx)(t.td,{children:"\u7528\u4e8e\u53cd\u9988\u548c\u8bc4\u4f30\u7684\u6307\u6807\u51fd\u6570\u3002"}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.em,{children:"\u5fc5\u586b"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"auto"})}),(0,l.jsx)(t.td,{children:"`Literal['light', 'medium', 'heavy']"}),(0,l.jsx)(t.td,{children:"None`"}),(0,l.jsx)(t.td,{children:'\u8fd0\u884c\u4f7f\u7528\u7684\u81ea\u52a8\u9884\u7b97\u3002\u9009\u9879: "light", "medium", "heavy"\u3002'})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"max_full_evals"})}),(0,l.jsx)(t.td,{children:"`int"}),(0,l.jsx)(t.td,{children:"None`"}),(0,l.jsx)(t.td,{children:"\u8981\u6267\u884c\u7684\u6700\u5927\u5b8c\u6574\u8bc4\u4f30\u6b21\u6570\u3002"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"max_metric_calls"})}),(0,l.jsx)(t.td,{children:"`int"}),(0,l.jsx)(t.td,{children:"None`"}),(0,l.jsx)(t.td,{children:"\u8981\u6267\u884c\u7684\u6700\u5927\u6307\u6807\u8c03\u7528\u6b21\u6570\u3002"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"reflection_minibatch_size"})}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"int"})}),(0,l.jsx)(t.td,{children:"\u5355\u4e2a GEPA \u6b65\u9aa4\u4e2d\u7528\u4e8e\u53cd\u5c04\u7684\u793a\u4f8b\u6570\u91cf\u3002\u9ed8\u8ba4\u4e3a 3\u3002"}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"3"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"candidate_selection_strategy"})}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"Literal['pareto', 'current_best']"})}),(0,l.jsx)(t.td,{children:'\u5019\u9009\u9009\u62e9\u7b56\u7565\u3002\u9ed8\u8ba4\u4e3a "pareto"\uff0c\u5b83\u4ece\u6240\u6709\u9a8c\u8bc1\u5206\u6570\u7684 Pareto \u524d\u6cbf\u968f\u673a\u9009\u62e9\u5019\u9009\u8005\u3002\u9009\u9879: "pareto", "current_best"\u3002'}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"'pareto'"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"reflection_lm"})}),(0,l.jsx)(t.td,{children:"`[LM](../../../models/LM/#dspy.LM \"              dspy.LM(model: str, model_type: Literal['chat', 'text', 'responses'] = 'chat', temperature: float"}),(0,l.jsx)(t.td,{children:"None = None, max_tokens: int"}),(0,l.jsx)(t.td,{children:"None = None, cache: bool = True, callbacks: list[BaseCallback]"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"skip_perfect_score"})}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"bool"})}),(0,l.jsx)(t.td,{children:"\u662f\u5426\u5728\u53cd\u5c04\u671f\u95f4\u8df3\u8fc7\u5177\u6709\u5b8c\u7f8e\u5206\u6570\u7684\u793a\u4f8b\u3002\u9ed8\u8ba4\u4e3a True\u3002"}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"True"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"instruction_proposer"})}),(0,l.jsx)(t.td,{children:"`ProposalFn"}),(0,l.jsx)(t.td,{children:"None`"}),(0,l.jsxs)(t.td,{children:["\u53ef\u9009\u7684\u81ea\u5b9a\u4e49\u6307\u4ee4\u63d0\u8bae\u8005\uff0c\u5b9e\u73b0 GEPA \u7684 ProposalFn \u534f\u8bae\u3002",(0,l.jsx)(t.strong,{children:"\u9ed8\u8ba4: None\uff08\u63a8\u8350\u5927\u591a\u6570\u7528\u6237\u4f7f\u7528\uff09"})," - \u4f7f\u7528\u6765\u81ea ",(0,l.jsx)(t.a,{href:"https://github.com/gepa-ai/gepa",children:"GEPA \u5e93"})," \u7684\u7ecf\u8fc7\u9a8c\u8bc1\u7684 GEPA \u6307\u4ee4\u63d0\u8bae\u8005\uff0c\u8be5\u63d0\u8bae\u8005\u5b9e\u73b0\u4e86 ",(0,l.jsx)(t.a,{href:"https://github.com/gepa-ai/gepa/blob/main/src/gepa/core/adapter.py",children:(0,l.jsx)(t.code,{children:"ProposalFn"})}),"\u3002\u6b64\u9ed8\u8ba4\u63d0\u8bae\u8005\u80fd\u529b\u5f88\u5f3a\uff0c\u5e76\u5728 GEPA \u8bba\u6587\u548c\u6559\u7a0b\u4e2d\u62a5\u544a\u7684\u5404\u79cd\u5b9e\u9a8c\u4e2d\u5f97\u5230\u4e86\u9a8c\u8bc1\u3002\u5728\u6b64\u5904\u67e5\u770b\u6709\u5173\u81ea\u5b9a\u4e49\u6307\u4ee4\u63d0\u8bae\u8005\u7684\u6587\u6863 ",(0,l.jsx)(t.a,{href:"https://dspy.ai/api/optimizers/GEPA/GEPA_Advanced/#custom-instruction-proposers",children:"\u8fd9\u91cc"}),"\u3002",(0,l.jsx)(t.strong,{children:"\u9ad8\u7ea7\u529f\u80fd"}),": \u4ec5\u5728\u7279\u5b9a\u573a\u666f\u4e0b\u9700\u8981\uff1a- ",(0,l.jsx)(t.strong,{children:"\u591a\u6a21\u6001\u5904\u7406"}),": \u5904\u7406 dspy.Image \u8f93\u5165\u4ee5\u53ca\u6587\u672c\u4fe1\u606f - ",(0,l.jsx)(t.strong,{children:"\u5bf9\u7ea6\u675f\u7684\u7ec6\u5fae\u63a7\u5236"}),": \u5bf9\u6307\u4ee4\u957f\u5ea6\u3001\u683c\u5f0f\u548c\u7ed3\u6784\u8981\u6c42\u8fdb\u884c\u7ec6\u7c92\u5ea6\u63a7\u5236\uff0c\u8d85\u51fa\u6807\u51c6\u53cd\u9988\u673a\u5236 - ",(0,l.jsx)(t.strong,{children:"\u7279\u5b9a\u9886\u57df\u77e5\u8bc6\u6ce8\u5165"}),": \u65e0\u6cd5\u4ec5\u901a\u8fc7 feedback_func \u63d0\u4f9b\u7684\u4e13\u4e1a\u672f\u8bed\u6216\u4e0a\u4e0b\u6587 - ",(0,l.jsx)(t.strong,{children:"\u7279\u5b9a\u63d0\u4f9b\u5546\u63d0\u793a"}),": \u9488\u5bf9\u7279\u5b9a LLM \u63d0\u4f9b\u5546\uff08OpenAI, Anthropic\uff09\u53ca\u5176\u72ec\u7279\u683c\u5f0f\u504f\u597d\u7684\u4f18\u5316 - ",(0,l.jsx)(t.strong,{children:"\u8026\u5408\u7ec4\u4ef6\u66f4\u65b0"}),": \u534f\u8c03\u591a\u4e2a\u7ec4\u4ef6\u7684\u66f4\u65b0\uff0c\u800c\u4e0d\u662f\u72ec\u7acb\u4f18\u5316 - ",(0,l.jsx)(t.strong,{children:"\u5916\u90e8\u77e5\u8bc6\u96c6\u6210"}),": \u8fd0\u884c\u65f6\u8bbf\u95ee\u6570\u636e\u5e93\u3001API \u6216\u77e5\u8bc6\u5e93\u3002\u9ed8\u8ba4\u63d0\u8bae\u8005\u6709\u6548\u5730\u5904\u7406\u7edd\u5927\u591a\u6570\u7528\u4f8b\u3002\u5bf9\u4e8e\u89c6\u89c9\u5185\u5bb9\uff0c\u4f7f\u7528 ",(0,l.jsx)(t.code,{children:"dspy.teleprompt.gepa.instruction_proposal"})," \u4e2d\u7684 ",(0,l.jsx)(t.code,{children:"MultiModalInstructionProposer()"}),"\uff0c\u6216\u8005\u4e3a\u9ad8\u5ea6\u4e13\u4e1a\u5316\u7684\u9700\u6c42\u5b9e\u73b0\u81ea\u5b9a\u4e49 ",(0,l.jsx)(t.code,{children:"ProposalFn"}),"\u3002\u6ce8\u610f\uff1a\u5f53\u540c\u65f6\u8bbe\u7f6e\u4e86 ",(0,l.jsx)(t.code,{children:"instruction_proposer"})," \u548c ",(0,l.jsx)(t.code,{children:"reflection_lm"})," \u65f6\uff0c",(0,l.jsx)(t.code,{children:"instruction_proposer"})," \u5728 ",(0,l.jsx)(t.code,{children:"reflection_lm"})," \u4e0a\u4e0b\u6587\u4e2d\u8c03\u7528\u3002\u4f46\u662f\uff0c\u4f7f\u7528\u81ea\u5b9a\u4e49 ",(0,l.jsx)(t.code,{children:"instruction_proposer"})," \u65f6\uff0c",(0,l.jsx)(t.code,{children:"reflection_lm"})," \u662f\u53ef\u9009\u7684\u3002\u5982\u679c\u9700\u8981\uff0c\u81ea\u5b9a\u4e49\u6307\u4ee4\u63d0\u8bae\u8005\u53ef\u4ee5\u8c03\u7528\u81ea\u5df1\u7684 LLM\u3002"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"component_selector"})}),(0,l.jsx)(t.td,{children:"`ReflectionComponentSelector"}),(0,l.jsx)(t.td,{children:"str`"}),(0,l.jsxs)(t.td,{children:["\u5b9e\u73b0 ",(0,l.jsx)(t.a,{href:"https://github.com/gepa-ai/gepa/blob/main/src/gepa/proposer/reflective_mutation/base.py",children:"ReflectionComponentSelector"})," \u534f\u8bae\u7684\u81ea\u5b9a\u4e49\u7ec4\u4ef6\u9009\u62e9\u5668\uff0c\u6216\u6307\u5b9a\u5185\u7f6e\u9009\u62e9\u5668\u7b56\u7565\u7684\u5b57\u7b26\u4e32\u3002\u63a7\u5236\u6bcf\u6b21\u8fed\u4ee3\u4e2d\u9009\u62e9\u54ea\u4e9b\u7ec4\u4ef6\uff08\u9884\u6d4b\u5668\uff09\u8fdb\u884c\u4f18\u5316\u3002\u9ed8\u8ba4\u4e3a 'round_robin' \u7b56\u7565\uff0c\u8be5\u7b56\u7565\u4e00\u6b21\u5faa\u73af\u4e00\u4e2a\u7ec4\u4ef6\u3002\u53ef\u7528\u7684\u5b57\u7b26\u4e32\u9009\u9879\uff1a'round_robin'\uff08\u6309\u987a\u5e8f\u5faa\u73af\u7ec4\u4ef6\uff09\uff0c'all'\uff08\u9009\u62e9\u6240\u6709\u7ec4\u4ef6\u8fdb\u884c\u540c\u65f6\u4f18\u5316\uff09\u3002\u81ea\u5b9a\u4e49\u9009\u62e9\u5668\u53ef\u4ee5\u5b9e\u73b0\u57fa\u4e8e\u4f18\u5316\u72b6\u6001\u548c\u8f68\u8ff9\u7684 LLM \u9a71\u52a8\u7684\u9009\u62e9\u903b\u8f91\u3002\u8bf7\u53c2\u9605 ",(0,l.jsx)(t.a,{href:"https://github.com/gepa-ai/gepa/blob/main/src/gepa/strategies/component_selector.py",children:"gepa \u7ec4\u4ef6\u9009\u62e9\u5668"})," \u4ee5\u83b7\u53d6\u53ef\u7528\u7684\u5185\u7f6e\u9009\u62e9\u5668\uff0c\u4ee5\u53ca ReflectionComponentSelector \u534f\u8bae\u4ee5\u5b9e\u73b0\u81ea\u5b9a\u4e49\u9009\u62e9\u5668\u3002"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"add_format_failure_as_feedback"})}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"bool"})}),(0,l.jsx)(t.td,{children:"\u662f\u5426\u5c06\u683c\u5f0f\u5931\u8d25\u6dfb\u52a0\u4e3a\u53cd\u9988\u3002\u9ed8\u8ba4\u4e3a False\u3002"}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"False"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"use_merge"})}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"bool"})}),(0,l.jsx)(t.td,{children:"\u662f\u5426\u4f7f\u7528\u57fa\u4e8e\u5408\u5e76\u7684\u4f18\u5316\u3002\u9ed8\u8ba4\u4e3a True\u3002"}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"True"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"max_merge_invocations"})}),(0,l.jsx)(t.td,{children:"`int"}),(0,l.jsx)(t.td,{children:"None`"}),(0,l.jsx)(t.td,{children:"\u8981\u6267\u884c\u7684\u6700\u5927\u5408\u5e76\u8c03\u7528\u6b21\u6570\u3002\u9ed8\u8ba4\u4e3a 5\u3002"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"num_threads"})}),(0,l.jsx)(t.td,{children:"`int"}),(0,l.jsx)(t.td,{children:"None`"}),(0,l.jsxs)(t.td,{children:["\u4f7f\u7528 ",(0,l.jsx)(t.code,{children:"Evaluate"})," \u8fdb\u884c\u8bc4\u4f30\u65f6\u4f7f\u7528\u7684\u7ebf\u7a0b\u6570\u3002\u53ef\u9009\u3002"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"failure_score"})}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{children:"\u5206\u914d\u7ed9\u5931\u8d25\u793a\u4f8b\u7684\u5206\u6570\u3002\u9ed8\u8ba4\u4e3a 0.0\u3002"}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"0.0"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"perfect_score"})}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"float"})}),(0,l.jsx)(t.td,{children:"\u6307\u6807\u53ef\u8fbe\u5230\u7684\u6700\u9ad8\u5206\u6570\u3002\u9ed8\u8ba4\u4e3a 1.0\u3002GEPA \u4f7f\u7528\u5b83\u6765\u786e\u5b9a\u5c0f\u6279\u91cf\u4e2d\u7684\u6240\u6709\u793a\u4f8b\u662f\u5426\u90fd\u662f\u5b8c\u7f8e\u7684\u3002"}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"1.0"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"log_dir"})}),(0,l.jsx)(t.td,{children:"`str"}),(0,l.jsx)(t.td,{children:"None`"}),(0,l.jsxs)(t.td,{children:["\u4fdd\u5b58\u65e5\u5fd7\u7684\u76ee\u5f55\u3002GEPA \u5728\u6b64\u76ee\u5f55\u4e2d\u4fdd\u5b58\u8be6\u7ec6\u7684\u65e5\u5fd7\u4ee5\u53ca\u6240\u6709\u5019\u9009\u7a0b\u5e8f\u3002\u4f7f\u7528\u76f8\u540c\u7684 ",(0,l.jsx)(t.code,{children:"log_dir"})," \u8fd0\u884c GEPA \u5c06\u4ece\u4e0a\u4e00\u4e2a\u68c0\u67e5\u70b9\u6062\u590d\u8fd0\u884c\u3002"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"track_stats"})}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"bool"})}),(0,l.jsxs)(t.td,{children:["\u662f\u5426\u5728\u4f18\u5316\u540e\u7a0b\u5e8f\u7684 ",(0,l.jsx)(t.code,{children:"detailed_results"})," \u5c5e\u6027\u4e2d\u8fd4\u56de\u8be6\u7ec6\u7ed3\u679c\u548c\u6240\u6709\u63d0\u8bae\u7684\u7a0b\u5e8f\u3002\u9ed8\u8ba4\u4e3a False\u3002"]}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"False"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"use_wandb"})}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"bool"})}),(0,l.jsx)(t.td,{children:"\u662f\u5426\u4f7f\u7528 wandb \u8fdb\u884c\u8bb0\u5f55\u3002\u9ed8\u8ba4\u4e3a False\u3002"}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"False"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"wandb_api_key"})}),(0,l.jsx)(t.td,{children:"`str"}),(0,l.jsx)(t.td,{children:"None`"}),(0,l.jsxs)(t.td,{children:["\u7528\u4e8e wandb \u7684 API \u5bc6\u94a5\u3002\u5982\u679c\u672a\u63d0\u4f9b\uff0cwandb \u5c06\u4f7f\u7528\u73af\u5883\u53d8\u91cf ",(0,l.jsx)(t.code,{children:"WANDB_API_KEY"})," \u4e2d\u7684 API \u5bc6\u94a5\u3002"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"wandb_init_kwargs"})}),(0,l.jsx)(t.td,{children:"`dict[str, Any]"}),(0,l.jsx)(t.td,{children:"None`"}),(0,l.jsxs)(t.td,{children:["\u4f20\u9012\u7ed9 ",(0,l.jsx)(t.code,{children:"wandb.init"})," \u7684\u5176\u4ed6\u5173\u952e\u5b57\u53c2\u6570\u3002"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"track_best_outputs"})}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"bool"})}),(0,l.jsxs)(t.td,{children:["\u662f\u5426\u5728\u9a8c\u8bc1\u96c6\u4e0a\u8ddf\u8e2a\u6700\u4f73\u8f93\u51fa\u3002\u5982\u679c ",(0,l.jsx)(t.code,{children:"track_best_outputs"})," \u4e3a True\uff0c\u5219 ",(0,l.jsx)(t.code,{children:"track_stats"})," \u5fc5\u987b\u4e3a True\u3002\u4f18\u5316\u540e\u7a0b\u5e8f\u7684 ",(0,l.jsx)(t.code,{children:"detailed_results.best_outputs_valset"})," \u5c06\u5305\u542b\u9a8c\u8bc1\u96c6\u4e2d\u6bcf\u4e2a\u4efb\u52a1\u7684\u6700\u4f73\u8f93\u51fa\u3002"]}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"False"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"warn_on_score_mismatch"})}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"bool"})}),(0,l.jsxs)(t.td,{children:["GEPA\uff08\u5f53\u524d\uff09\u671f\u671b\u5728\u5e26\u6709\u548c\u4e0d\u5e26\u6709 ",(0,l.jsx)(t.code,{children:"pred_name"})," \u7684\u60c5\u51b5\u4e0b\u8c03\u7528\u65f6\uff0c\u6307\u6807\u8fd4\u56de\u76f8\u540c\u7684\u6a21\u5757\u7ea7\u5206\u6570\u3002\u6b64\u6807\u5fd7\uff08\u9ed8\u8ba4\u4e3a True\uff09\u786e\u5b9a\u5982\u679c\u68c0\u6d4b\u5230\u6a21\u5757\u7ea7\u548c\u9884\u6d4b\u5668\u7ea7\u5206\u6570\u4e0d\u5339\u914d\uff0c\u662f\u5426\u5f15\u53d1\u8b66\u544a\u3002"]}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"True"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"enable_tool_optimization"})}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"bool"})}),(0,l.jsxs)(t.td,{children:["\u662f\u5426\u542f\u7528 dspy.ReAct \u6a21\u5757\u7684\u8054\u5408\u4f18\u5316\u3002\u542f\u7528\u540e\uff0cGEPA \u5c06\u8054\u5408\u4f18\u5316 dspy.ReAct \u6a21\u5757\u7684\u9884\u6d4b\u5668\u6307\u4ee4\u548c\u5de5\u5177\u63cf\u8ff0\u3002\u6709\u5173\u4f55\u65f6\u4f7f\u7528\u6b64\u529f\u80fd\u53ca\u5176\u5de5\u4f5c\u539f\u7406\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 ",(0,l.jsx)(t.a,{href:"https://dspy.ai/api/optimizers/GEPA/GEPA_Advanced/#tool-optimization",children:"\u5de5\u5177\u4f18\u5316\u6307\u5357"}),"\u3002\u9ed8\u8ba4\u4e3a False\u3002"]}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"False"})})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"seed"})}),(0,l.jsx)(t.td,{children:"`int"}),(0,l.jsx)(t.td,{children:"None`"}),(0,l.jsx)(t.td,{children:"\u7528\u4e8e\u53ef\u91cd\u590d\u6027\u7684\u968f\u673a\u79cd\u5b50\u3002\u9ed8\u8ba4\u4e3a 0\u3002"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"gepa_kwargs"})}),(0,l.jsx)(t.td,{children:"`dict"}),(0,l.jsx)(t.td,{children:"None`"}),(0,l.jsxs)(t.td,{children:["(\u53ef\u9009) \u76f4\u63a5\u4f20\u9012\u7ed9 ",(0,l.jsx)(t.a,{href:"https://github.com/gepa-ai/gepa/blob/main/src/gepa/api.py",children:"gepa.optimize"})," \u7684\u5176\u4ed6\u5173\u952e\u5b57\u53c2\u6570\u3002\u7528\u4e8e\u8bbf\u95ee\u672a\u901a\u8fc7 DSPy \u7684 GEPA \u63a5\u53e3\u76f4\u63a5\u516c\u5f00\u7684\u9ad8\u7ea7 GEPA \u529f\u80fd\u3002\u53ef\u7528\u53c2\u6570\uff1a- batch_sampler: \u9009\u62e9\u8bad\u7ec3\u793a\u4f8b\u7684\u7b56\u7565\u3002\u53ef\u4ee5\u662f ",(0,l.jsx)(t.a,{href:"https://github.com/gepa-ai/gepa/blob/main/src/gepa/strategies/batch_sampler.py",children:"BatchSampler"})," \u5b9e\u4f8b\u6216\u5b57\u7b26\u4e32 ('epoch_shuffled')\u3002\u9ed8\u8ba4\u4e3a 'epoch_shuffled'\u3002\u4ec5\u5728 reflection_minibatch_size \u4e3a None \u65f6\u6709\u6548\u3002 - merge_val_overlap_floor: \u5728\u5c1d\u8bd5\u5408\u5e76\u5b50\u91c7\u6837\u4e4b\u524d\uff0c\u7236\u4ee3\u4e4b\u95f4\u6240\u9700\u7684\u5171\u4eab\u9a8c\u8bc1 ID \u7684\u6700\u5c0f\u6570\u91cf\u3002\u4ec5\u5728\u4f7f\u7528 'full_eval' \u4ee5\u5916\u7684 ",(0,l.jsx)(t.code,{children:"val_evaluation_policy"})," \u65f6\u76f8\u5173\u3002\u9ed8\u8ba4\u4e3a 5\u3002 - stop_callbacks: \u53ef\u9009\u7684\u505c\u6b62\u5668\uff0c\u5f53\u4f18\u5316\u5e94\u505c\u6b62\u65f6\u8fd4\u56de True\u3002\u53ef\u4ee5\u662f\u5355\u4e2a ",(0,l.jsx)(t.a,{href:"https://github.com/gepa-ai/gepa/blob/main/src/gepa/utils/stop_condition.py",children:"StopperProtocol"})," \u6216 StopperProtocol \u5b9e\u4f8b\u5217\u8868\u3002\u793a\u4f8b: ",(0,l.jsx)(t.a,{href:"https://github.com/gepa-ai/gepa/blob/main/src/gepa/utils/stop_condition.py",children:"FileStopper"}),", ",(0,l.jsx)(t.a,{href:"https://github.com/gepa-ai/gepa/blob/main/src/gepa/utils/stop_condition.py",children:"TimeoutStopCondition"}),", ",(0,l.jsx)(t.a,{href:"https://github.com/gepa-ai/gepa/blob/main/src/gepa/utils/stop_condition.py",children:"SignalStopper"}),", ",(0,l.jsx)(t.a,{href:"https://github.com/gepa-ai/gepa/blob/main/src/gepa/utils/stop_condition.py",children:"NoImprovementStopper"}),", \u6216\u81ea\u5b9a\u4e49\u505c\u6b62\u903b\u8f91\u3002\u6ce8\u610f\uff1a\u8fd9\u4f1a\u8986\u76d6\u9ed8\u8ba4\u7684 max_metric_calls \u505c\u6b62\u6761\u4ef6\u3002 - use_cloudpickle: \u4f7f\u7528 cloudpickle \u800c\u4e0d\u662f pickle \u8fdb\u884c\u5e8f\u5217\u5316\u3002\u5f53\u5e8f\u5217\u5316\u72b6\u6001\u5305\u542b\u52a8\u6001\u751f\u6210\u7684 DSPy \u7b7e\u540d\u65f6\u5f88\u6709\u7528\u3002\u9ed8\u8ba4\u4e3a False\u3002 - val_evaluation_policy: \u63a7\u5236\u6bcf\u6b21\u8fed\u4ee3\u8bc4\u5206\u54ea\u4e9b\u9a8c\u8bc1 ID \u7684\u7b56\u7565\u3002\u53ef\u4ee5\u662f 'full_eval'\uff08\u6bcf\u6b21\u8bc4\u4f30\u6bcf\u4e2a ID\uff09\u6216 ",(0,l.jsx)(t.a,{href:"https://github.com/gepa-ai/gepa/blob/main/src/gepa/strategies/eval_policy.py",children:"EvaluationPolicy"})," \u5b9e\u4f8b\u3002\u9ed8\u8ba4\u4e3a 'full_eval'\u3002 - use_mlf... [\u622a\u65ad]"]})]})]})]}),"\n",(0,l.jsx)(t.p,{children:"\u6ce8\u610f"}),"\n",(0,l.jsxs)(t.p,{children:["\u9884\u7b97\u914d\u7f6e\uff1a\u5fc5\u987b\u63d0\u4f9b ",(0,l.jsx)(t.code,{children:"auto"}),", ",(0,l.jsx)(t.code,{children:"max_full_evals"}),", \u6216 ",(0,l.jsx)(t.code,{children:"max_metric_calls"})," \u4e2d\u7684\u4e00\u4e2a\u4e14\u4ec5\u4e00\u4e2a\u3002\n",(0,l.jsx)(t.code,{children:"auto"}),' \u53c2\u6570\u63d0\u4f9b\u9884\u8bbe\u914d\u7f6e\uff1a"light" \u7528\u4e8e\u5feb\u901f\u5b9e\u9a8c\uff0c"medium" \u7528\u4e8e\u5e73\u8861\u4f18\u5316\uff0c"heavy" \u7528\u4e8e\u5f7b\u5e95\u4f18\u5316\u3002']}),"\n",(0,l.jsxs)(t.p,{children:["\u53cd\u5c04\u914d\u7f6e\uff1a",(0,l.jsx)(t.code,{children:"reflection_lm"})," \u53c2\u6570\u662f\u5fc5\u9700\u7684\uff0c\u5e76\u4e14\u5e94\u8be5\u662f\u4e00\u4e2a\u5f3a\u5927\u7684\u8bed\u8a00\u6a21\u578b\u3002\nGEPA \u5728\u4f7f\u7528\u50cf ",(0,l.jsx)(t.code,{children:"dspy.LM(model='gpt-5', temperature=1.0, max_tokens=32000)"})," \u8fd9\u6837\u7684\u6a21\u578b\u65f6\u8868\u73b0\u6700\u4f73\u3002\n\u53cd\u5c04\u8fc7\u7a0b\u5206\u6790\u5931\u8d25\u7684\u793a\u4f8b\u4ee5\u751f\u6210\u7528\u4e8e\u7a0b\u5e8f\u6539\u8fdb\u7684\u53cd\u9988\u3002"]}),"\n",(0,l.jsxs)(t.p,{children:["\u5408\u5e76\u914d\u7f6e\uff1aGEPA \u53ef\u4ee5\u4f7f\u7528 ",(0,l.jsx)(t.code,{children:"use_merge=True"})," \u5408\u5e76\u6210\u529f\u7684\u7a0b\u5e8f\u53d8\u4f53\u3002\n",(0,l.jsx)(t.code,{children:"max_merge_invocations"})," \u53c2\u6570\u63a7\u5236\u4f18\u5316\u671f\u95f4\u8fdb\u884c\u7684\u5408\u5e76\u5c1d\u8bd5\u6b21\u6570\u3002"]}),"\n",(0,l.jsxs)(t.p,{children:["\u8bc4\u4f30\u914d\u7f6e\uff1a\u4f7f\u7528 ",(0,l.jsx)(t.code,{children:"num_threads"})," \u5e76\u884c\u5316\u8bc4\u4f30\u3002",(0,l.jsx)(t.code,{children:"failure_score"})," \u548c ",(0,l.jsx)(t.code,{children:"perfect_score"})," \u53c2\u6570\u5e2e\u52a9 GEPA \u7406\u89e3\u4f60\u7684\u6307\u6807\u8303\u56f4\u5e76\u636e\u6b64\u8fdb\u884c\u4f18\u5316\u3002"]}),"\n",(0,l.jsxs)(t.p,{children:["\u65e5\u5fd7\u914d\u7f6e\uff1a\u8bbe\u7f6e ",(0,l.jsx)(t.code,{children:"log_dir"})," \u4ee5\u4fdd\u5b58\u8be6\u7ec6\u65e5\u5fd7\u5e76\u542f\u7528\u68c0\u67e5\u70b9\u6062\u590d\u3002\n\u4f7f\u7528 ",(0,l.jsx)(t.code,{children:"track_stats=True"})," \u901a\u8fc7 ",(0,l.jsx)(t.code,{children:"detailed_results"})," \u5c5e\u6027\u8bbf\u95ee\u8be6\u7ec6\u7684\u4f18\u5316\u7ed3\u679c\u3002\n\u542f\u7528 ",(0,l.jsx)(t.code,{children:"use_wandb=True"})," \u8fdb\u884c\u5b9e\u9a8c\u8ddf\u8e2a\u548c\u53ef\u89c6\u5316\u3002"]}),"\n",(0,l.jsxs)(t.p,{children:["\u53ef\u91cd\u590d\u6027\uff1a\u8bbe\u7f6e ",(0,l.jsx)(t.code,{children:"seed"})," \u4ee5\u786e\u4fdd\u5177\u6709\u76f8\u540c\u914d\u7f6e\u7684\u8fd0\u884c\u7ed3\u679c\u4e00\u81f4\u3002"]}),"\n",(0,l.jsxs)(t.p,{children:["\u6e90\u4ee3\u7801\u4f4d\u4e8e ",(0,l.jsx)(t.code,{children:"dspy/teleprompt/gepa/gepa.py"})]}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{}),(0,l.jsx)(t.th,{})]})}),(0,l.jsx)(t.tbody,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 358 359 360 361 362 363 364 365 366 367 368 369 370 371 372 373 374 375 376 377 378 379 380 381 382 383 384 385 386 387 388 389 390 391 392 393 394 395 396 397 398 399 400 401 402 403 404 405 406 407 408 409 410 411 412 413 414 415 416 417 418 419 420 421 422 423 424 425 426 427 428 429 430 431 432 433 434 435 436 437 438 439 440 441 442 443 444"})}),(0,l.jsxs)(t.td,{children:["``` def ",(0,l.jsx)(t.strong,{children:"init"}),'(     self,     metric: GEPAFeedbackMetric,     *,     # Budget configuration     auto: Literal["light", "medium", "heavy"]']})]})})]}),"\n",(0,l.jsxs)(t.h3,{id:"\u65b9\u6cd5",children:["\u65b9\u6cd5",(0,l.jsx)(t.a,{href:"#dspy.GEPA-functions",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.h4,{id:"auto_budgetnum_preds-num_candidates-valset_size-int-minibatch_size-int--35-full_eval_steps-int--5---int-",children:[(0,l.jsx)(t.code,{children:"auto_budget(num_preds, num_candidates, valset_size: int, minibatch_size: int = 35, full_eval_steps: int = 5) -> int"})," ",(0,l.jsx)(t.a,{href:"#dspy.GEPA.auto_budget",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.p,{children:["\u6e90\u4ee3\u7801\u4f4d\u4e8e ",(0,l.jsx)(t.code,{children:"dspy/teleprompt/gepa/gepa.py"})]}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{}),(0,l.jsx)(t.th,{})]})}),(0,l.jsx)(t.tbody,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"520 521 522 523 524 525 526 527 528 529 530 531 532 533 534 535 536 537 538 539 540 541 542 543 544 545 546 547 548 549 550 551 552"})}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:'def auto_budget(     self, num_preds, num_candidates, valset_size: int, minibatch_size: int = 35, full_eval_steps: int = 5 ) -> int:     import numpy as np      num_trials = int(max(2 * (num_preds * 2) * np.log2(num_candidates), 1.5 * num_candidates))     if num_trials < 0 or valset_size < 0 or minibatch_size < 0:         raise ValueError("num_trials, valset_size, and minibatch_size must be >= 0.")     if full_eval_steps < 1:         raise ValueError("full_eval_steps must be >= 1.")      V = valset_size     N = num_trials     M = minibatch_size     m = full_eval_steps      # Initial full evaluation on the default program     total = V      # Assume upto 5 trials for bootstrapping each candidate     total += num_candidates * 5      # N minibatch evaluations     total += N * M     if N == 0:         return total  # no periodic/full evals inside the loop     # Periodic full evals occur when trial_num % (m+1) == 0, where trial_num runs 2..N+1     periodic_fulls = (N + 1) // (m) + 1     # If 1 <= N < m, the code triggers one final full eval at the end     extra_final = 1 if N < m else 0      total += (periodic_fulls + extra_final) * V     return total '})})]})})]}),"\n",(0,l.jsxs)(t.h4,{id:"compilestudent-module--trainset-listexample-teacher-module--none--none-valset-listexample--none--none---module-",children:[(0,l.jsx)(t.code,{children:"compile(student: Module, *, trainset: list[Example], teacher: Module | None = None, valset: list[Example] | None = None) -> Module"})," ",(0,l.jsx)(t.a,{href:"#dspy.GEPA.compile",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsx)(t.p,{children:"GEPA \u4f7f\u7528 trainset \u6765\u6267\u884c\u63d0\u793a\u8bcd\u7684\u53cd\u5c04\u6027\u66f4\u65b0\uff0c\u4f46\u4f7f\u7528 valset \u6765\u8ddf\u8e2a Pareto \u5206\u6570\u3002\n\u5982\u679c\u672a\u63d0\u4f9b valset\uff0cGEPA \u5c06\u5bf9\u4e24\u8005\u90fd\u4f7f\u7528 trainset\u3002"}),"\n",(0,l.jsx)(t.p,{children:"\u53c2\u6570:"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"student: \u8981\u4f18\u5316\u7684\u5b66\u751f\u6a21\u5757\u3002"}),"\n",(0,l.jsx)(t.li,{children:"trainset: \u7528\u4e8e\u53cd\u5c04\u6027\u66f4\u65b0\u7684\u8bad\u7ec3\u96c6\u3002"}),"\n",(0,l.jsx)(t.li,{children:"valset: \u7528\u4e8e\u8ddf\u8e2a Pareto \u5206\u6570\u7684\u9a8c\u8bc1\u96c6\u3002\u5982\u679c\u672a\u63d0\u4f9b\uff0cGEPA \u5c06\u5bf9\u4e24\u8005\u90fd\u4f7f\u7528 trainset\u3002"}),"\n"]}),"\n",(0,l.jsxs)(t.p,{children:["\u6e90\u4ee3\u7801\u4f4d\u4e8e ",(0,l.jsx)(t.code,{children:"dspy/teleprompt/gepa/gepa.py"})]}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{}),(0,l.jsx)(t.th,{})]})}),(0,l.jsx)(t.tbody,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"554 555 556 557 558 559 560 561 562 563 564 565 566 567 568 569 570 571 572 573 574 575 576 577 578 579 580 581 582 583 584 585 586 587 588 589 590 591 592 593 594 595 596 597 598 599 600 601 602 603 604 605 606 607 608 609 610 611 612 613 614 615 616 617 618 619 620 621 622 623 624 625 626 627 628 629 630 631 632 633 634 635 636 637 638 639 640 641 642 643 644 645 646 647 648 649 650 651 652 653 654 655 656 657 658 659 660 661 662 663 664 665 666 667 668 669 670 671 672 673 674 675 676 677 678 679 680 681 682 683 684 685 686 687 688"})}),(0,l.jsx)(t.td,{children:"``` def compile(     self,     student: Module,     *,     trainset: list[Example],     teacher: Module"})]})})]}),"\n",(0,l.jsxs)(t.h4,{id:"get_params---dictstr-any-",children:[(0,l.jsx)(t.code,{children:"get_params() -> dict[str, Any]"})," ",(0,l.jsx)(t.a,{href:"#dspy.GEPA.get_params",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsx)(t.p,{children:"\u83b7\u53d6 Teleprompter \u7684\u53c2\u6570\u3002"}),"\n",(0,l.jsx)(t.p,{children:"\u8fd4\u56de:"}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{children:"\u7c7b\u578b"}),(0,l.jsx)(t.th,{children:"\u63cf\u8ff0"})]})}),(0,l.jsx)(t.tbody,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"dict[str, Any]"})}),(0,l.jsx)(t.td,{children:"Teleprompter \u7684\u53c2\u6570\u3002"})]})})]}),"\n",(0,l.jsxs)(t.p,{children:["\u6e90\u4ee3\u7801\u4f4d\u4e8e ",(0,l.jsx)(t.code,{children:"dspy/teleprompt/teleprompt.py"})]}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{}),(0,l.jsx)(t.th,{})]})}),(0,l.jsx)(t.tbody,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"25 26 27 28 29 30 31 32"})}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:'def get_params(self) -> dict[str, Any]:     """     Get the parameters of the teleprompter.      Returns:         The parameters of the teleprompter.     """     return self.__dict__ '})})]})})]}),"\n",(0,l.jsx)(t.p,{children:":::"}),"\n",(0,l.jsx)(t.p,{children:"GEPA \u80cc\u540e\u7684\u4e00\u4e2a\u5173\u952e\u89c1\u89e3\u662f\u5b83\u80fd\u591f\u5229\u7528\u7279\u5b9a\u9886\u57df\u7684\u6587\u672c\u53cd\u9988\u3002\u7528\u6237\u5e94\u63d0\u4f9b\u4e00\u4e2a\u53cd\u9988\u51fd\u6570\u4f5c\u4e3a GEPA \u6307\u6807\uff0c\u5176\u8c03\u7528\u7b7e\u540d\u5982\u4e0b\uff1a"}),"\n",(0,l.jsxs)(t.h2,{id:"dspytelepromptgepagepagepafeedbackmetric-",children:[(0,l.jsx)(t.code,{children:"dspy.teleprompt.gepa.gepa.GEPAFeedbackMetric"})," ",(0,l.jsx)(t.a,{href:"#dspy.teleprompt.gepa.gepa.GEPAFeedbackMetric",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.p,{children:["\u57fa\u7c7b: ",(0,l.jsx)(t.code,{children:"Protocol"})]}),"\n",(0,l.jsxs)(t.h3,{id:"\u65b9\u6cd5-1",children:["\u65b9\u6cd5",(0,l.jsx)(t.a,{href:"#dspy.teleprompt.gepa.gepa.GEPAFeedbackMetric-functions",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.h4,{id:"__call__gold-example-pred-prediction-trace-optionaldspytrace-pred_name-str--none-pred_trace-optionaldspytrace---unionfloat-scorewithfeedback-",children:[(0,l.jsx)(t.code,{children:"__call__(gold: Example, pred: Prediction, trace: Optional[DSPyTrace], pred_name: str | None, pred_trace: Optional[DSPyTrace]) -> Union[float, ScoreWithFeedback]"})," ",(0,l.jsx)(t.a,{href:"#dspy.teleprompt.gepa.gepa.GEPAFeedbackMetric.__call__",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsx)(t.p,{children:"\u6b64\u51fd\u6570\u4f7f\u7528\u4ee5\u4e0b\u53c2\u6570\u8c03\u7528\uff1a"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"gold: \u9ec4\u91d1\u793a\u4f8b\u3002"}),"\n",(0,l.jsx)(t.li,{children:"pred: \u9884\u6d4b\u8f93\u51fa\u3002"}),"\n",(0,l.jsx)(t.li,{children:"trace: \u53ef\u9009\u3002\u7a0b\u5e8f\u6267\u884c\u7684\u8f68\u8ff9\u3002"}),"\n",(0,l.jsx)(t.li,{children:"pred_name: \u53ef\u9009\u3002GEPA \u5f53\u524d\u6b63\u5728\u4f18\u5316\u7684\u76ee\u6807\u9884\u6d4b\u5668\u7684\u540d\u79f0\uff0c\u6b63\u5728\u4e3a\u5176\u8bf7\u6c42\u53cd\u9988\u3002"}),"\n",(0,l.jsx)(t.li,{children:"pred_trace: \u53ef\u9009\u3002GEPA \u6b63\u5728\u5bfb\u6c42\u53cd\u9988\u7684\u76ee\u6807\u9884\u6d4b\u5668\u7684\u6267\u884c\u8f68\u8ff9\u3002"}),"\n"]}),"\n",(0,l.jsxs)(t.p,{children:["\u6ce8\u610f ",(0,l.jsx)(t.code,{children:"pred_name"})," \u548c ",(0,l.jsx)(t.code,{children:"pred_trace"})," \u53c2\u6570\u3002\u5728\u4f18\u5316\u8fc7\u7a0b\u4e2d\uff0cGEPA \u5c06\u8c03\u7528\u6307\u6807\u4ee5\u83b7\u53d6\u6b63\u5728\u4f18\u5316\u7684\u5355\u4e2a\u9884\u6d4b\u5668\u7684\u53cd\u9988\u3002\nGEPA \u5728 ",(0,l.jsx)(t.code,{children:"pred_name"})," \u4e2d\u63d0\u4f9b\u9884\u6d4b\u5668\u7684\u540d\u79f0\uff0c\u5728 ",(0,l.jsx)(t.code,{children:"pred_trace"})," \u4e2d\u63d0\u4f9b\u5bf9\u5e94\u4e8e\u9884\u6d4b\u5668\u7684\u5b50\u8f68\u8ff9\uff08\u8f68\u8ff9\u7684\u4e00\u90e8\u5206\uff09\u3002\n\u5982\u679c\u5728\u9884\u6d4b\u5668\u7ea7\u522b\u53ef\u7528\uff0c\u6307\u6807\u5e94\u8fd4\u56de\u5bf9\u5e94\u4e8e\u9884\u6d4b\u5668\u7684 dspy.Prediction(score: float, feedback: str)\u3002\n\u5982\u679c\u5728\u9884\u6d4b\u5668\u7ea7\u522b\u4e0d\u53ef\u7528\uff0c\u6307\u6807\u4e5f\u53ef\u4ee5\u5728\u7a0b\u5e8f\u7ea7\u522b\u8fd4\u56de\u6587\u672c\u53cd\u9988\uff08\u4ec5\u4f7f\u7528 gold, pred \u548c trace\uff09\u3002\n\u5982\u679c\u672a\u8fd4\u56de\u53cd\u9988\uff0cGEPA \u5c06\u4f7f\u7528\u4ec5\u5305\u542b\u5206\u6570\u7684\u7b80\u5355\u6587\u672c\u53cd\u9988\uff1a\n",(0,l.jsx)(t.code,{children:'f"This trajectory got a score of {score}."'})]}),"\n",(0,l.jsxs)(t.p,{children:["\u6e90\u4ee3\u7801\u4f4d\u4e8e ",(0,l.jsx)(t.code,{children:"dspy/teleprompt/gepa/gepa.py"})]}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{}),(0,l.jsx)(t.th,{})]})}),(0,l.jsx)(t.tbody,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63"})}),(0,l.jsxs)(t.td,{children:["``` def ",(0,l.jsx)(t.strong,{children:"call"}),'(     self,     gold: Example,     pred: Prediction,     trace: Optional["DSPyTrace"],     pred_name: str']})]})})]}),"\n",(0,l.jsx)(t.p,{children:":::"}),"\n",(0,l.jsxs)(t.p,{children:["\u5f53 ",(0,l.jsx)(t.code,{children:"track_stats=True"})," \u65f6\uff0cGEPA \u8fd4\u56de\u6709\u5173\u6240\u6709\u63d0\u8bae\u5019\u9009\u8005\u548c\u4f18\u5316\u8fd0\u884c\u5143\u6570\u636e\u7684\u8be6\u7ec6\u7ed3\u679c\u3002\u7ed3\u679c\u53ef\u5728 GEPA \u8fd4\u56de\u7684\u4f18\u5316\u540e\u7a0b\u5e8f\u7684 ",(0,l.jsx)(t.code,{children:"detailed_results"})," \u5c5e\u6027\u4e2d\u83b7\u5f97\uff0c\u7c7b\u578b\u5982\u4e0b\uff1a"]}),"\n",(0,l.jsxs)(t.h2,{id:"dspytelepromptgepagepadspygeparesultcandidates-listmodule-parents-listlistint--none-val_aggregate_scores-listfloat-val_subscores-listlistfloat-per_val_instance_best_candidates-listsetint-discovery_eval_counts-listint-best_outputs_valset-listlisttupleint-listprediction--none--none-total_metric_calls-int--none--none-num_full_val_evals-int--none--none-log_dir-str--none--none-seed-int--none--none-dataclass-",children:[(0,l.jsx)(t.code,{children:"dspy.teleprompt.gepa.gepa.DspyGEPAResult(candidates: list[Module], parents: list[list[int | None]], val_aggregate_scores: list[float], val_subscores: list[list[float]], per_val_instance_best_candidates: list[set[int]], discovery_eval_counts: list[int], best_outputs_valset: list[list[tuple[int, list[Prediction]]]] | None = None, total_metric_calls: int | None = None, num_full_val_evals: int | None = None, log_dir: str | None = None, seed: int | None = None)"})," ",(0,l.jsx)(t.code,{children:"dataclass"})," ",(0,l.jsx)(t.a,{href:"#dspy.teleprompt.gepa.gepa.DspyGEPAResult",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsx)(t.p,{children:"\u4e0e GEPA \u8fd0\u884c\u76f8\u5173\u7684\u5176\u4ed6\u6570\u636e\u3002"}),"\n",(0,l.jsx)(t.p,{children:"\u5b57\u6bb5:"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"candidates: \u63d0\u8bae\u7684\u5019\u9009\u8005\u5217\u8868 (component_name -> component_text)"}),"\n",(0,l.jsx)(t.li,{children:"parents: \u8c31\u7cfb\u4fe1\u606f\uff1b\u5bf9\u4e8e\u6bcf\u4e2a\u5019\u9009\u8005 i\uff0cparents[i] \u662f\u7236\u7d22\u5f15\u5217\u8868\u6216 None"}),"\n",(0,l.jsx)(t.li,{children:"val_aggregate_scores: \u6bcf\u4e2a\u5019\u9009\u8005\u5728\u9a8c\u8bc1\u96c6\u4e0a\u7684\u7efc\u5408\u5f97\u5206\uff08\u8d8a\u9ad8\u8d8a\u597d\uff09"}),"\n",(0,l.jsx)(t.li,{children:"val_subscores: \u6bcf\u4e2a\u5019\u9009\u8005\u5728\u9a8c\u8bc1\u96c6\u4e0a\u7684\u6bcf\u5b9e\u4f8b\u5f97\u5206 (\u957f\u5ea6 == num_val_instances)"}),"\n",(0,l.jsx)(t.li,{children:"per_val_instance_best_candidates: \u5bf9\u4e8e\u6bcf\u4e2a\u9a8c\u8bc1\u5b9e\u4f8b t\uff0c\u5728 t \u4e0a\u83b7\u5f97\u6700\u4f73\u5206\u6570\u7684\u5019\u9009\u8005\u7d22\u5f15\u96c6\u5408"}),"\n",(0,l.jsx)(t.li,{children:"discovery_eval_counts: \u5728\u53d1\u73b0\u6bcf\u4e2a\u5019\u9009\u8005\u4e4b\u524d\u6d88\u8017\u7684\u9884\u7b97\uff08\u6307\u6807\u8c03\u7528\u6b21\u6570 / \u8f6e\u6b21\uff09"}),"\n"]}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:"total_metric_calls: \u6574\u4e2a\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u8fdb\u884c\u7684\u6307\u6807\u8c03\u7528\u603b\u6570"}),"\n",(0,l.jsx)(t.li,{children:"num_full_val_evals: \u6267\u884c\u7684\u5b8c\u6574\u9a8c\u8bc1\u8bc4\u4f30\u6b21\u6570"}),"\n",(0,l.jsx)(t.li,{children:"log_dir: \u5199\u5165\u5de5\u4ef6\u7684\u4f4d\u7f6e\uff08\u5982\u679c\u6709\uff09"}),"\n",(0,l.jsx)(t.li,{children:"seed: \u7528\u4e8e\u53ef\u91cd\u590d\u6027\u7684 RNG \u79cd\u5b50\uff08\u5982\u679c\u5df2\u77e5\uff09"}),"\n",(0,l.jsx)(t.li,{children:"best_idx: \u5177\u6709\u6700\u9ad8 val_aggregate_scores \u7684\u5019\u9009\u8005\u7d22\u5f15"}),"\n",(0,l.jsx)(t.li,{children:"best_candidate: best_idx \u7684\u7a0b\u5e8f\u6587\u672c\u6620\u5c04"}),"\n"]}),"\n",(0,l.jsxs)(t.h3,{id:"\u5c5e\u6027",children:["\u5c5e\u6027",(0,l.jsx)(t.a,{href:"#dspy.teleprompt.gepa.gepa.DspyGEPAResult-attributes",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.h4,{id:"candidates-listmodule-instance-attribute-",children:[(0,l.jsx)(t.code,{children:"candidates: list[Module]"})," ",(0,l.jsx)(t.code,{children:"instance-attribute"})," ",(0,l.jsx)(t.a,{href:"#dspy.teleprompt.gepa.gepa.DspyGEPAResult.candidates",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.h4,{id:"parents-listlistint--none-instance-attribute-",children:[(0,l.jsx)(t.code,{children:"parents: list[list[int | None]]"})," ",(0,l.jsx)(t.code,{children:"instance-attribute"})," ",(0,l.jsx)(t.a,{href:"#dspy.teleprompt.gepa.gepa.DspyGEPAResult.parents",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.h4,{id:"val_aggregate_scores-listfloat-instance-attribute-",children:[(0,l.jsx)(t.code,{children:"val_aggregate_scores: list[float]"})," ",(0,l.jsx)(t.code,{children:"instance-attribute"})," ",(0,l.jsx)(t.a,{href:"#dspy.teleprompt.gepa.gepa.DspyGEPAResult.val_aggregate_scores",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.h4,{id:"val_subscores-listlistfloat-instance-attribute-",children:[(0,l.jsx)(t.code,{children:"val_subscores: list[list[float]]"})," ",(0,l.jsx)(t.code,{children:"instance-attribute"})," ",(0,l.jsx)(t.a,{href:"#dspy.teleprompt.gepa.gepa.DspyGEPAResult.val_subscores",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.h4,{id:"per_val_instance_best_candidates-listsetint-instance-attribute-",children:[(0,l.jsx)(t.code,{children:"per_val_instance_best_candidates: list[set[int]]"})," ",(0,l.jsx)(t.code,{children:"instance-attribute"})," ",(0,l.jsx)(t.a,{href:"#dspy.teleprompt.gepa.gepa.DspyGEPAResult.per_val_instance_best_candidates",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.h4,{id:"discovery_eval_counts-listint-instance-attribute-",children:[(0,l.jsx)(t.code,{children:"discovery_eval_counts: list[int]"})," ",(0,l.jsx)(t.code,{children:"instance-attribute"})," ",(0,l.jsx)(t.a,{href:"#dspy.teleprompt.gepa.gepa.DspyGEPAResult.discovery_eval_counts",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.h4,{id:"best_outputs_valset-listlisttupleint-listprediction--none--none-class-attribute-instance-attribute-",children:[(0,l.jsx)(t.code,{children:"best_outputs_valset: list[list[tuple[int, list[Prediction]]]] | None = None"})," ",(0,l.jsx)(t.code,{children:"class-attribute"})," ",(0,l.jsx)(t.code,{children:"instance-attribute"})," ",(0,l.jsx)(t.a,{href:"#dspy.teleprompt.gepa.gepa.DspyGEPAResult.best_outputs_valset",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.h4,{id:"total_metric_calls-int--none--none-class-attribute-instance-attribute-",children:[(0,l.jsx)(t.code,{children:"total_metric_calls: int | None = None"})," ",(0,l.jsx)(t.code,{children:"class-attribute"})," ",(0,l.jsx)(t.code,{children:"instance-attribute"})," ",(0,l.jsx)(t.a,{href:"#dspy.teleprompt.gepa.gepa.DspyGEPAResult.total_metric_calls",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.h4,{id:"num_full_val_evals-int--none--none-class-attribute-instance-attribute-",children:[(0,l.jsx)(t.code,{children:"num_full_val_evals: int | None = None"})," ",(0,l.jsx)(t.code,{children:"class-attribute"})," ",(0,l.jsx)(t.code,{children:"instance-attribute"})," ",(0,l.jsx)(t.a,{href:"#dspy.teleprompt.gepa.gepa.DspyGEPAResult.num_full_val_evals",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.h4,{id:"log_dir-str--none--none-class-attribute-instance-attribute-",children:[(0,l.jsx)(t.code,{children:"log_dir: str | None = None"})," ",(0,l.jsx)(t.code,{children:"class-attribute"})," ",(0,l.jsx)(t.code,{children:"instance-attribute"})," ",(0,l.jsx)(t.a,{href:"#dspy.teleprompt.gepa.gepa.DspyGEPAResult.log_dir",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.h4,{id:"seed-int--none--none-class-attribute-instance-attribute-",children:[(0,l.jsx)(t.code,{children:"seed: int | None = None"})," ",(0,l.jsx)(t.code,{children:"class-attribute"})," ",(0,l.jsx)(t.code,{children:"instance-attribute"})," ",(0,l.jsx)(t.a,{href:"#dspy.teleprompt.gepa.gepa.DspyGEPAResult.seed",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.h4,{id:"best_idx-int-property-",children:[(0,l.jsx)(t.code,{children:"best_idx: int"})," ",(0,l.jsx)(t.code,{children:"property"})," ",(0,l.jsx)(t.a,{href:"#dspy.teleprompt.gepa.gepa.DspyGEPAResult.best_idx",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.h4,{id:"best_candidate-dictstr-str-property-",children:[(0,l.jsx)(t.code,{children:"best_candidate: dict[str, str]"})," ",(0,l.jsx)(t.code,{children:"property"})," ",(0,l.jsx)(t.a,{href:"#dspy.teleprompt.gepa.gepa.DspyGEPAResult.best_candidate",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.h4,{id:"highest_score_achieved_per_val_task-listfloat-property-",children:[(0,l.jsx)(t.code,{children:"highest_score_achieved_per_val_task: list[float]"})," ",(0,l.jsx)(t.code,{children:"property"})," ",(0,l.jsx)(t.a,{href:"#dspy.teleprompt.gepa.gepa.DspyGEPAResult.highest_score_achieved_per_val_task",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.h3,{id:"\u65b9\u6cd5-2",children:["\u65b9\u6cd5",(0,l.jsx)(t.a,{href:"#dspy.teleprompt.gepa.gepa.DspyGEPAResult-functions",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.h4,{id:"to_dict---dictstr-any-",children:[(0,l.jsx)(t.code,{children:"to_dict() -> dict[str, Any]"})," ",(0,l.jsx)(t.a,{href:"#dspy.teleprompt.gepa.gepa.DspyGEPAResult.to_dict",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.p,{children:["\u6e90\u4ee3\u7801\u4f4d\u4e8e ",(0,l.jsx)(t.code,{children:"dspy/teleprompt/gepa/gepa.py"})]}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{}),(0,l.jsx)(t.th,{})]})}),(0,l.jsx)(t.tbody,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138"})}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"def to_dict(self) -> dict[str, Any]:     cands = [{k: v for k, v in cand.items()} for cand in self.candidates]      return dict(         candidates=cands,         parents=self.parents,         val_aggregate_scores=self.val_aggregate_scores,         best_outputs_valset=self.best_outputs_valset,         val_subscores=self.val_subscores,         per_val_instance_best_candidates=[list(s) for s in self.per_val_instance_best_candidates],         discovery_eval_counts=self.discovery_eval_counts,         total_metric_calls=self.total_metric_calls,         num_full_val_evals=self.num_full_val_evals,         log_dir=self.log_dir,         seed=self.seed,         best_idx=self.best_idx,     ) "})})]})})]}),"\n",(0,l.jsxs)(t.h4,{id:"from_gepa_resultgepa_result-geparesult-adapter-dspyadapter---dspygeparesult-staticmethod-",children:[(0,l.jsx)(t.code,{children:"from_gepa_result(gepa_result: GEPAResult, adapter: DspyAdapter) -> DspyGEPAResult"})," ",(0,l.jsx)(t.code,{children:"staticmethod"})," ",(0,l.jsx)(t.a,{href:"#dspy.teleprompt.gepa.gepa.DspyGEPAResult.from_gepa_result",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.p,{children:["\u6e90\u4ee3\u7801\u4f4d\u4e8e ",(0,l.jsx)(t.code,{children:"dspy/teleprompt/gepa/gepa.py"})]}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{}),(0,l.jsx)(t.th,{})]})}),(0,l.jsx)(t.tbody,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:"140 141 142 143 144 145 146 147 148 149 150 151 152 153 154"})}),(0,l.jsx)(t.td,{children:(0,l.jsx)(t.code,{children:'@staticmethod def from_gepa_result(gepa_result: "GEPAResult", adapter: "DspyAdapter") -> "DspyGEPAResult":     return DspyGEPAResult(         candidates=[adapter.build_program(c) for c in gepa_result.candidates],         parents=gepa_result.parents,         val_aggregate_scores=gepa_result.val_aggregate_scores,         best_outputs_valset=gepa_result.best_outputs_valset,         val_subscores=gepa_result.val_subscores,         per_val_instance_best_candidates=gepa_result.per_val_instance_best_candidates,         discovery_eval_counts=gepa_result.discovery_eval_counts,         total_metric_calls=gepa_result.total_metric_calls,         num_full_val_evals=gepa_result.num_full_val_evals,         log_dir=gepa_result.run_dir,         seed=gepa_result.seed,     ) '})})]})})]}),"\n",(0,l.jsx)(t.p,{children:":::"}),"\n",(0,l.jsxs)(t.h2,{id:"\u4f7f\u7528\u793a\u4f8b",children:["\u4f7f\u7528\u793a\u4f8b",(0,l.jsx)(t.a,{href:"#usage-examples",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsx)(t.p,{children:"\u67e5\u770b GEPA \u6559\u7a0b\u4e86\u89e3\u4f7f\u7528\u65b9\u6cd5\u3002"}),"\n",(0,l.jsxs)(t.h3,{id:"\u63a8\u7406\u65f6\u641c\u7d22",children:["\u63a8\u7406\u65f6\u641c\u7d22",(0,l.jsx)(t.a,{href:"#inference-time-search",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.p,{children:["GEPA \u53ef\u4ee5\u5145\u5f53\u6d4b\u8bd5\u65f6/\u63a8\u7406\u641c\u7d22\u673a\u5236\u3002\u901a\u8fc7\u5c06 ",(0,l.jsx)(t.code,{children:"valset"})," \u8bbe\u7f6e\u4e3a\u4f60\u7684",(0,l.jsx)(t.em,{children:"\u8bc4\u4f30\u6279\u6b21"}),"\u5e76\u4f7f\u7528 ",(0,l.jsx)(t.code,{children:"track_best_outputs=True"}),"\uff0cGEPA \u4e3a\u6bcf\u4e2a\u6279\u6b21\u5143\u7d20\u751f\u6210\u5728\u8fdb\u5316\u641c\u7d22\u671f\u95f4\u627e\u5230\u7684\u5f97\u5206\u6700\u9ad8\u7684\u8f93\u51fa\u3002"]}),"\n",(0,l.jsx)(t.pre,{children:(0,l.jsx)(t.code,{children:"gepa = dspy.GEPA(metric=metric, track_stats=True, ...)\nnew_prog = gepa.compile(student, trainset=my_tasks, valset=my_tasks)\nhighest_score_achieved_per_task = new_prog.detailed_results.highest_score_achieved_per_val_task\nbest_outputs = new_prog.detailed_results.best_outputs_valset\n\n"})}),"\n",(0,l.jsxs)(t.h2,{id:"gepa-\u5982\u4f55\u5de5\u4f5c",children:["GEPA \u5982\u4f55\u5de5\u4f5c\uff1f",(0,l.jsx)(t.a,{href:"#how-does-gepa-work",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.h3,{id:"1-\u53cd\u5c04\u6027\u63d0\u793a\u8bcd\u53d8\u5f02",children:["1. ",(0,l.jsx)(t.strong,{children:"\u53cd\u5c04\u6027\u63d0\u793a\u8bcd\u53d8\u5f02"}),(0,l.jsx)(t.a,{href:"#1-reflective-prompt-mutation",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.p,{children:["GEPA \u4f7f\u7528 LLM ",(0,l.jsx)(t.em,{children:"\u53cd\u601d"}),"\u7ed3\u6784\u5316\u6267\u884c\u8f68\u8ff9\uff08\u8f93\u5165\u3001\u8f93\u51fa\u3001\u5931\u8d25\u3001\u53cd\u9988\uff09\uff0c\u9488\u5bf9\u9009\u5b9a\u7684\u6a21\u5757\uff0c\u5e76\u4f7f\u7528\u53cd\u5c04\u5143\u63d0\u793a\u548c\u6536\u96c6\u5230\u7684\u53cd\u9988\u4e3a\u76ee\u6807\u6a21\u5757\u63d0\u51fa\u65b0\u7684\u6307\u4ee4/\u7a0b\u5e8f\u6587\u672c\u3002"]}),"\n",(0,l.jsxs)(t.h3,{id:"2-\u4e30\u5bcc\u7684\u6587\u672c\u53cd\u9988\u4f5c\u4e3a\u4f18\u5316\u4fe1\u53f7",children:["2. ",(0,l.jsx)(t.strong,{children:"\u4e30\u5bcc\u7684\u6587\u672c\u53cd\u9988\u4f5c\u4e3a\u4f18\u5316\u4fe1\u53f7"}),(0,l.jsx)(t.a,{href:"#2-rich-textual-feedback-as-optimization-signal",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.p,{children:["GEPA \u53ef\u4ee5\u5229\u7528",(0,l.jsx)(t.em,{children:"\u4efb\u4f55"}),"\u53ef\u7528\u7684\u6587\u672c\u53cd\u9988\u2014\u2014\u4e0d\u4ec5\u4ec5\u662f\u6807\u91cf\u5956\u52b1\u3002\u8fd9\u5305\u62ec\u8bc4\u4f30\u65e5\u5fd7\u3001\u4ee3\u7801\u8f68\u8ff9\u3001\u5931\u8d25\u7684\u89e3\u6790\u3001\u7ea6\u675f\u8fdd\u53cd\u3001\u9519\u8bef\u6d88\u606f\u5b57\u7b26\u4e32\uff0c\u751a\u81f3\u9694\u79bb\u7684\u5b50\u6a21\u5757\u7279\u5b9a\u53cd\u9988\u3002\u8fd9\u5141\u8bb8\u53ef\u64cd\u4f5c\u7684\u3001\u9886\u57df\u611f\u77e5\u7684\u4f18\u5316\u3002"]}),"\n",(0,l.jsxs)(t.h3,{id:"3-\u57fa\u4e8e-pareto-\u7684\u5019\u9009\u8005\u9009\u62e9",children:["3. ",(0,l.jsx)(t.strong,{children:"\u57fa\u4e8e Pareto \u7684\u5019\u9009\u8005\u9009\u62e9"}),(0,l.jsx)(t.a,{href:"#3-pareto-based-candidate-selection",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.p,{children:["GEPA \u4e0d\u662f\u4ec5\u4ec5\u8fdb\u5316",(0,l.jsx)(t.em,{children:"\u6700\u4f73"}),"\u5168\u5c40\u5019\u9009\u8005\uff08\u8fd9\u4f1a\u5bfc\u81f4\u5c40\u90e8\u6700\u4f18\u6216\u505c\u6ede\uff09\uff0c\u800c\u662f\u7ef4\u62a4\u4e00\u4e2a Pareto \u524d\u6cbf\uff1a\u5728\u81f3\u5c11\u4e00\u4e2a\u8bc4\u4f30\u5b9e\u4f8b\u4e0a\u83b7\u5f97\u6700\u9ad8\u5206\u6570\u7684\u5019\u9009\u8005\u96c6\u5408\u3002\u5728\u6bcf\u6b21\u8fed\u4ee3\u4e2d\uff0c\u4ece\u8be5\u524d\u6cbf\u91c7\u6837\uff08\u6982\u7387\u4e0e\u8986\u76d6\u7387\u6210\u6b63\u6bd4\uff09\u4e0b\u4e00\u4e2a\u8981\u53d8\u5f02\u7684\u5019\u9009\u8005\uff0c\u4fdd\u8bc1\u63a2\u7d22\u548c\u7a33\u5065\u5730\u4fdd\u7559\u4e92\u8865\u7b56\u7565\u3002"]}),"\n",(0,l.jsxs)(t.h3,{id:"\u7b97\u6cd5\u6458\u8981",children:["\u7b97\u6cd5\u6458\u8981",(0,l.jsx)(t.a,{href:"#algorithm-summary",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.ol,{children:["\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:"\u521d\u59cb\u5316"})," \u5019\u9009\u6c60\u4e3a\u672a\u4f18\u5316\u7684\u7a0b\u5e8f\u3002"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:"\u8fed\u4ee3"}),":"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:"\u91c7\u6837\u4e00\u4e2a\u5019\u9009\u8005"}),"\uff08\u4ece Pareto \u524d\u6cbf\uff09\u3002"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:"\u91c7\u6837\u4e00\u4e2a\u5c0f\u6279\u6b21"}),"\uff08\u4ece\u8bad\u7ec3\u96c6\u4e2d\uff09\u3002"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:"\u6536\u96c6\u6267\u884c\u8f68\u8ff9 + \u53cd\u9988"})," \u7528\u4e8e\u5c0f\u6279\u6b21\u4e0a\u7684\u6a21\u5757\u8f6e\u6b21\u3002"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:"\u9009\u62e9\u4e00\u4e2a\u6a21\u5757"})," \u8fdb\u884c\u6709\u9488\u5bf9\u6027\u7684\u6539\u8fdb\u3002"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:"LLM \u53cd\u5c04:"})," \u4f7f\u7528\u53cd\u5c04\u5143\u63d0\u793a\u548c\u6536\u96c6\u5230\u7684\u53cd\u9988\u4e3a\u76ee\u6807\u6a21\u5757\u63d0\u51fa\u65b0\u7684\u6307\u4ee4/\u63d0\u793a\u8bcd\u3002"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:"\u5728\u5c0f\u6279\u6b21\u4e0a\u63a8\u51fa\u65b0\u5019\u9009\u8005"}),"\uff1b",(0,l.jsx)(t.strong,{children:"\u5982\u679c\u6539\u8fdb\uff0c\u5219\u5728 Pareto \u9a8c\u8bc1\u96c6\u4e0a\u8fdb\u884c\u8bc4\u4f30"}),"\u3002"]}),"\n",(0,l.jsx)(t.li,{children:(0,l.jsx)(t.strong,{children:"\u66f4\u65b0\u5019\u9009\u6c60/Pareto \u524d\u6cbf\u3002"})}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:"[\u53ef\u9009] \u7cfb\u7edf\u611f\u77e5\u5408\u5e76/\u4ea4\u53c9"}),": \u7ec4\u5408\u6765\u81ea\u4e0d\u540c\u8c31\u7cfb\u7684\u8868\u73b0\u6700\u4f73\u7684\u6a21\u5757\u3002"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:"\u7ee7\u7eed"})," \u76f4\u5230\u8f6e\u6b21\u6216\u6307\u6807\u9884\u7b97\u8017\u5c3d\u3002"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:"\u8fd4\u56de"})," \u5728\u9a8c\u8bc1\u96c6\u4e0a\u5177\u6709\u6700\u4f73\u7efc\u5408\u6027\u80fd\u7684\u5019\u9009\u8005\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(t.h2,{id:"\u5b9e\u73b0\u53cd\u9988\u6307\u6807",children:["\u5b9e\u73b0\u53cd\u9988\u6307\u6807",(0,l.jsx)(t.a,{href:"#implementing-feedback-metrics",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.p,{children:["\u8bbe\u8ba1\u826f\u597d\u7684\u6307\u6807\u662f GEPA \u6837\u672c\u6548\u7387\u548c\u5b66\u4e60\u4fe1\u53f7\u4e30\u5bcc\u6027\u7684\u6838\u5fc3\u3002GEPA \u671f\u671b\u6307\u6807\u8fd4\u56de ",(0,l.jsx)(t.code,{children:"dspy.Prediction(score=..., feedback=...)"}),"\u3002GEPA \u5229\u7528\u57fa\u4e8e LLM \u7684\u5de5\u4f5c\u6d41\u4e2d\u7684\u81ea\u7136\u8bed\u8a00\u8f68\u8ff9\u8fdb\u884c\u4f18\u5316\uff0c\u4fdd\u7559\u7eaf\u6587\u672c\u5f62\u5f0f\u7684\u4e2d\u95f4\u8f68\u8ff9\u548c\u9519\u8bef\uff0c\u800c\u4e0d\u662f\u5c06\u5176\u7b80\u5316\u4e3a\u6570\u503c\u5956\u52b1\u3002\u8fd9\u53cd\u6620\u4e86\u4eba\u7c7b\u8bca\u65ad\u8fc7\u7a0b\uff0c\u80fd\u591f\u66f4\u6e05\u6670\u5730\u8bc6\u522b\u7cfb\u7edf\u884c\u4e3a\u548c\u74f6\u9888\u3002"]}),"\n",(0,l.jsx)(t.p,{children:"GEPA \u53cb\u597d\u53cd\u9988\u7684\u5b9e\u7528\u79d8\u8bc0\uff1a"}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:"\u5229\u7528\u73b0\u6709\u5de5\u4ef6"}),": \u4f7f\u7528\u65e5\u5fd7\u3001\u5355\u5143\u6d4b\u8bd5\u3001\u8bc4\u4f30\u811a\u672c\u548c\u5206\u6790\u5668\u8f93\u51fa\uff1b\u5c55\u793a\u8fd9\u4e9b\u901a\u5e38\u5c31\u8db3\u591f\u4e86\u3002"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:"\u5206\u89e3\u7ed3\u679c"}),": \u5c06\u5206\u6570\u5206\u89e3\u4e3a\u6bcf\u4e2a\u76ee\u6807\u7684\u7ec4\u4ef6\uff08\u4f8b\u5982\uff0c\u6b63\u786e\u6027\u3001\u5ef6\u8fdf\u3001\u6210\u672c\u3001\u5b89\u5168\u6027\uff09\u5e76\u5c06\u9519\u8bef\u5f52\u56e0\u4e8e\u6b65\u9aa4\u3002"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:"\u66b4\u9732\u8f68\u8ff9"}),": \u6807\u8bb0\u7ba1\u9053\u9636\u6bb5\uff0c\u62a5\u544a\u901a\u8fc7/\u5931\u8d25\u4ee5\u53ca\u663e\u8457\u9519\u8bef\uff08\u4f8b\u5982\uff0c\u5728\u4ee3\u7801\u751f\u6210\u7ba1\u9053\u4e2d\uff09\u3002"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:"\u57fa\u4e8e\u68c0\u67e5"}),": \u5bf9\u4e0d\u53ef\u9a8c\u8bc1\u7684\u4efb\u52a1\uff08\u5982\u5728 PUPA \u4e2d\uff09\u4f7f\u7528\u81ea\u52a8\u9a8c\u8bc1\u5668\uff08\u5355\u5143\u6d4b\u8bd5\u3001\u6a21\u5f0f\u3001\u6a21\u62df\u5668\uff09\u6216 LLM-as-a-judge\u3002"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:"\u4f18\u5148\u8003\u8651\u6e05\u6670\u5ea6"}),": \u5173\u6ce8\u9519\u8bef\u8986\u76d6\u548c\u51b3\u7b56\u70b9\uff0c\u800c\u4e0d\u662f\u6280\u672f\u590d\u6742\u6027\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(t.h3,{id:"\u793a\u4f8b",children:["\u793a\u4f8b",(0,l.jsx)(t.a,{href:"#examples",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:"\u6587\u6863\u68c0\u7d22"}),"\uff08\u4f8b\u5982\uff0cHotpotQA\uff09\uff1a\u5217\u51fa\u6b63\u786e\u68c0\u7d22\u3001\u4e0d\u6b63\u786e\u6216\u9057\u6f0f\u7684\u6587\u6863\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f Recall/F1 \u5206\u6570\u3002"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:"\u591a\u76ee\u6807\u4efb\u52a1"}),"\uff08\u4f8b\u5982\uff0cPUPA\uff09\uff1a\u5206\u89e3\u603b\u5206\u4ee5\u63ed\u793a\u6bcf\u4e2a\u76ee\u6807\u7684\u8d21\u732e\uff0c\u7a81\u51fa\u6743\u8861\uff08\u4f8b\u5982\uff0c\u8d28\u91cf\u4e0e\u9690\u79c1\uff09\u3002"]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.strong,{children:"\u5806\u53e0\u7ba1\u9053"}),"\uff08\u4f8b\u5982\uff0c\u4ee3\u7801\u751f\u6210\uff1a\u89e3\u6790 \u2192 \u7f16\u8bd1 \u2192 \u8fd0\u884c \u2192 \u5206\u6790 \u2192 \u8bc4\u4f30\uff09\uff1a\u66b4\u9732\u7279\u5b9a\u9636\u6bb5\u7684\u5931\u8d25\uff1b\u81ea\u7136\u8bed\u8a00\u8f68\u8ff9\u901a\u5e38\u8db3\u4ee5\u8fdb\u884c LLM \u81ea\u6211\u4fee\u6b63\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(t.h2,{id:"\u4f7f\u7528-gepa-\u8fdb\u884c\u5de5\u5177\u4f18\u5316",children:["\u4f7f\u7528 GEPA \u8fdb\u884c\u5de5\u5177\u4f18\u5316",(0,l.jsx)(t.a,{href:"#tool-optimization-with-gepa",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.p,{children:["\u5f53 ",(0,l.jsx)(t.code,{children:"enable_tool_optimization=True"})," \u65f6\uff0cGEPA \u5c06 ",(0,l.jsx)(t.code,{children:"dspy.ReAct"})," \u6a21\u5757\u4e0e\u5de5\u5177\u8054\u5408\u4f18\u5316\u2014\u2014GEPA \u6839\u636e\u6267\u884c\u8f68\u8ff9\u548c\u53cd\u9988\u4e00\u8d77\u66f4\u65b0\u9884\u6d4b\u5668\u6307\u4ee4\u548c\u5de5\u5177\u63cf\u8ff0/\u53c2\u6570\u63cf\u8ff0\uff0c\u800c\u4e0d\u662f\u4fdd\u6301\u5de5\u5177\u884c\u4e3a\u56fa\u5b9a\u3002"]}),"\n",(0,l.jsx)(t.p,{children:"\u6709\u5173\u8be6\u7ec6\u4fe1\u606f\u3001\u793a\u4f8b\u548c\u5e95\u5c42\u8bbe\u8ba1\uff08\u5de5\u5177\u53d1\u73b0\u3001\u547d\u540d\u8981\u6c42\u4ee5\u53ca\u4e0e\u81ea\u5b9a\u4e49\u6307\u4ee4\u63d0\u8bae\u8005\u7684\u4ea4\u4e92\uff09\uff0c\u8bf7\u53c2\u9605\u5de5\u5177\u4f18\u5316\u6587\u6863\u3002"}),"\n",(0,l.jsxs)(t.h2,{id:"\u81ea\u5b9a\u4e49\u6307\u4ee4\u63d0\u8bae",children:["\u81ea\u5b9a\u4e49\u6307\u4ee4\u63d0\u8bae",(0,l.jsx)(t.a,{href:"#custom-instruction-proposal",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsx)(t.p,{children:"\u6709\u5173 GEPA \u6307\u4ee4\u63d0\u8bae\u673a\u5236\u7684\u9ad8\u7ea7\u81ea\u5b9a\u4e49\uff0c\u5305\u62ec\u81ea\u5b9a\u4e49\u6307\u4ee4\u63d0\u8bae\u8005\u548c\u7ec4\u4ef6\u9009\u62e9\u5668\uff0c\u8bf7\u53c2\u9605\u9ad8\u7ea7\u529f\u80fd\u6587\u6863\u3002"}),"\n",(0,l.jsxs)(t.h2,{id:"\u5ef6\u4f38\u9605\u8bfb",children:["\u5ef6\u4f38\u9605\u8bfb",(0,l.jsx)(t.a,{href:"#further-reading",title:"\u6c38\u4e45\u94fe\u63a5",children:"\xb6"})]}),"\n",(0,l.jsxs)(t.ul,{children:["\n",(0,l.jsx)(t.li,{children:(0,l.jsx)(t.a,{href:"https://arxiv.org/abs/2507.19457",children:"GEPA \u8bba\u6587: arxiv:2507.19457"})}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.a,{href:"https://github.com/gepa-ai/gepa",children:"GEPA Github"})," - \u6b64\u5b58\u50a8\u5e93\u63d0\u4f9b\u4e86 ",(0,l.jsx)(t.code,{children:"dspy.GEPA"})," \u4f18\u5316\u5668\u4f7f\u7528\u7684\u6838\u5fc3 GEPA \u8fdb\u5316\u7ba1\u9053\u3002"]}),"\n",(0,l.jsx)(t.li,{children:"DSPy \u6559\u7a0b - \u67e5\u770b\u76f8\u5173\u6559\u7a0b\u4e86\u89e3\u66f4\u591a"}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(o,{...e})}):o(e)}}}]);