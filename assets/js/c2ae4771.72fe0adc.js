"use strict";(self.webpackChunknotes_3=self.webpackChunknotes_3||[]).push([[90737],{37050:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>d,default:()=>p,frontMatter:()=>i,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"AI/\u63d0\u793a\u8bcd\u5de5\u7a0b/DSPy/API/\u4f18\u5316\u5668/BetterTogether","title":"BetterTogether","description":"dspy.BetterTogether(metric Teleprompter | None = None, weightoptimizer int | None = None) \xb6","source":"@site/docs/AI/\u63d0\u793a\u8bcd\u5de5\u7a0b/DSPy/API/\u4f18\u5316\u5668/BetterTogether.md","sourceDirName":"AI/\u63d0\u793a\u8bcd\u5de5\u7a0b/DSPy/API/\u4f18\u5316\u5668","slug":"/AI/\u63d0\u793a\u8bcd\u5de5\u7a0b/DSPy/API/\u4f18\u5316\u5668/BetterTogether","permalink":"/notes3/docs/AI/\u63d0\u793a\u8bcd\u5de5\u7a0b/DSPy/API/\u4f18\u5316\u5668/BetterTogether","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/AI/\u63d0\u793a\u8bcd\u5de5\u7a0b/DSPy/API/\u4f18\u5316\u5668/BetterTogether.md","tags":[],"version":"current","frontMatter":{},"sidebar":"ai","previous":{"title":"\u611f\u77e5\u673a","permalink":"/notes3/docs/AI/\u611f\u77e5\u673a"},"next":{"title":"BootstrapFewShot","permalink":"/notes3/docs/AI/\u63d0\u793a\u8bcd\u5de5\u7a0b/DSPy/API/\u4f18\u5316\u5668/BootstrapFewShot"}}');var n=r(23420),o=r(54213);const i={},d=void 0,l={},a=[{value:"<code>dspy.BetterTogether(metric: Callable, prompt_optimizer: Teleprompter | None = None, weight_optimizer: Teleprompter | None = None, seed: int | None = None)</code> \xb6",id:"dspybettertogethermetric-callable-prompt_optimizer-teleprompter--none--none-weight_optimizer-teleprompter--none--none-seed-int--none--none-",level:2},{value:"Functions\xb6",id:"functions",level:3},{value:"<code>compile(student: Module, trainset: list[Example], strategy: str = &#39;p -&gt; w -&gt; p&#39;, valset_ratio=0.1) -&gt; Module</code> \xb6",id:"compilestudent-module-trainset-listexample-strategy-str--p---w---p-valset_ratio01---module-",level:4},{value:"<code>get_params() -&gt; dict[str, Any]</code> \xb6",id:"get_params---dictstr-any-",level:4}];function c(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.h2,{id:"dspybettertogethermetric-callable-prompt_optimizer-teleprompter--none--none-weight_optimizer-teleprompter--none--none-seed-int--none--none-",children:[(0,n.jsx)(t.code,{children:"dspy.BetterTogether(metric: Callable, prompt_optimizer: Teleprompter | None = None, weight_optimizer: Teleprompter | None = None, seed: int | None = None)"})," ",(0,n.jsx)(t.a,{href:"#dspy.BetterTogether",title:"Permanent link",children:"\xb6"})]}),"\n",(0,n.jsxs)(t.p,{children:["Bases: ",(0,n.jsx)(t.code,{children:"Teleprompter"})]}),"\n",(0,n.jsxs)(t.p,{children:["Source code in ",(0,n.jsx)(t.code,{children:"dspy/teleprompt/bettertogether.py"})]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{}),(0,n.jsx)(t.th,{})]})}),(0,n.jsx)(t.tbody,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51"})}),(0,n.jsxs)(t.td,{children:["``` def ",(0,n.jsx)(t.strong,{children:"init"}),"(self,     metric: Callable,     prompt_optimizer: Teleprompter"]})]})})]}),"\n",(0,n.jsxs)(t.h3,{id:"functions",children:["Functions",(0,n.jsx)(t.a,{href:"#dspy.BetterTogether-functions",title:"Permanent link",children:"\xb6"})]}),"\n",(0,n.jsxs)(t.h4,{id:"compilestudent-module-trainset-listexample-strategy-str--p---w---p-valset_ratio01---module-",children:[(0,n.jsx)(t.code,{children:"compile(student: Module, trainset: list[Example], strategy: str = 'p -> w -> p', valset_ratio=0.1) -> Module"})," ",(0,n.jsx)(t.a,{href:"#dspy.BetterTogether.compile",title:"Permanent link",children:"\xb6"})]}),"\n",(0,n.jsxs)(t.p,{children:["Source code in ",(0,n.jsx)(t.code,{children:"dspy/teleprompt/bettertogether.py"})]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{}),(0,n.jsx)(t.th,{})]})}),(0,n.jsx)(t.tbody,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84"})}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:'def compile(     self,     student: Module,     trainset: list[Example],     strategy: str = "p -> w -> p",     valset_ratio = 0.1, ) -> Module:     # TODO: We could record acc on a different valset to pick the best     # strategy within the provided strategy     logger.info("Validating the strategy")     parsed_strategy = strategy.lower().split(self.STRAT_SEP)      if not all(s in ["p", "w"] for s in parsed_strategy):         raise ValueError(             f"The strategy should be a sequence of \'p\' and \'w\' separated by \'{self.STRAT_SEP}\', but "             f"found: {strategy}"         )      logger.info("Preparing the student program...")     # TODO: Prepare student returns student.reset_copy(), which is what gets     # optimized. We should make this clear in the doc comments.     student = prepare_student(student)     all_predictors_have_lms(student)      # Make a shallow copy of the trainset, so that we don\'t change the order     # of the examples in the original trainset     trainset = trainset[:]     logger.info("Compiling the student program...")     student = self._run_strategies(parsed_strategy, student, trainset, valset_ratio)      logger.info("BetterTogether has finished compiling the student program")     return student '})})]})})]}),"\n",(0,n.jsxs)(t.h4,{id:"get_params---dictstr-any-",children:[(0,n.jsx)(t.code,{children:"get_params() -> dict[str, Any]"})," ",(0,n.jsx)(t.a,{href:"#dspy.BetterTogether.get_params",title:"Permanent link",children:"\xb6"})]}),"\n",(0,n.jsx)(t.p,{children:"Get the parameters of the teleprompter."}),"\n",(0,n.jsx)(t.p,{children:"Returns:"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Type"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsx)(t.tbody,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"dict[str, Any]"})}),(0,n.jsx)(t.td,{children:"The parameters of the teleprompter."})]})})]}),"\n",(0,n.jsxs)(t.p,{children:["Source code in ",(0,n.jsx)(t.code,{children:"dspy/teleprompt/teleprompt.py"})]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{}),(0,n.jsx)(t.th,{})]})}),(0,n.jsx)(t.tbody,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:"25 26 27 28 29 30 31 32"})}),(0,n.jsx)(t.td,{children:(0,n.jsx)(t.code,{children:'def get_params(self) -> dict[str, Any]:     """     Get the parameters of the teleprompter.      Returns:         The parameters of the teleprompter.     """     return self.__dict__ '})})]})})]})]})}function p(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},54213:(e,t,r)=>{r.d(t,{R:()=>i,x:()=>d});var s=r(36672);const n={},o=s.createContext(n);function i(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);