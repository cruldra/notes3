"use strict";(self.webpackChunknotes_3=self.webpackChunknotes_3||[]).push([[78455],{54213:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>c});var l=s(36672);const d={},i=l.createContext(d);function r(e){const n=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:r(e.components),l.createElement(i.Provider,{value:n},e.children)}},68187:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>a,frontMatter:()=>r,metadata:()=>l,toc:()=>h});const l=JSON.parse('{"id":"Tools/OpenCode/\u4ee3\u7406\u6280\u80fd","title":"\u4ee3\u7406\u6280\u80fd","description":"\u901a\u8fc7 SKILL.md \u5b9a\u4e49\u53ef\u91cd\u7528\u884c\u4e3a","source":"@site/docs/Tools/OpenCode/\u4ee3\u7406\u6280\u80fd.md","sourceDirName":"Tools/OpenCode","slug":"/Tools/OpenCode/\u4ee3\u7406\u6280\u80fd","permalink":"/notes3/docs/Tools/OpenCode/\u4ee3\u7406\u6280\u80fd","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Tools/OpenCode/\u4ee3\u7406\u6280\u80fd.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tools","previous":{"title":"MCP","permalink":"/notes3/docs/Tools/OpenCode/MCP"},"next":{"title":"\u5185\u7f6e\u5de5\u5177","permalink":"/notes3/docs/Tools/OpenCode/\u5185\u7f6e\u5de5\u5177"}}');var d=s(23420),i=s(54213);const r={},c=void 0,o={},h=[{value:"\u653e\u7f6e\u6587\u4ef6",id:"\u653e\u7f6e\u6587\u4ef6",level:2},{value:"\u7406\u89e3\u53d1\u73b0\u673a\u5236",id:"\u7406\u89e3\u53d1\u73b0\u673a\u5236",level:2},{value:"\u7f16\u5199 Frontmatter",id:"\u7f16\u5199-frontmatter",level:2},{value:"\u9a8c\u8bc1\u540d\u79f0",id:"\u9a8c\u8bc1\u540d\u79f0",level:2},{value:"\u9075\u5faa\u957f\u5ea6\u89c4\u5219",id:"\u9075\u5faa\u957f\u5ea6\u89c4\u5219",level:2},{value:"\u4f7f\u7528\u793a\u4f8b",id:"\u4f7f\u7528\u793a\u4f8b",level:2},{value:"\u8bc6\u522b\u5de5\u5177\u63cf\u8ff0",id:"\u8bc6\u522b\u5de5\u5177\u63cf\u8ff0",level:2},{value:"\u914d\u7f6e\u6743\u9650",id:"\u914d\u7f6e\u6743\u9650",level:2},{value:"\u6309\u4ee3\u7406\u8986\u76d6",id:"\u6309\u4ee3\u7406\u8986\u76d6",level:2},{value:"\u7981\u7528\u6280\u80fd\u5de5\u5177",id:"\u7981\u7528\u6280\u80fd\u5de5\u5177",level:2},{value:"\u52a0\u8f7d\u6545\u969c\u6392\u9664",id:"\u52a0\u8f7d\u6545\u969c\u6392\u9664",level:2}];function t(e){const n={a:"a",code:"code",h2:"h2",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.p,{children:"\u901a\u8fc7 SKILL.md \u5b9a\u4e49\u53ef\u91cd\u7528\u884c\u4e3a"}),"\n",(0,d.jsxs)(n.p,{children:["\u4ee3\u7406\u6280\u80fd (Agent skills) \u8ba9 OpenCode \u80fd\u591f\u4ece\u4f60\u7684\u4ed3\u5e93\u6216\u4e3b\u76ee\u5f55\u4e2d\u53d1\u73b0\u53ef\u91cd\u7528\u7684\u6307\u4ee4\u3002\n\u6280\u80fd\u901a\u8fc7\u539f\u751f ",(0,d.jsx)(n.code,{children:"skill"})," \u5de5\u5177\u6309\u9700\u52a0\u8f7d\u2014\u2014\u4ee3\u7406\u53ef\u4ee5\u770b\u5230\u53ef\u7528\u7684\u6280\u80fd\uff0c\u5e76\u5728\u9700\u8981\u65f6\u52a0\u8f7d\u5b8c\u6574\u5185\u5bb9\u3002"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\u653e\u7f6e\u6587\u4ef6",children:(0,d.jsx)(n.a,{href:"#place-files",children:"\u653e\u7f6e\u6587\u4ef6"})}),"\n",(0,d.jsxs)(n.p,{children:["\u4e3a\u6bcf\u4e2a\u6280\u80fd\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u5e76\u5728\u5176\u4e2d\u653e\u5165 ",(0,d.jsx)(n.code,{children:"SKILL.md"})," \u6587\u4ef6\u3002\nOpenCode \u4f1a\u641c\u7d22\u4ee5\u4e0b\u4f4d\u7f6e\uff1a"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u9879\u76ee\u914d\u7f6e: ",(0,d.jsx)(n.code,{children:".opencode/skill/<name>/SKILL.md"})]}),"\n",(0,d.jsxs)(n.li,{children:["\u5168\u5c40\u914d\u7f6e: ",(0,d.jsx)(n.code,{children:"~/.config/opencode/skill/<name>/SKILL.md"})]}),"\n",(0,d.jsxs)(n.li,{children:["\u9879\u76ee Claude \u517c\u5bb9\u8def\u5f84: ",(0,d.jsx)(n.code,{children:".claude/skills/<name>/SKILL.md"})]}),"\n",(0,d.jsxs)(n.li,{children:["\u5168\u5c40 Claude \u517c\u5bb9\u8def\u5f84: ",(0,d.jsx)(n.code,{children:"~/.claude/skills/<name>/SKILL.md"})]}),"\n"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\u7406\u89e3\u53d1\u73b0\u673a\u5236",children:(0,d.jsx)(n.a,{href:"#understand-discovery",children:"\u7406\u89e3\u53d1\u73b0\u673a\u5236"})}),"\n",(0,d.jsxs)(n.p,{children:["\u5bf9\u4e8e\u9879\u76ee\u672c\u5730\u8def\u5f84\uff0cOpenCode \u4f1a\u4ece\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u5411\u4e0a\u67e5\u627e\uff0c\u76f4\u5230\u5230\u8fbe git \u5de5\u4f5c\u6811\u6839\u76ee\u5f55\u3002\n\u6cbf\u9014\u4f1a\u52a0\u8f7d ",(0,d.jsx)(n.code,{children:".opencode/"})," \u4e2d\u4efb\u4f55\u5339\u914d ",(0,d.jsx)(n.code,{children:"skill/*/SKILL.md"})," \u7684\u6587\u4ef6\uff0c\u4ee5\u53ca\u4efb\u4f55\u5339\u914d ",(0,d.jsx)(n.code,{children:".claude/skills/*/SKILL.md"})," \u7684\u6587\u4ef6\u3002"]}),"\n",(0,d.jsxs)(n.p,{children:["\u5168\u5c40\u5b9a\u4e49\u4e5f\u4f1a\u4ece ",(0,d.jsx)(n.code,{children:"~/.config/opencode/skill/*/SKILL.md"})," \u548c ",(0,d.jsx)(n.code,{children:"~/.claude/skills/*/SKILL.md"})," \u52a0\u8f7d\u3002"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\u7f16\u5199-frontmatter",children:(0,d.jsx)(n.a,{href:"#write-frontmatter",children:"\u7f16\u5199 Frontmatter"})}),"\n",(0,d.jsxs)(n.p,{children:["\u6bcf\u4e2a ",(0,d.jsx)(n.code,{children:"SKILL.md"})," \u5fc5\u987b\u4ee5 YAML frontmatter (\u524d\u7f6e\u5143\u6570\u636e) \u5f00\u5934\u3002\n\u4ec5\u8bc6\u522b\u4ee5\u4e0b\u5b57\u6bb5\uff1a"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"name"})," (\u5fc5\u586b)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"description"})," (\u5fc5\u586b)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"license"})," (\u53ef\u9009)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"compatibility"})," (\u53ef\u9009)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"metadata"})," (\u53ef\u9009\uff0c\u5b57\u7b26\u4e32\u5230\u5b57\u7b26\u4e32\u7684\u6620\u5c04)"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u672a\u77e5\u7684 frontmatter \u5b57\u6bb5\u5c06\u88ab\u5ffd\u7565\u3002"}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\u9a8c\u8bc1\u540d\u79f0",children:(0,d.jsx)(n.a,{href:"#validate-names",children:"\u9a8c\u8bc1\u540d\u79f0"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"name"})," \u5fc5\u987b\u6ee1\u8db3\uff1a"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u957f\u5ea6\u4e3a 1-64 \u4e2a\u5b57\u7b26"}),"\n",(0,d.jsx)(n.li,{children:"\u7531\u5c0f\u5199\u5b57\u6bcd\u548c\u6570\u5b57\u7ec4\u6210\uff0c\u4f7f\u7528\u5355\u4e2a\u8fde\u5b57\u7b26\u5206\u9694"}),"\n",(0,d.jsxs)(n.li,{children:["\u4e0d\u80fd\u4ee5 ",(0,d.jsx)(n.code,{children:"-"})," \u5f00\u5934\u6216\u7ed3\u5c3e"]}),"\n",(0,d.jsxs)(n.li,{children:["\u4e0d\u80fd\u5305\u542b\u8fde\u7eed\u7684 ",(0,d.jsx)(n.code,{children:"--"})]}),"\n",(0,d.jsxs)(n.li,{children:["\u5fc5\u987b\u4e0e\u5305\u542b ",(0,d.jsx)(n.code,{children:"SKILL.md"})," \u7684\u76ee\u5f55\u540d\u79f0\u5339\u914d"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u7b49\u6548\u7684\u6b63\u5219\u8868\u8fbe\u5f0f\uff1a"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"^[a-z0-9]+(-[a-z0-9]+)*$\n"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\u9075\u5faa\u957f\u5ea6\u89c4\u5219",children:(0,d.jsx)(n.a,{href:"#follow-length-rules",children:"\u9075\u5faa\u957f\u5ea6\u89c4\u5219"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"description"})," \u5fc5\u987b\u5728 1-1024 \u4e2a\u5b57\u7b26\u4e4b\u95f4\u3002\n\u63cf\u8ff0\u5e94\u8db3\u591f\u5177\u4f53\uff0c\u4ee5\u4fbf\u4ee3\u7406\u80fd\u591f\u6b63\u786e\u9009\u62e9\u3002"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\u4f7f\u7528\u793a\u4f8b",children:(0,d.jsx)(n.a,{href:"#use-an-example",children:"\u4f7f\u7528\u793a\u4f8b"})}),"\n",(0,d.jsxs)(n.p,{children:["\u521b\u5efa\u4e00\u4e2a ",(0,d.jsx)(n.code,{children:".opencode/skill/git-release/SKILL.md"})," \u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"---\nname: git-release\ndescription: Create consistent releases and changelogs\nlicense: MIT\ncompatibility: opencode\nmetadata:\n  audience: maintainers\n  workflow: github\n---\n\n## What I do\n- Draft release notes from merged PRs\n- Propose a version bump\n- Provide a copy-pasteable `gh release create` command\n\n## When to use me\nUse this when you are preparing a tagged release.\nAsk clarifying questions if the target versioning scheme is unclear.\n"})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\u8bc6\u522b\u5de5\u5177\u63cf\u8ff0",children:(0,d.jsx)(n.a,{href:"#recognize-tool-description",children:"\u8bc6\u522b\u5de5\u5177\u63cf\u8ff0"})}),"\n",(0,d.jsxs)(n.p,{children:["OpenCode \u5728 ",(0,d.jsx)(n.code,{children:"skill"})," \u5de5\u5177\u63cf\u8ff0\u4e2d\u5217\u51fa\u53ef\u7528\u7684\u6280\u80fd\u3002\n\u6bcf\u4e2a\u6761\u76ee\u5305\u542b\u6280\u80fd\u540d\u79f0\u548c\u63cf\u8ff0\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"<available_skills>\n  <skill>\n    <name>git-release</name>\n    <description>Create consistent releases and changelogs</description>\n  </skill>\n</available_skills>\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u4ee3\u7406\u901a\u8fc7\u8c03\u7528\u5de5\u5177\u6765\u52a0\u8f7d\u6280\u80fd\uff1a"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'skill({ name: "git-release" })\n'})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\u914d\u7f6e\u6743\u9650",children:(0,d.jsx)(n.a,{href:"#configure-permissions",children:"\u914d\u7f6e\u6743\u9650"})}),"\n",(0,d.jsxs)(n.p,{children:["\u5728 ",(0,d.jsx)(n.code,{children:"opencode.json"})," \u4e2d\u4f7f\u7528\u57fa\u4e8e\u6a21\u5f0f\u7684\u6743\u9650\u63a7\u5236\u4ee3\u7406\u53ef\u4ee5\u8bbf\u95ee\u54ea\u4e9b\u6280\u80fd\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n  "permission": {\n    "skill": {\n      "pr-review": "allow",\n      "internal-*": "deny",\n      "experimental-*": "ask",\n      "*": "allow"\n    }\n  }\n}\n'})}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u6743\u9650"}),(0,d.jsx)(n.th,{children:"\u884c\u4e3a"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"allow"})}),(0,d.jsx)(n.td,{children:"\u6280\u80fd\u7acb\u5373\u52a0\u8f7d"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"deny"})}),(0,d.jsx)(n.td,{children:"\u6280\u80fd\u5bf9\u4ee3\u7406\u9690\u85cf\uff0c\u8bbf\u95ee\u88ab\u62d2\u7edd"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"ask"})}),(0,d.jsx)(n.td,{children:"\u52a0\u8f7d\u524d\u63d0\u793a\u7528\u6237\u6279\u51c6"})]})]})]}),"\n",(0,d.jsxs)(n.p,{children:["\u6a21\u5f0f\u652f\u6301\u901a\u914d\u7b26\uff1a",(0,d.jsx)(n.code,{children:"internal-*"})," \u5339\u914d ",(0,d.jsx)(n.code,{children:"internal-docs"}),"\u3001",(0,d.jsx)(n.code,{children:"internal-tools"})," \u7b49\u3002"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\u6309\u4ee3\u7406\u8986\u76d6",children:(0,d.jsx)(n.a,{href:"#override-per-agent",children:"\u6309\u4ee3\u7406\u8986\u76d6"})}),"\n",(0,d.jsx)(n.p,{children:"\u4e3a\u7279\u5b9a\u4ee3\u7406\u8d4b\u4e88\u4e0d\u540c\u4e8e\u5168\u5c40\u9ed8\u8ba4\u8bbe\u7f6e\u7684\u6743\u9650\u3002"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u5bf9\u4e8e\u81ea\u5b9a\u4e49\u4ee3\u7406"})," (\u5728\u4ee3\u7406 frontmatter \u4e2d)\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'---\npermission:\n  skill:\n    "documents-*": "allow"\n---\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u5bf9\u4e8e\u5185\u7f6e\u4ee3\u7406"})," (\u5728 ",(0,d.jsx)(n.code,{children:"opencode.json"})," \u4e2d)\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n  "agent": {\n    "plan": {\n      "permission": {\n        "skill": {\n          "internal-*": "allow"\n        }\n      }\n    }\n  }\n}\n'})}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\u7981\u7528\u6280\u80fd\u5de5\u5177",children:(0,d.jsx)(n.a,{href:"#disable-the-skill-tool",children:"\u7981\u7528\u6280\u80fd\u5de5\u5177"})}),"\n",(0,d.jsx)(n.p,{children:"\u5b8c\u5168\u7981\u7528\u4e0d\u5e94\u4f7f\u7528\u6280\u80fd\u7684\u4ee3\u7406\u7684\u6280\u80fd\u529f\u80fd\uff1a"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u5bf9\u4e8e\u81ea\u5b9a\u4e49\u4ee3\u7406"}),"\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"---\ntools:\n  skill: false\n---\n"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u5bf9\u4e8e\u5185\u7f6e\u4ee3\u7406"}),"\uff1a"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:'{\n  "agent": {\n    "plan": {\n      "tools": {\n        "skill": false\n      }\n    }\n  }\n}\n'})}),"\n",(0,d.jsxs)(n.p,{children:["\u7981\u7528\u65f6\uff0c",(0,d.jsx)(n.code,{children:"<available_skills>"})," \u90e8\u5206\u5c06\u88ab\u5b8c\u5168\u7701\u7565\u3002"]}),"\n",(0,d.jsx)(n.hr,{}),"\n",(0,d.jsx)(n.h2,{id:"\u52a0\u8f7d\u6545\u969c\u6392\u9664",children:(0,d.jsx)(n.a,{href:"#troubleshoot-loading",children:"\u52a0\u8f7d\u6545\u969c\u6392\u9664"})}),"\n",(0,d.jsx)(n.p,{children:"\u5982\u679c\u6280\u80fd\u672a\u663e\u793a\uff1a"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\u9a8c\u8bc1 ",(0,d.jsx)(n.code,{children:"SKILL.md"})," \u662f\u5426\u5168\u5927\u5199\u62fc\u5199"]}),"\n",(0,d.jsxs)(n.li,{children:["\u68c0\u67e5 frontmatter \u662f\u5426\u5305\u542b ",(0,d.jsx)(n.code,{children:"name"})," \u548c ",(0,d.jsx)(n.code,{children:"description"})]}),"\n",(0,d.jsx)(n.li,{children:"\u786e\u4fdd\u6280\u80fd\u540d\u79f0\u5728\u6240\u6709\u4f4d\u7f6e\u90fd\u662f\u552f\u4e00\u7684"}),"\n",(0,d.jsxs)(n.li,{children:["\u68c0\u67e5\u6743\u9650\u2014\u2014\u8bbe\u7f6e\u4e3a ",(0,d.jsx)(n.code,{children:"deny"})," \u7684\u6280\u80fd\u5bf9\u4ee3\u7406\u9690\u85cf"]}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(t,{...e})}):t(e)}}}]);