"use strict";(self.webpackChunknotes_3=self.webpackChunknotes_3||[]).push([[11540],{54213:(n,e,s)=>{s.d(e,{R:()=>d,x:()=>c});var r=s(36672);const l={},i=r.createContext(l);function d(n){const e=r.useContext(i);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:d(n.components),r.createElement(i.Provider,{value:e},n.children)}},60060:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>t,contentTitle:()=>c,default:()=>x,frontMatter:()=>d,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"Rust/\u751f\u547d\u5468\u671f\u8be6\u89e3","title":"Rust \u751f\u547d\u5468\u671f\u8be6\u89e3","description":"\ud83d\udcda \u4ec0\u4e48\u662f\u751f\u547d\u5468\u671f\uff1f","source":"@site/docs/Rust/\u751f\u547d\u5468\u671f\u8be6\u89e3.md","sourceDirName":"Rust","slug":"/Rust/\u751f\u547d\u5468\u671f\u8be6\u89e3","permalink":"/notes3/docs/Rust/\u751f\u547d\u5468\u671f\u8be6\u89e3","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Rust/\u751f\u547d\u5468\u671f\u8be6\u89e3.md","tags":[],"version":"current","frontMatter":{},"sidebar":"rust","previous":{"title":"Rust \u751f\u547d\u5468\u671f\u5b9e\u6218\u573a\u666f","permalink":"/notes3/docs/Rust/\u751f\u547d\u5468\u671f\u5b9e\u6218\u573a\u666f"}}');var l=s(23420),i=s(54213);const d={},c="Rust \u751f\u547d\u5468\u671f\u8be6\u89e3",t={},a=[{value:"\ud83d\udcda \u4ec0\u4e48\u662f\u751f\u547d\u5468\u671f\uff1f",id:"-\u4ec0\u4e48\u662f\u751f\u547d\u5468\u671f",level:2},{value:"\u6838\u5fc3\u6982\u5ff5",id:"\u6838\u5fc3\u6982\u5ff5",level:3},{value:"\u4e3a\u4ec0\u4e48\u9700\u8981\u751f\u547d\u5468\u671f\uff1f",id:"\u4e3a\u4ec0\u4e48\u9700\u8981\u751f\u547d\u5468\u671f",level:3},{value:"\ud83d\udd0d \u501f\u7528\u68c0\u67e5\u5668\uff08Borrow Checker\uff09",id:"-\u501f\u7528\u68c0\u67e5\u5668borrow-checker",level:2},{value:"\u793a\u4f8b\uff1a\u751f\u547d\u5468\u671f\u6807\u6ce8",id:"\u793a\u4f8b\u751f\u547d\u5468\u671f\u6807\u6ce8",level:3},{value:"\u6b63\u786e\u7684\u793a\u4f8b",id:"\u6b63\u786e\u7684\u793a\u4f8b",level:3},{value:"\ud83c\udfaf \u751f\u547d\u5468\u671f\u6807\u6ce8\u8bed\u6cd5",id:"-\u751f\u547d\u5468\u671f\u6807\u6ce8\u8bed\u6cd5",level:2},{value:"1. \u57fa\u672c\u8bed\u6cd5",id:"1-\u57fa\u672c\u8bed\u6cd5",level:3},{value:"2. \u751f\u547d\u5468\u671f\u6807\u6ce8\u7684\u542b\u4e49",id:"2-\u751f\u547d\u5468\u671f\u6807\u6ce8\u7684\u542b\u4e49",level:3},{value:"\ud83d\udcdd \u51fd\u6570\u4e2d\u7684\u751f\u547d\u5468\u671f",id:"-\u51fd\u6570\u4e2d\u7684\u751f\u547d\u5468\u671f",level:2},{value:"1. \u4e3a\u4ec0\u4e48\u9700\u8981\u6807\u6ce8\uff1f",id:"1-\u4e3a\u4ec0\u4e48\u9700\u8981\u6807\u6ce8",level:3},{value:"2. \u6b63\u786e\u7684\u6807\u6ce8",id:"2-\u6b63\u786e\u7684\u6807\u6ce8",level:3},{value:"3. \u4f7f\u7528\u793a\u4f8b",id:"3-\u4f7f\u7528\u793a\u4f8b",level:3},{value:"\ud83c\udfd7\ufe0f \u7ed3\u6784\u4f53\u4e2d\u7684\u751f\u547d\u5468\u671f",id:"\ufe0f-\u7ed3\u6784\u4f53\u4e2d\u7684\u751f\u547d\u5468\u671f",level:2},{value:"1. \u57fa\u672c\u7528\u6cd5",id:"1-\u57fa\u672c\u7528\u6cd5",level:3},{value:"2. \u591a\u4e2a\u751f\u547d\u5468\u671f\u53c2\u6570",id:"2-\u591a\u4e2a\u751f\u547d\u5468\u671f\u53c2\u6570",level:3},{value:"\ud83c\udfa8 \u751f\u547d\u5468\u671f\u7701\u7565\u89c4\u5219\uff08Lifetime Elision\uff09",id:"-\u751f\u547d\u5468\u671f\u7701\u7565\u89c4\u5219lifetime-elision",level:2},{value:"\u4e09\u5927\u7701\u7565\u89c4\u5219",id:"\u4e09\u5927\u7701\u7565\u89c4\u5219",level:3},{value:"\u89c4\u5219 1: \u6bcf\u4e2a\u5f15\u7528\u53c2\u6570\u90fd\u6709\u81ea\u5df1\u7684\u751f\u547d\u5468\u671f",id:"\u89c4\u5219-1-\u6bcf\u4e2a\u5f15\u7528\u53c2\u6570\u90fd\u6709\u81ea\u5df1\u7684\u751f\u547d\u5468\u671f",level:4},{value:"\u89c4\u5219 2: \u53ea\u6709\u4e00\u4e2a\u8f93\u5165\u751f\u547d\u5468\u671f\u65f6\uff0c\u8d4b\u7ed9\u6240\u6709\u8f93\u51fa",id:"\u89c4\u5219-2-\u53ea\u6709\u4e00\u4e2a\u8f93\u5165\u751f\u547d\u5468\u671f\u65f6\u8d4b\u7ed9\u6240\u6709\u8f93\u51fa",level:4},{value:"\u89c4\u5219 3: \u65b9\u6cd5\u4e2d\uff0cself \u7684\u751f\u547d\u5468\u671f\u8d4b\u7ed9\u6240\u6709\u8f93\u51fa",id:"\u89c4\u5219-3-\u65b9\u6cd5\u4e2dself-\u7684\u751f\u547d\u5468\u671f\u8d4b\u7ed9\u6240\u6709\u8f93\u51fa",level:4},{value:"\u793a\u4f8b\uff1afirst_word \u51fd\u6570",id:"\u793a\u4f8bfirst_word-\u51fd\u6570",level:3},{value:"\ud83d\udd27 \u65b9\u6cd5\u5b9a\u4e49\u4e2d\u7684\u751f\u547d\u5468\u671f",id:"-\u65b9\u6cd5\u5b9a\u4e49\u4e2d\u7684\u751f\u547d\u5468\u671f",level:2},{value:"1. \u57fa\u672c\u65b9\u6cd5",id:"1-\u57fa\u672c\u65b9\u6cd5",level:3},{value:"2. \u8fd4\u56de\u5f15\u7528\u7684\u65b9\u6cd5",id:"2-\u8fd4\u56de\u5f15\u7528\u7684\u65b9\u6cd5",level:3},{value:"\ud83c\udf1f &#39;static \u751f\u547d\u5468\u671f",id:"-static-\u751f\u547d\u5468\u671f",level:2},{value:"1. \u4ec0\u4e48\u662f &#39;static\uff1f",id:"1-\u4ec0\u4e48\u662f-static",level:3},{value:"2. \u4f55\u65f6\u4f7f\u7528\uff1f",id:"2-\u4f55\u65f6\u4f7f\u7528",level:3},{value:"\ud83d\ude80 \u9ad8\u7ea7\u7279\u6027",id:"-\u9ad8\u7ea7\u7279\u6027",level:2},{value:"1. \u751f\u547d\u5468\u671f\u7ea6\u675f",id:"1-\u751f\u547d\u5468\u671f\u7ea6\u675f",level:3},{value:"2. T: &#39;a \u7ea6\u675f",id:"2-t-a-\u7ea6\u675f",level:3},{value:"3. \u591a\u4e2a\u751f\u547d\u5468\u671f\u53c2\u6570",id:"3-\u591a\u4e2a\u751f\u547d\u5468\u671f\u53c2\u6570",level:3},{value:"\ud83d\udca1 \u5b9e\u6218\u793a\u4f8b",id:"-\u5b9e\u6218\u793a\u4f8b",level:2},{value:"\u793a\u4f8b 1: \u5b57\u7b26\u4e32\u5206\u5272",id:"\u793a\u4f8b-1-\u5b57\u7b26\u4e32\u5206\u5272",level:3},{value:"\u793a\u4f8b 2: \u7f13\u5b58\u7ed3\u6784",id:"\u793a\u4f8b-2-\u7f13\u5b58\u7ed3\u6784",level:3},{value:"\u793a\u4f8b 3: \u6cdb\u578b + Trait + \u751f\u547d\u5468\u671f",id:"\u793a\u4f8b-3-\u6cdb\u578b--trait--\u751f\u547d\u5468\u671f",level:3},{value:"\ud83d\udcda \u603b\u7ed3",id:"-\u603b\u7ed3",level:2},{value:"\u751f\u547d\u5468\u671f\u7684\u6838\u5fc3\u4ef7\u503c",id:"\u751f\u547d\u5468\u671f\u7684\u6838\u5fc3\u4ef7\u503c",level:3},{value:"\u6700\u4f73\u5b9e\u8df5",id:"\u6700\u4f73\u5b9e\u8df5",level:3},{value:"\u5e38\u89c1\u9519\u8bef",id:"\u5e38\u89c1\u9519\u8bef",level:3},{value:"\ud83c\udf93 \u9ad8\u7ea7\u4e3b\u9898",id:"-\u9ad8\u7ea7\u4e3b\u9898",level:2},{value:"1. NLL (Non-Lexical Lifetime)",id:"1-nll-non-lexical-lifetime",level:3},{value:"NLL \u7684\u8be6\u7ec6\u793a\u4f8b",id:"nll-\u7684\u8be6\u7ec6\u793a\u4f8b",level:4},{value:"2. Reborrow (\u518d\u501f\u7528)",id:"2-reborrow-\u518d\u501f\u7528",level:3},{value:"\u9519\u8bef\u793a\u4f8b",id:"\u9519\u8bef\u793a\u4f8b",level:4},{value:"3. \u65e0\u754c\u751f\u547d\u5468\u671f (Unbounded Lifetime)",id:"3-\u65e0\u754c\u751f\u547d\u5468\u671f-unbounded-lifetime",level:3},{value:"4. \u95ed\u5305\u4e2d\u7684\u751f\u547d\u5468\u671f",id:"4-\u95ed\u5305\u4e2d\u7684\u751f\u547d\u5468\u671f",level:3},{value:"\u89e3\u51b3\u65b9\u6848\uff1a\u4f7f\u7528 Fn trait",id:"\u89e3\u51b3\u65b9\u6848\u4f7f\u7528-fn-trait",level:4},{value:"5. \u751f\u547d\u5468\u671f\u7ea6\u675f\u7684\u9ad8\u7ea7\u7528\u6cd5",id:"5-\u751f\u547d\u5468\u671f\u7ea6\u675f\u7684\u9ad8\u7ea7\u7528\u6cd5",level:3},{value:"\u793a\u4f8b\uff1a\u590d\u6742\u7684\u751f\u547d\u5468\u671f\u5173\u7cfb",id:"\u793a\u4f8b\u590d\u6742\u7684\u751f\u547d\u5468\u671f\u5173\u7cfb",level:4},{value:"\ud83d\udc1b \u5e38\u89c1\u9677\u9631\u4e0e\u89e3\u51b3\u65b9\u6848",id:"-\u5e38\u89c1\u9677\u9631\u4e0e\u89e3\u51b3\u65b9\u6848",level:2},{value:"\u9677\u9631 1: \u751f\u547d\u5468\u671f\u68c0\u67e5\u5668\u4e0d\u591f\u806a\u660e",id:"\u9677\u9631-1-\u751f\u547d\u5468\u671f\u68c0\u67e5\u5668\u4e0d\u591f\u806a\u660e",level:3},{value:"\u9677\u9631 2: HashMap \u7684 get_mut \u95ee\u9898",id:"\u9677\u9631-2-hashmap-\u7684-get_mut-\u95ee\u9898",level:3},{value:"\u9677\u9631 3: \u8fd4\u56de\u5c40\u90e8\u53d8\u91cf\u7684\u5f15\u7528",id:"\u9677\u9631-3-\u8fd4\u56de\u5c40\u90e8\u53d8\u91cf\u7684\u5f15\u7528",level:3},{value:"\ud83d\udcca \u751f\u547d\u5468\u671f\u901f\u67e5\u8868",id:"-\u751f\u547d\u5468\u671f\u901f\u67e5\u8868",level:2},{value:"\ud83c\udfaf \u5b9e\u7528\u6280\u5de7",id:"-\u5b9e\u7528\u6280\u5de7",level:2},{value:"\u6280\u5de7 1: \u4f7f\u7528 &#39;_ \u7b80\u5316\u4ee3\u7801",id:"\u6280\u5de7-1-\u4f7f\u7528-_-\u7b80\u5316\u4ee3\u7801",level:3},{value:"\u6280\u5de7 2: \u4f18\u5148\u4f7f\u7528\u7701\u7565\u89c4\u5219",id:"\u6280\u5de7-2-\u4f18\u5148\u4f7f\u7528\u7701\u7565\u89c4\u5219",level:3},{value:"\u6280\u5de7 3: \u4f7f\u7528 where \u5b50\u53e5\u63d0\u9ad8\u53ef\u8bfb\u6027",id:"\u6280\u5de7-3-\u4f7f\u7528-where-\u5b50\u53e5\u63d0\u9ad8\u53ef\u8bfb\u6027",level:3},{value:"\ud83d\udcda \u603b\u7ed3",id:"-\u603b\u7ed3-1",level:2},{value:"\u6838\u5fc3\u8981\u70b9",id:"\u6838\u5fc3\u8981\u70b9",level:3},{value:"\u5b66\u4e60\u8def\u5f84",id:"\u5b66\u4e60\u8def\u5f84",level:3}];function h(n){const e={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"rust-\u751f\u547d\u5468\u671f\u8be6\u89e3",children:"Rust \u751f\u547d\u5468\u671f\u8be6\u89e3"})}),"\n",(0,l.jsx)(e.h2,{id:"-\u4ec0\u4e48\u662f\u751f\u547d\u5468\u671f",children:"\ud83d\udcda \u4ec0\u4e48\u662f\u751f\u547d\u5468\u671f\uff1f"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u751f\u547d\u5468\u671f\uff08Lifetime\uff09"})," \u662f Rust \u4e2d\u6bcf\u4e2a\u5f15\u7528\u90fd\u5177\u6709\u7684\u5c5e\u6027\uff0c\u8868\u793a\u5f15\u7528\u4fdd\u6301\u6709\u6548\u7684\u4f5c\u7528\u57df\u8303\u56f4\u3002"]}),"\n",(0,l.jsx)(e.h3,{id:"\u6838\u5fc3\u6982\u5ff5",children:"\u6838\u5fc3\u6982\u5ff5"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u2705 \u751f\u547d\u5468\u671f\u662f\u5f15\u7528\u6709\u6548\u7684\u4f5c\u7528\u57df"}),"\n",(0,l.jsx)(e.li,{children:"\u2705 \u5927\u90e8\u5206\u65f6\u5019\u751f\u547d\u5468\u671f\u662f\u9690\u5f0f\u7684\uff0c\u53ef\u4ee5\u88ab\u63a8\u65ad"}),"\n",(0,l.jsxs)(e.li,{children:["\u2705 \u751f\u547d\u5468\u671f\u7684\u4e3b\u8981\u76ee\u6807\u662f",(0,l.jsx)(e.strong,{children:"\u907f\u514d\u60ac\u5782\u5f15\u7528"})]}),"\n",(0,l.jsx)(e.li,{children:"\u2705 \u751f\u547d\u5468\u671f\u662f Rust \u6700\u72ec\u7279\u7684\u7279\u6027\u4e4b\u4e00"}),"\n",(0,l.jsx)(e.li,{children:"\u2705 \u751f\u547d\u5468\u671f\u5728\u7f16\u8bd1\u65f6\u68c0\u67e5\uff0c\u4e0d\u5f71\u54cd\u8fd0\u884c\u65f6\u6027\u80fd"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\u4e3a\u4ec0\u4e48\u9700\u8981\u751f\u547d\u5468\u671f",children:"\u4e3a\u4ec0\u4e48\u9700\u8981\u751f\u547d\u5468\u671f\uff1f"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:'// \u274c \u60ac\u5782\u5f15\u7528\u793a\u4f8b\nfn main() {\n    let r;\n    \n    {\n        let x = 5;\n        r = &x;  // x \u7684\u5f15\u7528\n    }  // x \u5728\u8fd9\u91cc\u88ab\u9500\u6bc1\n    \n    println!("r: {}", r);  // \u9519\u8bef\uff01r \u5f15\u7528\u4e86\u5df2\u9500\u6bc1\u7684 x\n}\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u7f16\u8bd1\u9519\u8bef"}),":"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:"error[E0597]: `x` does not live long enough\n"})}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"-\u501f\u7528\u68c0\u67e5\u5668borrow-checker",children:"\ud83d\udd0d \u501f\u7528\u68c0\u67e5\u5668\uff08Borrow Checker\uff09"}),"\n",(0,l.jsx)(e.p,{children:"Rust \u7f16\u8bd1\u5668\u7684\u501f\u7528\u68c0\u67e5\u5668\u901a\u8fc7\u6bd4\u8f83\u4f5c\u7528\u57df\u6765\u786e\u4fdd\u6240\u6709\u501f\u7528\u90fd\u662f\u6709\u6548\u7684\u3002"}),"\n",(0,l.jsx)(e.h3,{id:"\u793a\u4f8b\u751f\u547d\u5468\u671f\u6807\u6ce8",children:"\u793a\u4f8b\uff1a\u751f\u547d\u5468\u671f\u6807\u6ce8"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"fn main() {\n    let r;                // ---------+-- 'a\n                          //          |\n    {                     //          |\n        let x = 5;        // -+-- 'b  |\n        r = &x;           //  |       |\n    }                     // -+       |\n                          //          |\n    println!(\"r: {}\", r); //          |\n}                         // ---------+\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u5206\u6790"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"r"})," \u7684\u751f\u547d\u5468\u671f\u662f ",(0,l.jsx)(e.code,{children:"'a"}),"\uff08\u5916\u90e8\u4f5c\u7528\u57df\uff09"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"x"})," \u7684\u751f\u547d\u5468\u671f\u662f ",(0,l.jsx)(e.code,{children:"'b"}),"\uff08\u5185\u90e8\u4f5c\u7528\u57df\uff09"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"'b"})," < ",(0,l.jsx)(e.code,{children:"'a"}),"\uff0c\u6240\u4ee5 ",(0,l.jsx)(e.code,{children:"r"})," \u5f15\u7528\u7684\u5bf9\u8c61\u6bd4\u5f15\u7528\u672c\u8eab\u5b58\u6d3b\u65f6\u95f4\u77ed"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u7f16\u8bd1\u5931\u8d25"}),"\uff1a\u88ab\u5f15\u7528\u7684\u5bf9\u8c61\u5fc5\u987b\u6bd4\u5f15\u7528\u5b58\u6d3b\u5f97\u66f4\u4e45"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\u6b63\u786e\u7684\u793a\u4f8b",children:"\u6b63\u786e\u7684\u793a\u4f8b"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"fn main() {\n    let x = 5;            // ----------+-- 'b\n                          //           |\n    let r = &x;           // --+-- 'a  |\n                          //   |       |\n    println!(\"r: {}\", r); //   |       |\n                          // --+       |\n}                         // ----------+\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u5206\u6790"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"x"})," \u7684\u751f\u547d\u5468\u671f ",(0,l.jsx)(e.code,{children:"'b"})," > ",(0,l.jsx)(e.code,{children:"r"})," \u7684\u751f\u547d\u5468\u671f ",(0,l.jsx)(e.code,{children:"'a"})]}),"\n",(0,l.jsx)(e.li,{children:"\u2705 \u7f16\u8bd1\u901a\u8fc7"}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"-\u751f\u547d\u5468\u671f\u6807\u6ce8\u8bed\u6cd5",children:"\ud83c\udfaf \u751f\u547d\u5468\u671f\u6807\u6ce8\u8bed\u6cd5"}),"\n",(0,l.jsx)(e.h3,{id:"1-\u57fa\u672c\u8bed\u6cd5",children:"1. \u57fa\u672c\u8bed\u6cd5"}),"\n",(0,l.jsxs)(e.p,{children:["\u751f\u547d\u5468\u671f\u6807\u6ce8\u4ee5\u6487\u53f7 ",(0,l.jsx)(e.code,{children:"'"})," \u5f00\u5934\uff0c\u901a\u5e38\u4f7f\u7528\u5c0f\u5199\u5b57\u6bcd\uff1a"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"&i32        // \u666e\u901a\u5f15\u7528\n&'a i32     // \u5e26\u6709\u663e\u5f0f\u751f\u547d\u5468\u671f 'a \u7684\u5f15\u7528\n&'a mut i32 // \u5e26\u6709\u663e\u5f0f\u751f\u547d\u5468\u671f 'a \u7684\u53ef\u53d8\u5f15\u7528\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u547d\u540d\u89c4\u8303"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u5fc5\u987b\u4ee5 ",(0,l.jsx)(e.code,{children:"'"})," \u5f00\u5934"]}),"\n",(0,l.jsx)(e.li,{children:"\u901a\u5e38\u5168\u5c0f\u5199\u4e14\u5f88\u77ed"}),"\n",(0,l.jsxs)(e.li,{children:["\u6700\u5e38\u7528\u7684\u662f ",(0,l.jsx)(e.code,{children:"'a"}),"\u3001",(0,l.jsx)(e.code,{children:"'b"}),"\u3001",(0,l.jsx)(e.code,{children:"'c"})]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"2-\u751f\u547d\u5468\u671f\u6807\u6ce8\u7684\u542b\u4e49",children:"2. \u751f\u547d\u5468\u671f\u6807\u6ce8\u7684\u542b\u4e49"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u91cd\u8981"}),": \u751f\u547d\u5468\u671f\u6807\u6ce8",(0,l.jsx)(e.strong,{children:"\u4e0d\u4f1a\u6539\u53d8"}),"\u5f15\u7528\u7684\u5b9e\u9645\u751f\u547d\u5468\u671f\uff0c\u5b83\u53ea\u662f\u63cf\u8ff0\u591a\u4e2a\u5f15\u7528\u4e4b\u95f4\u7684\u5173\u7cfb\u3002"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"// \u8fd9\u4e24\u4e2a\u5f15\u7528\u5fc5\u987b\u6709\u76f8\u540c\u7684\u751f\u547d\u5468\u671f\nfn example<'a>(x: &'a i32, y: &'a i32) {\n    // ...\n}\n"})}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"-\u51fd\u6570\u4e2d\u7684\u751f\u547d\u5468\u671f",children:"\ud83d\udcdd \u51fd\u6570\u4e2d\u7684\u751f\u547d\u5468\u671f"}),"\n",(0,l.jsx)(e.h3,{id:"1-\u4e3a\u4ec0\u4e48\u9700\u8981\u6807\u6ce8",children:"1. \u4e3a\u4ec0\u4e48\u9700\u8981\u6807\u6ce8\uff1f"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"// \u274c \u7f16\u8bd1\u5931\u8d25\nfn longest(x: &str, y: &str) -> &str {\n    if x.len() > y.len() {\n        x\n    } else {\n        y\n    }\n}\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u9519\u8bef\u4fe1\u606f"}),":"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:"error[E0106]: missing lifetime specifier\n  --\x3e src/main.rs:1:33\n   |\n1 | fn longest(x: &str, y: &str) -> &str {\n   |                                 ^ expected named lifetime parameter\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u539f\u56e0"}),": \u7f16\u8bd1\u5668\u4e0d\u77e5\u9053\u8fd4\u56de\u7684\u5f15\u7528\u662f\u6765\u81ea ",(0,l.jsx)(e.code,{children:"x"})," \u8fd8\u662f ",(0,l.jsx)(e.code,{children:"y"}),"\uff0c\u65e0\u6cd5\u786e\u5b9a\u8fd4\u56de\u503c\u7684\u751f\u547d\u5468\u671f\u3002"]}),"\n",(0,l.jsx)(e.h3,{id:"2-\u6b63\u786e\u7684\u6807\u6ce8",children:"2. \u6b63\u786e\u7684\u6807\u6ce8"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"fn longest<'a>(x: &'a str, y: &'a str) -> &'a str {\n    if x.len() > y.len() {\n        x\n    } else {\n        y\n    }\n}\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u542b\u4e49"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u53c2\u6570 ",(0,l.jsx)(e.code,{children:"x"})," \u548c ",(0,l.jsx)(e.code,{children:"y"})," \u7684\u751f\u547d\u5468\u671f\u90fd\u662f ",(0,l.jsx)(e.code,{children:"'a"})]}),"\n",(0,l.jsxs)(e.li,{children:["\u8fd4\u56de\u503c\u7684\u751f\u547d\u5468\u671f\u4e5f\u662f ",(0,l.jsx)(e.code,{children:"'a"})]}),"\n",(0,l.jsxs)(e.li,{children:["\u8fd4\u56de\u503c\u7684\u751f\u547d\u5468\u671f = ",(0,l.jsx)(e.code,{children:"min(x\u7684\u751f\u547d\u5468\u671f, y\u7684\u751f\u547d\u5468\u671f)"})]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"3-\u4f7f\u7528\u793a\u4f8b",children:"3. \u4f7f\u7528\u793a\u4f8b"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:'fn main() {\n    let string1 = String::from("long string is long");\n    \n    {\n        let string2 = String::from("xyz");\n        let result = longest(string1.as_str(), string2.as_str());\n        println!("The longest string is {}", result);\n    }  // \u2705 result \u5728\u8fd9\u91cc\u7ed3\u675f\uff0c\u6ca1\u95ee\u9898\n}\n'})}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:'fn main() {\n    let string1 = String::from("long string is long");\n    let result;\n    {\n        let string2 = String::from("xyz");\n        result = longest(string1.as_str(), string2.as_str());\n    }  // string2 \u5728\u8fd9\u91cc\u88ab\u9500\u6bc1\n    \n    println!("The longest string is {}", result);  // \u274c \u9519\u8bef\uff01\n}\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u9519\u8bef\u539f\u56e0"}),": ",(0,l.jsx)(e.code,{children:"result"})," \u7684\u751f\u547d\u5468\u671f\u53d7\u9650\u4e8e ",(0,l.jsx)(e.code,{children:"string2"}),"\uff0c\u4f46 ",(0,l.jsx)(e.code,{children:"string2"})," \u5df2\u7ecf\u88ab\u9500\u6bc1\u3002"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"\ufe0f-\u7ed3\u6784\u4f53\u4e2d\u7684\u751f\u547d\u5468\u671f",children:"\ud83c\udfd7\ufe0f \u7ed3\u6784\u4f53\u4e2d\u7684\u751f\u547d\u5468\u671f"}),"\n",(0,l.jsx)(e.h3,{id:"1-\u57fa\u672c\u7528\u6cd5",children:"1. \u57fa\u672c\u7528\u6cd5"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"struct ImportantExcerpt<'a> {\n    part: &'a str,\n}\n\nfn main() {\n    let novel = String::from(\"Call me Ishmael. Some years ago...\");\n    let first_sentence = novel.split('.').next().expect(\"Could not find a '.'\");\n    \n    let i = ImportantExcerpt {\n        part: first_sentence,\n    };\n}\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u542b\u4e49"}),": ",(0,l.jsx)(e.code,{children:"ImportantExcerpt"})," \u5b9e\u4f8b\u7684\u751f\u547d\u5468\u671f\u4e0d\u80fd\u8d85\u8fc7\u5176 ",(0,l.jsx)(e.code,{children:"part"})," \u5b57\u6bb5\u5f15\u7528\u7684\u6570\u636e\u3002"]}),"\n",(0,l.jsx)(e.h3,{id:"2-\u591a\u4e2a\u751f\u547d\u5468\u671f\u53c2\u6570",children:"2. \u591a\u4e2a\u751f\u547d\u5468\u671f\u53c2\u6570"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"struct DoubleRef<'a, 'b> {\n    r: &'a i32,\n    s: &'b i32,\n}\n\nfn main() {\n    let x = 5;\n    let y = 10;\n    \n    let double = DoubleRef {\n        r: &x,\n        s: &y,\n    };\n}\n"})}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"-\u751f\u547d\u5468\u671f\u7701\u7565\u89c4\u5219lifetime-elision",children:"\ud83c\udfa8 \u751f\u547d\u5468\u671f\u7701\u7565\u89c4\u5219\uff08Lifetime Elision\uff09"}),"\n",(0,l.jsx)(e.p,{children:"\u7f16\u8bd1\u5668\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u53ef\u4ee5\u81ea\u52a8\u63a8\u65ad\u751f\u547d\u5468\u671f\uff0c\u65e0\u9700\u663e\u5f0f\u6807\u6ce8\u3002"}),"\n",(0,l.jsx)(e.h3,{id:"\u4e09\u5927\u7701\u7565\u89c4\u5219",children:"\u4e09\u5927\u7701\u7565\u89c4\u5219"}),"\n",(0,l.jsx)(e.h4,{id:"\u89c4\u5219-1-\u6bcf\u4e2a\u5f15\u7528\u53c2\u6570\u90fd\u6709\u81ea\u5df1\u7684\u751f\u547d\u5468\u671f",children:"\u89c4\u5219 1: \u6bcf\u4e2a\u5f15\u7528\u53c2\u6570\u90fd\u6709\u81ea\u5df1\u7684\u751f\u547d\u5468\u671f"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"// \u7f16\u8bd1\u5668\u81ea\u52a8\u63a8\u65ad\u4e3a\uff1a\nfn foo<'a>(x: &'a i32) {}\n\n// \u4e24\u4e2a\u53c2\u6570\uff1a\nfn foo<'a, 'b>(x: &'a i32, y: &'b i32) {}\n"})}),"\n",(0,l.jsx)(e.h4,{id:"\u89c4\u5219-2-\u53ea\u6709\u4e00\u4e2a\u8f93\u5165\u751f\u547d\u5468\u671f\u65f6\u8d4b\u7ed9\u6240\u6709\u8f93\u51fa",children:"\u89c4\u5219 2: \u53ea\u6709\u4e00\u4e2a\u8f93\u5165\u751f\u547d\u5468\u671f\u65f6\uff0c\u8d4b\u7ed9\u6240\u6709\u8f93\u51fa"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"// \u81ea\u52a8\u63a8\u65ad\u4e3a\uff1a\nfn foo<'a>(x: &'a i32) -> &'a i32 {}\n"})}),"\n",(0,l.jsx)(e.h4,{id:"\u89c4\u5219-3-\u65b9\u6cd5\u4e2dself-\u7684\u751f\u547d\u5468\u671f\u8d4b\u7ed9\u6240\u6709\u8f93\u51fa",children:"\u89c4\u5219 3: \u65b9\u6cd5\u4e2d\uff0cself \u7684\u751f\u547d\u5468\u671f\u8d4b\u7ed9\u6240\u6709\u8f93\u51fa"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"impl<'a> MyStruct<'a> {\n    // \u81ea\u52a8\u63a8\u65ad\u4e3a\uff1a\n    fn method<'b>(&'a self, other: &'b str) -> &'a str {}\n}\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u793a\u4f8bfirst_word-\u51fd\u6570",children:"\u793a\u4f8b\uff1afirst_word \u51fd\u6570"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"// \u4e0d\u9700\u8981\u663e\u5f0f\u6807\u6ce8\nfn first_word(s: &str) -> &str {\n    let bytes = s.as_bytes();\n    \n    for (i, &item) in bytes.iter().enumerate() {\n        if item == b' ' {\n            return &s[0..i];\n        }\n    }\n    \n    &s[..]\n}\n\n// \u7f16\u8bd1\u5668\u81ea\u52a8\u63a8\u65ad\u4e3a\uff1a\nfn first_word<'a>(s: &'a str) -> &'a str {\n    // ...\n}\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u5e94\u7528\u89c4\u5219"}),":"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\u89c4\u5219 1: ",(0,l.jsx)(e.code,{children:"s"})," \u83b7\u5f97\u751f\u547d\u5468\u671f ",(0,l.jsx)(e.code,{children:"'a"})]}),"\n",(0,l.jsx)(e.li,{children:"\u89c4\u5219 2: \u53ea\u6709\u4e00\u4e2a\u8f93\u5165\u751f\u547d\u5468\u671f\uff0c\u8d4b\u7ed9\u8f93\u51fa"}),"\n",(0,l.jsxs)(e.li,{children:["\u7ed3\u679c: ",(0,l.jsx)(e.code,{children:"fn first_word<'a>(s: &'a str) -> &'a str"})]}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"-\u65b9\u6cd5\u5b9a\u4e49\u4e2d\u7684\u751f\u547d\u5468\u671f",children:"\ud83d\udd27 \u65b9\u6cd5\u5b9a\u4e49\u4e2d\u7684\u751f\u547d\u5468\u671f"}),"\n",(0,l.jsx)(e.h3,{id:"1-\u57fa\u672c\u65b9\u6cd5",children:"1. \u57fa\u672c\u65b9\u6cd5"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"struct ImportantExcerpt<'a> {\n    part: &'a str,\n}\n\nimpl<'a> ImportantExcerpt<'a> {\n    fn level(&self) -> i32 {\n        3  // \u8fd4\u56de\u503c\u4e0d\u662f\u5f15\u7528\uff0c\u65e0\u9700\u751f\u547d\u5468\u671f\u6807\u6ce8\n    }\n}\n"})}),"\n",(0,l.jsx)(e.h3,{id:"2-\u8fd4\u56de\u5f15\u7528\u7684\u65b9\u6cd5",children:"2. \u8fd4\u56de\u5f15\u7528\u7684\u65b9\u6cd5"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"impl<'a> ImportantExcerpt<'a> {\n    fn announce_and_return_part(&self, announcement: &str) -> &str {\n        println!(\"Attention please: {}\", announcement);\n        self.part  // \u8fd4\u56de self \u7684\u5f15\u7528\n    }\n}\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u5e94\u7528\u7701\u7565\u89c4\u5219"}),":"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\u89c4\u5219 1: ",(0,l.jsx)(e.code,{children:"&self"})," \u548c ",(0,l.jsx)(e.code,{children:"announcement"})," \u5404\u6709\u81ea\u5df1\u7684\u751f\u547d\u5468\u671f"]}),"\n",(0,l.jsxs)(e.li,{children:["\u89c4\u5219 3: \u8fd4\u56de\u503c\u83b7\u5f97 ",(0,l.jsx)(e.code,{children:"&self"})," \u7684\u751f\u547d\u5468\u671f"]}),"\n",(0,l.jsx)(e.li,{children:"\u7ed3\u679c: \u65e0\u9700\u663e\u5f0f\u6807\u6ce8"}),"\n"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"-static-\u751f\u547d\u5468\u671f",children:"\ud83c\udf1f 'static \u751f\u547d\u5468\u671f"}),"\n",(0,l.jsx)(e.h3,{id:"1-\u4ec0\u4e48\u662f-static",children:"1. \u4ec0\u4e48\u662f 'static\uff1f"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.code,{children:"'static"})," \u8868\u793a\u5f15\u7528\u5728\u6574\u4e2a\u7a0b\u5e8f\u8fd0\u884c\u671f\u95f4\u90fd\u6709\u6548\u3002"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:'let s: &\'static str = "I have a static lifetime.";\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u7279\u70b9"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["\u5b57\u7b26\u4e32\u5b57\u9762\u91cf\u90fd\u662f ",(0,l.jsx)(e.code,{children:"'static"})]}),"\n",(0,l.jsx)(e.li,{children:"\u6570\u636e\u5b58\u50a8\u5728\u7a0b\u5e8f\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d"}),"\n",(0,l.jsx)(e.li,{children:"\u59cb\u7ec8\u53ef\u7528"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"2-\u4f55\u65f6\u4f7f\u7528",children:"2. \u4f55\u65f6\u4f7f\u7528\uff1f"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:'// \u2705 \u5b57\u7b26\u4e32\u5b57\u9762\u91cf\nconst GREETING: &\'static str = "Hello, world!";\n\n// \u274c \u4e0d\u8981\u6ee5\u7528\nfn bad_example() -> &\'static str {\n    let s = String::from("hello");\n    // \u9519\u8bef\uff01\u4e0d\u80fd\u8fd4\u56de \'static \u5f15\u7528\n}\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u8b66\u544a"}),": \u770b\u5230\u7f16\u8bd1\u5668\u5efa\u8bae\u4f7f\u7528 ",(0,l.jsx)(e.code,{children:"'static"})," \u65f6\uff0c\u5148\u601d\u8003\u662f\u5426\u771f\u7684\u9700\u8981\uff0c\u901a\u5e38\u662f\u5176\u4ed6\u95ee\u9898\u5bfc\u81f4\u7684\u3002"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"-\u9ad8\u7ea7\u7279\u6027",children:"\ud83d\ude80 \u9ad8\u7ea7\u7279\u6027"}),"\n",(0,l.jsx)(e.h3,{id:"1-\u751f\u547d\u5468\u671f\u7ea6\u675f",children:"1. \u751f\u547d\u5468\u671f\u7ea6\u675f"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"// 'a: 'b \u8868\u793a 'a \u81f3\u5c11\u8981\u6d3b\u5f97\u8ddf 'b \u4e00\u6837\u4e45\nstruct Ref<'a, 'b: 'a> {\n    x: &'a i32,\n    y: &'b i32,\n}\n"})}),"\n",(0,l.jsx)(e.h3,{id:"2-t-a-\u7ea6\u675f",children:"2. T: 'a \u7ea6\u675f"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"// T \u5fc5\u987b\u6bd4 'a \u6d3b\u5f97\u4e45\nstruct Wrapper<'a, T: 'a> {\n    value: &'a T,\n}\n\n// Rust 1.31+ \u53ef\u4ee5\u7701\u7565\nstruct Wrapper<'a, T> {\n    value: &'a T,\n}\n"})}),"\n",(0,l.jsx)(e.h3,{id:"3-\u591a\u4e2a\u751f\u547d\u5468\u671f\u53c2\u6570",children:"3. \u591a\u4e2a\u751f\u547d\u5468\u671f\u53c2\u6570"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"fn complex<'a, 'b>(x: &'a str, y: &'b str) -> &'a str\nwhere\n    'b: 'a,  // 'b \u5fc5\u987b\u6bd4 'a \u6d3b\u5f97\u4e45\n{\n    x\n}\n"})}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"-\u5b9e\u6218\u793a\u4f8b",children:"\ud83d\udca1 \u5b9e\u6218\u793a\u4f8b"}),"\n",(0,l.jsx)(e.h3,{id:"\u793a\u4f8b-1-\u5b57\u7b26\u4e32\u5206\u5272",children:"\u793a\u4f8b 1: \u5b57\u7b26\u4e32\u5206\u5272"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"fn split_first_word<'a>(s: &'a str) -> (&'a str, &'a str) {\n    match s.find(' ') {\n        Some(pos) => (&s[..pos], &s[pos + 1..]),\n        None => (s, \"\"),\n    }\n}\n\nfn main() {\n    let sentence = String::from(\"Hello world\");\n    let (first, rest) = split_first_word(&sentence);\n    println!(\"First: {}, Rest: {}\", first, rest);\n}\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u793a\u4f8b-2-\u7f13\u5b58\u7ed3\u6784",children:"\u793a\u4f8b 2: \u7f13\u5b58\u7ed3\u6784"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"struct Cache<'a> {\n    data: &'a str,\n    computed: Option<String>,\n}\n\nimpl<'a> Cache<'a> {\n    fn new(data: &'a str) -> Self {\n        Cache {\n            data,\n            computed: None,\n        }\n    }\n    \n    fn get_or_compute(&mut self) -> &str {\n        if self.computed.is_none() {\n            self.computed = Some(self.data.to_uppercase());\n        }\n        self.computed.as_ref().unwrap()\n    }\n}\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u793a\u4f8b-3-\u6cdb\u578b--trait--\u751f\u547d\u5468\u671f",children:"\u793a\u4f8b 3: \u6cdb\u578b + Trait + \u751f\u547d\u5468\u671f"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:'use std::fmt::Display;\n\nfn longest_with_announcement<\'a, T>(\n    x: &\'a str,\n    y: &\'a str,\n    ann: T,\n) -> &\'a str\nwhere\n    T: Display,\n{\n    println!("Announcement! {}", ann);\n    if x.len() > y.len() {\n        x\n    } else {\n        y\n    }\n}\n\nfn main() {\n    let string1 = String::from("abcd");\n    let string2 = "xyz";\n    \n    let result = longest_with_announcement(\n        string1.as_str(),\n        string2,\n        "Today is someone\'s birthday!",\n    );\n    println!("The longest string is {}", result);\n}\n'})}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"-\u603b\u7ed3",children:"\ud83d\udcda \u603b\u7ed3"}),"\n",(0,l.jsx)(e.h3,{id:"\u751f\u547d\u5468\u671f\u7684\u6838\u5fc3\u4ef7\u503c",children:"\u751f\u547d\u5468\u671f\u7684\u6838\u5fc3\u4ef7\u503c"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u5185\u5b58\u5b89\u5168"})," - \u9632\u6b62\u60ac\u5782\u5f15\u7528"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u7f16\u8bd1\u65f6\u68c0\u67e5"})," - \u96f6\u8fd0\u884c\u65f6\u5f00\u9500"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u660e\u786e\u5173\u7cfb"})," - \u6e05\u6670\u8868\u8fbe\u5f15\u7528\u4e4b\u95f4\u7684\u5173\u7cfb"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u81ea\u52a8\u63a8\u65ad"})," - \u5927\u90e8\u5206\u60c5\u51b5\u65e0\u9700\u663e\u5f0f\u6807\u6ce8"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\u6700\u4f73\u5b9e\u8df5",children:"\u6700\u4f73\u5b9e\u8df5"}),"\n",(0,l.jsxs)(e.p,{children:["\u2705 ",(0,l.jsx)(e.strong,{children:"\u4f18\u5148\u4f9d\u8d56\u7701\u7565\u89c4\u5219"})," - \u8ba9\u7f16\u8bd1\u5668\u81ea\u52a8\u63a8\u65ad",(0,l.jsx)(e.br,{}),"\n","\u2705 ",(0,l.jsx)(e.strong,{children:"\u53ea\u5728\u5fc5\u8981\u65f6\u6807\u6ce8"})," - \u7f16\u8bd1\u5668\u62a5\u9519\u65f6\u518d\u6dfb\u52a0",(0,l.jsx)(e.br,{}),"\n","\u2705 ",(0,l.jsx)(e.strong,{children:"\u4f7f\u7528\u6709\u610f\u4e49\u7684\u540d\u79f0"})," - ",(0,l.jsx)(e.code,{children:"'a"}),"\u3001",(0,l.jsx)(e.code,{children:"'b"})," \u5bf9\u7b80\u5355\u60c5\u51b5\u8db3\u591f",(0,l.jsx)(e.br,{}),"\n","\u2705 ",(0,l.jsx)(e.strong,{children:"\u907f\u514d\u8fc7\u5ea6\u4f7f\u7528 'static"})," - \u901a\u5e38\u6709\u66f4\u597d\u7684\u89e3\u51b3\u65b9\u6848",(0,l.jsx)(e.br,{}),"\n","\u2705 ",(0,l.jsx)(e.strong,{children:"\u7406\u89e3\u501f\u7528\u68c0\u67e5\u5668"})," - \u5b83\u662f\u4f60\u7684\u670b\u53cb\uff0c\u4e0d\u662f\u654c\u4eba"]}),"\n",(0,l.jsx)(e.h3,{id:"\u5e38\u89c1\u9519\u8bef",children:"\u5e38\u89c1\u9519\u8bef"}),"\n",(0,l.jsxs)(e.p,{children:["\u274c ",(0,l.jsx)(e.strong,{children:"\u8fd4\u56de\u5c40\u90e8\u53d8\u91cf\u7684\u5f15\u7528"})]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:'fn bad() -> &str {\n    let s = String::from("hello");\n    &s  // \u9519\u8bef\uff01s \u4f1a\u88ab\u9500\u6bc1\n}\n'})}),"\n",(0,l.jsxs)(e.p,{children:["\u274c ",(0,l.jsx)(e.strong,{children:"\u751f\u547d\u5468\u671f\u4e0d\u5339\u914d"})]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"fn bad<'a>(x: &'a str) -> &'a str {\n    let s = String::from(\"hello\");\n    &s  // \u9519\u8bef\uff01\u8fd4\u56de\u503c\u751f\u547d\u5468\u671f\u4e0d\u5339\u914d\n}\n"})}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"-\u9ad8\u7ea7\u4e3b\u9898",children:"\ud83c\udf93 \u9ad8\u7ea7\u4e3b\u9898"}),"\n",(0,l.jsx)(e.h3,{id:"1-nll-non-lexical-lifetime",children:"1. NLL (Non-Lexical Lifetime)"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u4f20\u7edf\u89c4\u5219"}),": \u5f15\u7528\u7684\u751f\u547d\u5468\u671f\u4ece\u501f\u7528\u5f00\u59cb\u6301\u7eed\u5230\u4f5c\u7528\u57df\u7ed3\u675f\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"NLL \u89c4\u5219"})," (Rust 1.31+): \u5f15\u7528\u7684\u751f\u547d\u5468\u671f\u4ece\u501f\u7528\u5f00\u59cb\uff0c\u6301\u7eed\u5230",(0,l.jsx)(e.strong,{children:"\u6700\u540e\u4e00\u6b21\u4f7f\u7528"}),"\u3002"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:'fn main() {\n    let mut s = String::from("hello");\n\n    let r1 = &s;\n    let r2 = &s;\n    println!("{} and {}", r1, r2);\n    // r1 \u548c r2 \u7684\u751f\u547d\u5468\u671f\u5728\u8fd9\u91cc\u7ed3\u675f\uff08\u6700\u540e\u4e00\u6b21\u4f7f\u7528\uff09\n\n    let r3 = &mut s;  // \u2705 \u73b0\u5728\u53ef\u4ee5\u4e86\uff01\n    println!("{}", r3);\n}\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u4f20\u7edf\u89c4\u5219\u4e0b"}),": \u4e0a\u8ff0\u4ee3\u7801\u4f1a\u62a5\u9519\uff0c\u56e0\u4e3a ",(0,l.jsx)(e.code,{children:"r1"})," \u548c ",(0,l.jsx)(e.code,{children:"r2"})," \u4f1a\u6301\u7eed\u5230 ",(0,l.jsx)(e.code,{children:"main"})," \u7ed3\u675f\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"NLL \u89c4\u5219\u4e0b"}),": \u2705 \u7f16\u8bd1\u901a\u8fc7\uff0c\u56e0\u4e3a ",(0,l.jsx)(e.code,{children:"r1"})," \u548c ",(0,l.jsx)(e.code,{children:"r2"})," \u5728 ",(0,l.jsx)(e.code,{children:"println!"})," \u540e\u5c31\u4e0d\u518d\u4f7f\u7528\u3002"]}),"\n",(0,l.jsx)(e.h4,{id:"nll-\u7684\u8be6\u7ec6\u793a\u4f8b",children:"NLL \u7684\u8be6\u7ec6\u793a\u4f8b"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"let mut u = 0i32;\nlet mut v = 1i32;\nlet mut w = 2i32;\n\n// a \u6709\u4e09\u6bb5\u751f\u547d\u5468\u671f\uff1a\u03b1, \u03b2, \u03b3\nlet mut a = &mut u;     // --+ \u03b1. lifetime of `&mut u`\nuse(a);                 //   |\n*a = 3;                 // <-+ \u03b1 \u7ed3\u675f\n\na = &mut v;             // --+ \u03b2. lifetime of `&mut v`\nuse(a);                 //   |\n*a = 4;                 // <-+ \u03b2 \u7ed3\u675f\n\na = &mut w;             // --+ \u03b3. lifetime of `&mut w`\nuse(a);                 //   |\n*a = 5;                 // <-+ \u03b3 \u7ed3\u675f\n"})}),"\n",(0,l.jsx)(e.h3,{id:"2-reborrow-\u518d\u501f\u7528",children:"2. Reborrow (\u518d\u501f\u7528)"}),"\n",(0,l.jsx)(e.p,{children:"\u518d\u501f\u7528\u5141\u8bb8\u4ece\u4e00\u4e2a\u53ef\u53d8\u5f15\u7528\u521b\u5efa\u65b0\u7684\u5f15\u7528\uff0c\u800c\u4e0d\u8fdd\u53cd\u501f\u7528\u89c4\u5219\u3002"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:'#[derive(Debug)]\nstruct Point {\n    x: i32,\n    y: i32,\n}\n\nimpl Point {\n    fn move_to(&mut self, x: i32, y: i32) {\n        self.x = x;\n        self.y = y;\n    }\n}\n\nfn main() {\n    let mut p = Point { x: 0, y: 0 };\n    let r = &mut p;\n\n    // \u518d\u501f\u7528\uff1a\u4ece r \u521b\u5efa\u4e0d\u53ef\u53d8\u5f15\u7528\n    let rr: &Point = &*r;\n\n    println!("{:?}", rr);  // rr \u6700\u540e\u4e00\u6b21\u4f7f\u7528\n\n    // rr \u7684\u751f\u547d\u5468\u671f\u7ed3\u675f\u540e\uff0c\u53ef\u4ee5\u7ee7\u7eed\u4f7f\u7528 r\n    r.move_to(10, 10);\n    println!("{:?}", r);\n}\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u5173\u952e\u70b9"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"rr"})," \u662f\u5bf9 ",(0,l.jsx)(e.code,{children:"r"})," \u7684\u518d\u501f\u7528"]}),"\n",(0,l.jsxs)(e.li,{children:["\u5728 ",(0,l.jsx)(e.code,{children:"rr"})," \u7684\u751f\u547d\u5468\u671f\u5185\uff0c\u4e0d\u80fd\u4f7f\u7528\u539f\u59cb\u501f\u7528 ",(0,l.jsx)(e.code,{children:"r"})]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"rr"})," \u7ed3\u675f\u540e\uff0c",(0,l.jsx)(e.code,{children:"r"})," \u53ef\u4ee5\u7ee7\u7eed\u4f7f\u7528"]}),"\n"]}),"\n",(0,l.jsx)(e.h4,{id:"\u9519\u8bef\u793a\u4f8b",children:"\u9519\u8bef\u793a\u4f8b"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:'fn main() {\n    let mut p = Point { x: 0, y: 0 };\n    let r = &mut p;\n    let rr: &Point = &*r;\n\n    r.move_to(10, 10);  // \u274c \u9519\u8bef\uff01\u5728 rr \u7684\u751f\u547d\u5468\u671f\u5185\u4f7f\u7528\u4e86 r\n\n    println!("{:?}", rr);\n}\n'})}),"\n",(0,l.jsx)(e.h3,{id:"3-\u65e0\u754c\u751f\u547d\u5468\u671f-unbounded-lifetime",children:"3. \u65e0\u754c\u751f\u547d\u5468\u671f (Unbounded Lifetime)"}),"\n",(0,l.jsxs)(e.p,{children:["\u5728 ",(0,l.jsx)(e.code,{children:"unsafe"})," \u4ee3\u7801\u4e2d\uff0c\u89e3\u5f15\u7528\u88f8\u6307\u9488\u4f1a\u4ea7\u751f\u65e0\u754c\u751f\u547d\u5468\u671f\u3002"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"fn f<'a, T>(x: *const T) -> &'a T {\n    unsafe {\n        &*x  // 'a \u662f\u51ed\u7a7a\u4ea7\u751f\u7684\uff0c\u6ca1\u6709\u4efb\u4f55\u7ea6\u675f\n    }\n}\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u7279\u70b9"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"\u65e0\u754c\u751f\u547d\u5468\u671f\u53ef\u4ee5\u662f\u4efb\u610f\u5927\u5c0f"}),"\n",(0,l.jsxs)(e.li,{children:["\u6bd4 ",(0,l.jsx)(e.code,{children:"'static"})," \u66f4\u5f3a\u5927"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"&'unbounded &'a T"})," \u4f1a\u88ab\u89c6\u4e3a ",(0,l.jsx)(e.code,{children:"&'a &'a T"})]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u8b66\u544a"}),": \u5e94\u5c3d\u91cf\u907f\u514d\u65e0\u754c\u751f\u547d\u5468\u671f\uff0c\u4f7f\u7528\u751f\u547d\u5468\u671f\u6d88\u9664\u89c4\u5219\u3002"]}),"\n",(0,l.jsx)(e.h3,{id:"4-\u95ed\u5305\u4e2d\u7684\u751f\u547d\u5468\u671f",children:"4. \u95ed\u5305\u4e2d\u7684\u751f\u547d\u5468\u671f"}),"\n",(0,l.jsx)(e.p,{children:"\u95ed\u5305\u7684\u751f\u547d\u5468\u671f\u89c4\u5219\u4e0e\u51fd\u6570\u4e0d\u540c\uff0c\u66f4\u52a0\u4e25\u683c\u3002"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"// \u2705 \u51fd\u6570\u53ef\u4ee5\u81ea\u52a8\u63a8\u65ad\nfn fn_elision(x: &i32) -> &i32 { x }\n\n// \u274c \u95ed\u5305\u65e0\u6cd5\u81ea\u52a8\u63a8\u65ad\nlet closure_elision = |x: &i32| -> &i32 { x };  // \u7f16\u8bd1\u9519\u8bef\uff01\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u9519\u8bef\u4fe1\u606f"}),":"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:"error: lifetime may not live long enough\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u539f\u56e0"}),": \u95ed\u5305\u7684\u751f\u547d\u5468\u671f\u5206\u6563\u5728\u53c2\u6570\u548c\u95ed\u5305\u4f53\u4e2d\uff0c\u7f16\u8bd1\u5668\u96be\u4ee5\u63a8\u65ad\u3002"]}),"\n",(0,l.jsx)(e.h4,{id:"\u89e3\u51b3\u65b9\u6848\u4f7f\u7528-fn-trait",children:"\u89e3\u51b3\u65b9\u6848\uff1a\u4f7f\u7528 Fn trait"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"fn main() {\n    let closure_elision = fun(|x: &i32| -> &i32 { x });\n    assert_eq!(*closure_elision(&45), 45);\n}\n\nfn fun<T, F: Fn(&T) -> &T>(f: F) -> F {\n    f\n}\n"})}),"\n",(0,l.jsx)(e.h3,{id:"5-\u751f\u547d\u5468\u671f\u7ea6\u675f\u7684\u9ad8\u7ea7\u7528\u6cd5",children:"5. \u751f\u547d\u5468\u671f\u7ea6\u675f\u7684\u9ad8\u7ea7\u7528\u6cd5"}),"\n",(0,l.jsx)(e.h4,{id:"\u793a\u4f8b\u590d\u6742\u7684\u751f\u547d\u5468\u671f\u5173\u7cfb",children:"\u793a\u4f8b\uff1a\u590d\u6742\u7684\u751f\u547d\u5468\u671f\u5173\u7cfb"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"struct Interface<'a> {\n    manager: &'a mut Manager<'a>,\n}\n\nimpl<'a> Interface<'a> {\n    pub fn noop(self) {\n        println!(\"interface consumed\");\n    }\n}\n\nstruct Manager<'a> {\n    text: &'a str,\n}\n\nstruct List<'a> {\n    manager: Manager<'a>,\n}\n\nimpl<'a> List<'a> {\n    // \u274c \u9519\u8bef\u7684\u5b9e\u73b0\n    pub fn get_interface_bad(&'a mut self) -> Interface {\n        Interface {\n            manager: &mut self.manager,\n        }\n    }\n\n    // \u2705 \u6b63\u786e\u7684\u5b9e\u73b0\uff1a\u4f7f\u7528\u4e0d\u540c\u7684\u751f\u547d\u5468\u671f\n    pub fn get_interface<'b>(&'b mut self) -> Interface<'b, 'a>\n    where\n        'a: 'b,\n    {\n        Interface {\n            manager: &mut self.manager,\n        }\n    }\n}\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u95ee\u9898"}),": \u5982\u679c ",(0,l.jsx)(e.code,{children:"get_interface"})," \u7684\u53c2\u6570\u751f\u547d\u5468\u671f\u4e0e ",(0,l.jsx)(e.code,{children:"List<'a>"})," \u76f8\u540c\uff0c\u90a3\u4e48\u501f\u7528\u4f1a\u6301\u7eed\u5230 ",(0,l.jsx)(e.code,{children:"List"})," \u7684\u6574\u4e2a\u751f\u547d\u5468\u671f\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u89e3\u51b3"}),": \u5f15\u5165\u65b0\u7684\u751f\u547d\u5468\u671f\u53c2\u6570 ",(0,l.jsx)(e.code,{children:"'b"}),"\uff0c\u4f7f\u501f\u7528\u53ea\u5728\u65b9\u6cd5\u8c03\u7528\u671f\u95f4\u6709\u6548\u3002"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"-\u5e38\u89c1\u9677\u9631\u4e0e\u89e3\u51b3\u65b9\u6848",children:"\ud83d\udc1b \u5e38\u89c1\u9677\u9631\u4e0e\u89e3\u51b3\u65b9\u6848"}),"\n",(0,l.jsx)(e.h3,{id:"\u9677\u9631-1-\u751f\u547d\u5468\u671f\u68c0\u67e5\u5668\u4e0d\u591f\u806a\u660e",children:"\u9677\u9631 1: \u751f\u547d\u5468\u671f\u68c0\u67e5\u5668\u4e0d\u591f\u806a\u660e"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:'#[derive(Debug)]\nstruct Foo;\n\nimpl Foo {\n    fn mutate_and_share(&mut self) -> &Self {\n        &*self\n    }\n    fn share(&self) {}\n}\n\nfn main() {\n    let mut foo = Foo;\n    let loan = foo.mutate_and_share();\n    foo.share();  // \u274c \u9519\u8bef\uff01\n    println!("{:?}", loan);\n}\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u9519\u8bef\u539f\u56e0"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"mutate_and_share"})," \u7684\u53c2\u6570\u548c\u8fd4\u56de\u503c\u6709\u76f8\u540c\u7684\u751f\u547d\u5468\u671f"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.code,{children:"loan"})," \u7684\u751f\u547d\u5468\u671f\u6301\u7eed\u5230 ",(0,l.jsx)(e.code,{children:"println!"})]}),"\n",(0,l.jsxs)(e.li,{children:["\u56e0\u6b64 ",(0,l.jsx)(e.code,{children:"&mut self"})," \u7684\u501f\u7528\u4e5f\u6301\u7eed\u5230 ",(0,l.jsx)(e.code,{children:"println!"})]}),"\n",(0,l.jsxs)(e.li,{children:["\u5bfc\u81f4 ",(0,l.jsx)(e.code,{children:"foo.share()"})," \u65e0\u6cd5\u501f\u7528"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"}),": \u76ee\u524d\u53ea\u80fd\u4fee\u6539\u4ee3\u7801\u7ed3\u6784\uff0c\u671f\u5f85\u7f16\u8bd1\u5668\u672a\u6765\u66f4\u667a\u80fd\u3002"]}),"\n",(0,l.jsx)(e.h3,{id:"\u9677\u9631-2-hashmap-\u7684-get_mut-\u95ee\u9898",children:"\u9677\u9631 2: HashMap \u7684 get_mut \u95ee\u9898"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"use std::collections::HashMap;\nuse std::hash::Hash;\n\nfn get_default<'m, K, V>(map: &'m mut HashMap<K, V>, key: K) -> &'m mut V\nwhere\n    K: Clone + Eq + Hash,\n    V: Default,\n{\n    match map.get_mut(&key) {\n        Some(value) => value,  // \u274c \u7f16\u8bd1\u5668\u8ba4\u4e3a\u501f\u7528\u6301\u7eed\u5230 match \u7ed3\u675f\n        None => {\n            map.insert(key.clone(), V::default());  // \u9519\u8bef\uff01\n            map.get_mut(&key).unwrap()\n        }\n    }\n}\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u9519\u8bef\u539f\u56e0"}),": \u7f16\u8bd1\u5668\u8ba4\u4e3a ",(0,l.jsx)(e.code,{children:"map.get_mut(&key)"})," \u7684\u501f\u7528\u6301\u7eed\u5230\u6574\u4e2a ",(0,l.jsx)(e.code,{children:"match"})," \u5757\u7ed3\u675f\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"}),": \u4f7f\u7528 ",(0,l.jsx)(e.code,{children:"entry"})," API"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"fn get_default<'m, K, V>(map: &'m mut HashMap<K, V>, key: K) -> &'m mut V\nwhere\n    K: Clone + Eq + Hash,\n    V: Default,\n{\n    map.entry(key).or_insert_with(V::default)\n}\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u9677\u9631-3-\u8fd4\u56de\u5c40\u90e8\u53d8\u91cf\u7684\u5f15\u7528",children:"\u9677\u9631 3: \u8fd4\u56de\u5c40\u90e8\u53d8\u91cf\u7684\u5f15\u7528"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"// \u274c \u6c38\u8fdc\u4e0d\u8981\u8fd9\u6837\u505a\nfn dangle<'a>() -> &'a str {\n    let s = String::from(\"hello\");\n    &s  // \u9519\u8bef\uff01s \u4f1a\u88ab\u9500\u6bc1\n}\n"})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"}),": \u8fd4\u56de\u6240\u6709\u6743"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:'// \u2705 \u8fd4\u56de String \u800c\u4e0d\u662f &str\nfn no_dangle() -> String {\n    String::from("hello")\n}\n'})}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"-\u751f\u547d\u5468\u671f\u901f\u67e5\u8868",children:"\ud83d\udcca \u751f\u547d\u5468\u671f\u901f\u67e5\u8868"}),"\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"\u573a\u666f"}),(0,l.jsx)(e.th,{children:"\u8bed\u6cd5"}),(0,l.jsx)(e.th,{children:"\u8bf4\u660e"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.strong,{children:"\u57fa\u672c\u5f15\u7528"})}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"&'a T"})}),(0,l.jsx)(e.td,{children:"\u751f\u547d\u5468\u671f\u4e3a 'a \u7684\u5f15\u7528"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.strong,{children:"\u53ef\u53d8\u5f15\u7528"})}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"&'a mut T"})}),(0,l.jsx)(e.td,{children:"\u751f\u547d\u5468\u671f\u4e3a 'a \u7684\u53ef\u53d8\u5f15\u7528"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.strong,{children:"\u51fd\u6570\u53c2\u6570"})}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"fn foo<'a>(x: &'a i32)"})}),(0,l.jsx)(e.td,{children:"\u663e\u5f0f\u751f\u547d\u5468\u671f\u53c2\u6570"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.strong,{children:"\u591a\u4e2a\u53c2\u6570"})}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"fn foo<'a, 'b>(x: &'a i32, y: &'b i32)"})}),(0,l.jsx)(e.td,{children:"\u4e0d\u540c\u7684\u751f\u547d\u5468\u671f"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.strong,{children:"\u8fd4\u56de\u5f15\u7528"})}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"fn foo<'a>(...) -> &'a T"})}),(0,l.jsx)(e.td,{children:"\u8fd4\u56de\u503c\u7684\u751f\u547d\u5468\u671f"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.strong,{children:"\u7ed3\u6784\u4f53"})}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"struct S<'a> { r: &'a i32 }"})}),(0,l.jsx)(e.td,{children:"\u5305\u542b\u5f15\u7528\u7684\u7ed3\u6784\u4f53"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.strong,{children:"impl \u5757"})}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"impl<'a> S<'a> { ... }"})}),(0,l.jsx)(e.td,{children:"\u4e3a\u5e26\u751f\u547d\u5468\u671f\u7684\u7ed3\u6784\u4f53\u5b9e\u73b0\u65b9\u6cd5"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.strong,{children:"\u751f\u547d\u5468\u671f\u7ea6\u675f"})}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"'a: 'b"})}),(0,l.jsx)(e.td,{children:"'a \u81f3\u5c11\u8981\u6d3b\u5f97\u8ddf 'b \u4e00\u6837\u4e45"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.strong,{children:"\u7c7b\u578b\u7ea6\u675f"})}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"T: 'a"})}),(0,l.jsx)(e.td,{children:"T \u5fc5\u987b\u6bd4 'a \u6d3b\u5f97\u4e45"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.strong,{children:"\u9759\u6001\u751f\u547d\u5468\u671f"})}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"'static"})}),(0,l.jsx)(e.td,{children:"\u6574\u4e2a\u7a0b\u5e8f\u671f\u95f4\u6709\u6548"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:(0,l.jsx)(e.strong,{children:"\u533f\u540d\u751f\u547d\u5468\u671f"})}),(0,l.jsx)(e.td,{children:(0,l.jsx)(e.code,{children:"'_"})}),(0,l.jsx)(e.td,{children:"\u8ba9\u7f16\u8bd1\u5668\u63a8\u65ad"})]})]})]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"-\u5b9e\u7528\u6280\u5de7",children:"\ud83c\udfaf \u5b9e\u7528\u6280\u5de7"}),"\n",(0,l.jsx)(e.h3,{id:"\u6280\u5de7-1-\u4f7f\u7528-_-\u7b80\u5316\u4ee3\u7801",children:"\u6280\u5de7 1: \u4f7f\u7528 '_ \u7b80\u5316\u4ee3\u7801"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"// \u65e7\u5199\u6cd5\nimpl<'a> Reader for BufReader<'a> {\n    // ...\n}\n\n// \u65b0\u5199\u6cd5 (Rust 2018+)\nimpl Reader for BufReader<'_> {\n    // ...\n}\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u6280\u5de7-2-\u4f18\u5148\u4f7f\u7528\u7701\u7565\u89c4\u5219",children:"\u6280\u5de7 2: \u4f18\u5148\u4f7f\u7528\u7701\u7565\u89c4\u5219"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"// \u274c \u8fc7\u5ea6\u6807\u6ce8\nfn first_word<'a>(s: &'a str) -> &'a str {\n    // ...\n}\n\n// \u2705 \u8ba9\u7f16\u8bd1\u5668\u63a8\u65ad\nfn first_word(s: &str) -> &str {\n    // ...\n}\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u6280\u5de7-3-\u4f7f\u7528-where-\u5b50\u53e5\u63d0\u9ad8\u53ef\u8bfb\u6027",children:"\u6280\u5de7 3: \u4f7f\u7528 where \u5b50\u53e5\u63d0\u9ad8\u53ef\u8bfb\u6027"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-rust",children:"// \u274c \u96be\u4ee5\u9605\u8bfb\nfn complex<'a, 'b, T: Display + Clone, U: Clone + Debug>(\n    x: &'a T,\n    y: &'b U,\n) -> &'a T\nwhere\n    'b: 'a,\n{\n    // ...\n}\n\n// \u2705 \u6e05\u6670\u6613\u8bfb\nfn complex<'a, 'b, T, U>(x: &'a T, y: &'b U) -> &'a T\nwhere\n    T: Display + Clone,\n    U: Clone + Debug,\n    'b: 'a,\n{\n    // ...\n}\n"})}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"-\u603b\u7ed3-1",children:"\ud83d\udcda \u603b\u7ed3"}),"\n",(0,l.jsx)(e.p,{children:"\u751f\u547d\u5468\u671f\u662f Rust \u6700\u5f3a\u5927\u4e5f\u6700\u72ec\u7279\u7684\u7279\u6027\uff1a"}),"\n",(0,l.jsx)(e.h3,{id:"\u6838\u5fc3\u8981\u70b9",children:"\u6838\u5fc3\u8981\u70b9"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u9632\u6b62\u60ac\u5782\u5f15\u7528"})," - \u7f16\u8bd1\u65f6\u4fdd\u8bc1\u5185\u5b58\u5b89\u5168"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u96f6\u8fd0\u884c\u65f6\u5f00\u9500"})," - \u6240\u6709\u68c0\u67e5\u5728\u7f16\u8bd1\u65f6\u5b8c\u6210"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u81ea\u52a8\u63a8\u65ad"})," - \u5927\u90e8\u5206\u60c5\u51b5\u65e0\u9700\u663e\u5f0f\u6807\u6ce8"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"\u660e\u786e\u5173\u7cfb"})," - \u6e05\u6670\u8868\u8fbe\u5f15\u7528\u4e4b\u95f4\u7684\u4f9d\u8d56"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\u5b66\u4e60\u8def\u5f84",children:"\u5b66\u4e60\u8def\u5f84"}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsx)(e.li,{children:"\u2705 \u7406\u89e3\u501f\u7528\u68c0\u67e5\u5668\u7684\u5de5\u4f5c\u539f\u7406"}),"\n",(0,l.jsx)(e.li,{children:"\u2705 \u638c\u63e1\u4e09\u5927\u751f\u547d\u5468\u671f\u7701\u7565\u89c4\u5219"}),"\n",(0,l.jsx)(e.li,{children:"\u2705 \u5b66\u4f1a\u5728\u51fd\u6570\u548c\u7ed3\u6784\u4f53\u4e2d\u6807\u6ce8\u751f\u547d\u5468\u671f"}),"\n",(0,l.jsx)(e.li,{children:"\u2705 \u4e86\u89e3 NLL \u548c Reborrow \u7b49\u9ad8\u7ea7\u7279\u6027"}),"\n",(0,l.jsx)(e.li,{children:"\u2705 \u5b9e\u8df5\u4e2d\u79ef\u7d2f\u7ecf\u9a8c"}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"\u638c\u63e1\u751f\u547d\u5468\u671f\u662f\u6210\u4e3a Rust \u9ad8\u624b\u7684\u5173\u952e\uff01\ud83e\udd80\u2728"})]})}function x(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(h,{...n})}):h(n)}}}]);