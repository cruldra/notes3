"use strict";(self.webpackChunknotes_3=self.webpackChunknotes_3||[]).push([[56903],{54213:(n,e,i)=>{i.d(e,{R:()=>a,x:()=>o});var r=i(36672);const s={},l=r.createContext(s);function a(n){const e=r.useContext(l);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:a(n.components),r.createElement(l.Provider,{value:e},n.children)}},93927:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>t,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"AI/huggingface_hub/\u7b80\u4ecb","title":"\u7b80\u4ecb","description":"huggingface_hub \u662f\u7531 Hugging Face \u5f00\u53d1\u7684\u5b98\u65b9 Python \u5ba2\u6237\u7aef\u5e93,\u7528\u4e8e\u4e0e Hugging Face Hub \u5e73\u53f0\u8fdb\u884c\u4ea4\u4e92\u3002\u8be5\u5e93\u4e3a\u673a\u5668\u5b66\u4e60\u4ece\u4e1a\u8005\u63d0\u4f9b\u4e86\u7edf\u4e00\u3001\u7b80\u6d01\u7684 API \u63a5\u53e3,\u7528\u4e8e\u7ba1\u7406\u548c\u5206\u53d1\u9884\u8bad\u7ec3\u6a21\u578b\u3001\u6570\u636e\u96c6\u53ca\u5176\u4ed6\u673a\u5668\u5b66\u4e60\u8d44\u6e90\u3002","source":"@site/docs/AI/huggingface_hub/\u7b80\u4ecb.md","sourceDirName":"AI/huggingface_hub","slug":"/AI/huggingface_hub/\u7b80\u4ecb","permalink":"/notes3/docs/AI/huggingface_hub/\u7b80\u4ecb","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/AI/huggingface_hub/\u7b80\u4ecb.md","tags":[],"version":"current","frontMatter":{},"sidebar":"ai","previous":{"title":"\u7b80\u4ecb","permalink":"/notes3/docs/AI/datasets/\u7b80\u4ecb"},"next":{"title":"LLM \u77e5\u8bc6\u56fe\u8c31","permalink":"/notes3/docs/AI/llm_graph"}}');var s=i(23420),l=i(54213);const a={},o=void 0,t={},d=[{value:"\u6838\u5fc3\u4ef7\u503c",id:"\u6838\u5fc3\u4ef7\u503c",level:3},{value:"\u7cfb\u7edf\u67b6\u6784",id:"\u7cfb\u7edf\u67b6\u6784",level:2},{value:"\u6574\u4f53\u67b6\u6784\u56fe",id:"\u6574\u4f53\u67b6\u6784\u56fe",level:3},{value:"\u6838\u5fc3\u7ec4\u4ef6",id:"\u6838\u5fc3\u7ec4\u4ef6",level:3},{value:"1. HfApi \u7c7b",id:"1-hfapi-\u7c7b",level:4},{value:"2. \u6587\u4ef6\u4f20\u8f93\u673a\u5236",id:"2-\u6587\u4ef6\u4f20\u8f93\u673a\u5236",level:4},{value:"3. \u4e0a\u4f20\u673a\u5236",id:"3-\u4e0a\u4f20\u673a\u5236",level:4},{value:"\u8ba4\u8bc1\u4e0e\u6743\u9650\u7ba1\u7406",id:"\u8ba4\u8bc1\u4e0e\u6743\u9650\u7ba1\u7406",level:2},{value:"Token \u7ba1\u7406",id:"token-\u7ba1\u7406",level:3},{value:"\u6743\u9650\u7ea7\u522b",id:"\u6743\u9650\u7ea7\u522b",level:3},{value:"\u6a21\u578b\u641c\u7d22\u4e0e\u53d1\u73b0",id:"\u6a21\u578b\u641c\u7d22\u4e0e\u53d1\u73b0",level:2},{value:"\u641c\u7d22 API",id:"\u641c\u7d22-api",level:3},{value:"\u5143\u6570\u636e\u83b7\u53d6",id:"\u5143\u6570\u636e\u83b7\u53d6",level:3},{value:"\u63a8\u7406 API \u96c6\u6210",id:"\u63a8\u7406-api-\u96c6\u6210",level:2},{value:"InferenceClient \u67b6\u6784",id:"inferenceclient-\u67b6\u6784",level:3},{value:"\u4f7f\u7528\u793a\u4f8b",id:"\u4f7f\u7528\u793a\u4f8b",level:3},{value:"\u591a\u63d0\u4f9b\u5546\u652f\u6301",id:"\u591a\u63d0\u4f9b\u5546\u652f\u6301",level:3},{value:"\u7f13\u5b58\u7ba1\u7406\u673a\u5236",id:"\u7f13\u5b58\u7ba1\u7406\u673a\u5236",level:2},{value:"\u7f13\u5b58\u7ed3\u6784",id:"\u7f13\u5b58\u7ed3\u6784",level:3},{value:"\u7f13\u5b58\u7ba1\u7406 API",id:"\u7f13\u5b58\u7ba1\u7406-api",level:3},{value:"\u4ed3\u5e93\u7ba1\u7406",id:"\u4ed3\u5e93\u7ba1\u7406",level:2},{value:"\u521b\u5efa\u4e0e\u914d\u7f6e",id:"\u521b\u5efa\u4e0e\u914d\u7f6e",level:3},{value:"Git \u64cd\u4f5c\u96c6\u6210",id:"git-\u64cd\u4f5c\u96c6\u6210",level:3},{value:"\u6027\u80fd\u4f18\u5316\u7b56\u7565",id:"\u6027\u80fd\u4f18\u5316\u7b56\u7565",level:2},{value:"1. \u5e76\u53d1\u4e0b\u8f7d",id:"1-\u5e76\u53d1\u4e0b\u8f7d",level:3},{value:"2. \u9009\u62e9\u6027\u4e0b\u8f7d",id:"2-\u9009\u62e9\u6027\u4e0b\u8f7d",level:3},{value:"3. \u81ea\u5b9a\u4e49\u7f13\u5b58\u4f4d\u7f6e",id:"3-\u81ea\u5b9a\u4e49\u7f13\u5b58\u4f4d\u7f6e",level:3},{value:"4. Xet \u5b58\u50a8\u4f18\u5316",id:"4-xet-\u5b58\u50a8\u4f18\u5316",level:3},{value:"\u9519\u8bef\u5904\u7406\u4e0e\u91cd\u8bd5\u673a\u5236",id:"\u9519\u8bef\u5904\u7406\u4e0e\u91cd\u8bd5\u673a\u5236",level:2},{value:"CLI \u5de5\u5177",id:"cli-\u5de5\u5177",level:2},{value:"\u5e38\u7528\u547d\u4ee4",id:"\u5e38\u7528\u547d\u4ee4",level:3},{value:"\u6700\u4f73\u5b9e\u8df5",id:"\u6700\u4f73\u5b9e\u8df5",level:2},{value:"1. \u7248\u672c\u56fa\u5b9a",id:"1-\u7248\u672c\u56fa\u5b9a",level:3},{value:"2. \u6a21\u578b\u5361\u7247\u89c4\u8303",id:"2-\u6a21\u578b\u5361\u7247\u89c4\u8303",level:3},{value:"3. \u5b89\u5168\u4e0e\u9690\u79c1",id:"3-\u5b89\u5168\u4e0e\u9690\u79c1",level:3},{value:"\u4e0e\u5176\u4ed6\u5e93\u7684\u96c6\u6210",id:"\u4e0e\u5176\u4ed6\u5e93\u7684\u96c6\u6210",level:2},{value:"Transformers",id:"transformers",level:3},{value:"Datasets",id:"datasets",level:3},{value:"Diffusers",id:"diffusers",level:3},{value:"\u4f01\u4e1a\u7ea7\u5e94\u7528",id:"\u4f01\u4e1a\u7ea7\u5e94\u7528",level:2},{value:"\u79c1\u6709 Hub \u90e8\u7f72",id:"\u79c1\u6709-hub-\u90e8\u7f72",level:3},{value:"\u7ec4\u7ec7\u7ba1\u7406",id:"\u7ec4\u7ec7\u7ba1\u7406",level:3},{value:"\u5e38\u89c1\u95ee\u9898\u4e0e\u89e3\u51b3\u65b9\u6848",id:"\u5e38\u89c1\u95ee\u9898\u4e0e\u89e3\u51b3\u65b9\u6848",level:2},{value:"\u95ee\u98981: \u5927\u6587\u4ef6\u4e0b\u8f7d\u4e2d\u65ad",id:"\u95ee\u98981-\u5927\u6587\u4ef6\u4e0b\u8f7d\u4e2d\u65ad",level:3},{value:"\u95ee\u98982: Windows \u7b26\u53f7\u94fe\u63a5\u6743\u9650",id:"\u95ee\u98982-windows-\u7b26\u53f7\u94fe\u63a5\u6743\u9650",level:3},{value:"\u95ee\u98983: \u4ee3\u7406\u7f51\u7edc\u73af\u5883",id:"\u95ee\u98983-\u4ee3\u7406\u7f51\u7edc\u73af\u5883",level:3},{value:"\u672a\u6765\u53d1\u5c55\u65b9\u5411",id:"\u672a\u6765\u53d1\u5c55\u65b9\u5411",level:2},{value:"\u53c2\u8003\u8d44\u6599",id:"\u53c2\u8003\u8d44\u6599",level:2}];function c(n){const e={a:"a",br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"huggingface_hub"})," \u662f\u7531 Hugging Face \u5f00\u53d1\u7684\u5b98\u65b9 Python \u5ba2\u6237\u7aef\u5e93,\u7528\u4e8e\u4e0e Hugging Face Hub \u5e73\u53f0\u8fdb\u884c\u4ea4\u4e92\u3002\u8be5\u5e93\u4e3a\u673a\u5668\u5b66\u4e60\u4ece\u4e1a\u8005\u63d0\u4f9b\u4e86\u7edf\u4e00\u3001\u7b80\u6d01\u7684 API \u63a5\u53e3,\u7528\u4e8e\u7ba1\u7406\u548c\u5206\u53d1\u9884\u8bad\u7ec3\u6a21\u578b\u3001\u6570\u636e\u96c6\u53ca\u5176\u4ed6\u673a\u5668\u5b66\u4e60\u8d44\u6e90\u3002"]}),"\n",(0,s.jsx)(e.h3,{id:"\u6838\u5fc3\u4ef7\u503c",children:"\u6838\u5fc3\u4ef7\u503c"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u7edf\u4e00\u63a5\u53e3"}),": \u63d0\u4f9b\u4e0e Hugging Face Hub \u4ea4\u4e92\u7684\u6807\u51c6\u5316 Python API"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u7248\u672c\u7ba1\u7406"}),": \u57fa\u4e8e Git \u7684\u7248\u672c\u63a7\u5236\u673a\u5236,\u652f\u6301\u6a21\u578b\u548c\u6570\u636e\u96c6\u7684\u5b8c\u6574\u5386\u53f2\u8ffd\u8e2a"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u8d44\u6e90\u5206\u53d1"}),": \u7b80\u5316\u9884\u8bad\u7ec3\u6a21\u578b\u548c\u6570\u636e\u96c6\u7684\u4e0a\u4f20\u3001\u4e0b\u8f7d\u6d41\u7a0b"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u6846\u67b6\u65e0\u5173"}),": \u652f\u6301 PyTorch\u3001TensorFlow\u3001JAX \u7b49\u591a\u79cd\u6df1\u5ea6\u5b66\u4e60\u6846\u67b6"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u4e91\u7aef\u63a8\u7406"}),": \u96c6\u6210 Inference API,\u65e0\u9700\u672c\u5730\u90e8\u7f72\u5373\u53ef\u8c03\u7528\u6a21\u578b"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\u7cfb\u7edf\u67b6\u6784",children:"\u7cfb\u7edf\u67b6\u6784"}),"\n",(0,s.jsx)(e.h3,{id:"\u6574\u4f53\u67b6\u6784\u56fe",children:"\u6574\u4f53\u67b6\u6784\u56fe"}),"\n",(0,s.jsx)(e.mermaid,{value:'graph TB\n    subgraph "\u5ba2\u6237\u7aef\u5c42"\n        A[Python SDK<br/>huggingface_hub]\n        B[CLI \u5de5\u5177<br/>huggingface-cli]\n    end\n    \n    subgraph "\u4f20\u8f93\u5c42"\n        C[HTTP API \u63a5\u53e3]\n        D[Git/Git-LFS]\n    end\n    \n    subgraph "Hugging Face Hub \u5e73\u53f0"\n        E[\u6a21\u578b\u4ed3\u5e93]\n        F[\u6570\u636e\u96c6\u4ed3\u5e93]\n        G[Space \u5e94\u7528]\n        H[\u63a8\u7406\u670d\u52a1]\n    end\n    \n    subgraph "\u5b58\u50a8\u540e\u7aef"\n        I[Git \u7248\u672c\u63a7\u5236]\n        J[\u5bf9\u8c61\u5b58\u50a8 S3/CDN]\n        K[Xet \u5b58\u50a8\u5f15\u64ce]\n    end\n    \n    A --\x3e C\n    B --\x3e C\n    A --\x3e D\n    B --\x3e D\n    C --\x3e E\n    C --\x3e F\n    C --\x3e G\n    C --\x3e H\n    E --\x3e I\n    E --\x3e J\n    F --\x3e I\n    F --\x3e J\n    I --\x3e K\n    J --\x3e K\n\n    style A fill:#4a9eff\n    style E fill:#ff6b6b\n    style H fill:#51cf66'}),"\n",(0,s.jsx)(e.h3,{id:"\u6838\u5fc3\u7ec4\u4ef6",children:"\u6838\u5fc3\u7ec4\u4ef6"}),"\n",(0,s.jsx)(e.h4,{id:"1-hfapi-\u7c7b",children:"1. HfApi \u7c7b"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"HfApi"})," \u662f\u4e0e Hub \u4ea4\u4e92\u7684\u6838\u5fc3\u7c7b,\u57fa\u4e8e HTTP \u534f\u8bae\u63d0\u4f9b\u4e86\u4e30\u5bcc\u7684 API \u65b9\u6cd5:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'from huggingface_hub import HfApi\n\napi = HfApi()\n\n# \u641c\u7d22\u6a21\u578b\nmodels = api.list_models(filter="text-classification")\n\n# \u83b7\u53d6\u6a21\u578b\u4fe1\u606f\nmodel_info = api.model_info("bert-base-uncased")\n\n# \u521b\u5efa\u4ed3\u5e93\napi.create_repo(repo_id="username/my-model", repo_type="model")\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u5173\u952e\u7279\u6027"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"RESTful API \u5c01\u88c5"}),"\n",(0,s.jsx)(e.li,{children:"\u652f\u6301\u5206\u9875\u548c\u8fc7\u6ee4"}),"\n",(0,s.jsx)(e.li,{children:"\u5f02\u5e38\u5904\u7406\u548c\u91cd\u8bd5\u673a\u5236"}),"\n",(0,s.jsx)(e.li,{children:"Token \u8ba4\u8bc1\u7ba1\u7406"}),"\n"]}),"\n",(0,s.jsx)(e.h4,{id:"2-\u6587\u4ef6\u4f20\u8f93\u673a\u5236",children:"2. \u6587\u4ef6\u4f20\u8f93\u673a\u5236"}),"\n",(0,s.jsx)(e.mermaid,{value:"sequenceDiagram\n    participant User as \u7528\u6237\u4ee3\u7801\n    participant Cache as \u672c\u5730\u7f13\u5b58\n    participant Hub as Hugging Face Hub\n    participant CDN as CDN/\u5bf9\u8c61\u5b58\u50a8\n\n    User->>Cache: \u68c0\u67e5\u6587\u4ef6\u662f\u5426\u5b58\u5728\n    alt \u6587\u4ef6\u5df2\u7f13\u5b58\u4e14\u6700\u65b0\n        Cache--\x3e>User: \u8fd4\u56de\u672c\u5730\u8def\u5f84\n    else \u9700\u8981\u4e0b\u8f7d\n        Cache->>Hub: \u8bf7\u6c42\u6587\u4ef6\u5143\u6570\u636e(ETag)\n        Hub--\x3e>Cache: \u8fd4\u56deETag\u548cURL\n        Cache->>CDN: \u4e0b\u8f7d\u6587\u4ef6(\u5206\u5757)\n        CDN--\x3e>Cache: \u8fd4\u56de\u6587\u4ef6\u5185\u5bb9\n        Cache->>Cache: \u9a8c\u8bc1ETag\n        Cache--\x3e>User: \u8fd4\u56de\u672c\u5730\u8def\u5f84\n    end"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u4e0b\u8f7d\u673a\u5236"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u7f13\u5b58\u7b56\u7565"}),": \u57fa\u4e8e\u5185\u5bb9\u5bfb\u5740(Content-Addressable)\u7684\u7f13\u5b58\u7cfb\u7edf"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"ETag \u9a8c\u8bc1"}),": \u4f7f\u7528 HTTP ETag \u8fdb\u884c\u6587\u4ef6\u5b8c\u6574\u6027\u6821\u9a8c"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u5e76\u53d1\u4e0b\u8f7d"}),": ",(0,s.jsx)(e.code,{children:"snapshot_download"})," \u652f\u6301\u591a\u7ebf\u7a0b\u5e76\u53d1\u4e0b\u8f7d(\u9ed8\u8ba48\u4e2a\u5de5\u4f5c\u7ebf\u7a0b)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u65ad\u70b9\u7eed\u4f20"}),": \u652f\u6301 HTTP Range \u8bf7\u6c42\u5b9e\u73b0\u65ad\u70b9\u7eed\u4f20"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'from huggingface_hub import hf_hub_download, snapshot_download\n\n# \u5355\u6587\u4ef6\u4e0b\u8f7d\nmodel_path = hf_hub_download(\n    repo_id="bert-base-uncased",\n    filename="pytorch_model.bin",\n    revision="main"  # \u6307\u5b9a\u7248\u672c/\u5206\u652f/\u63d0\u4ea4\u54c8\u5e0c\n)\n\n# \u4ed3\u5e93\u5feb\u7167\u4e0b\u8f7d\nrepo_path = snapshot_download(\n    repo_id="gpt2",\n    revision="main",\n    cache_dir="/custom/cache",\n    max_workers=16,  # \u5e76\u53d1\u7ebf\u7a0b\u6570\n    allow_patterns=["*.bin", "*.json"]  # \u6587\u4ef6\u8fc7\u6ee4\n)\n'})}),"\n",(0,s.jsx)(e.h4,{id:"3-\u4e0a\u4f20\u673a\u5236",children:"3. \u4e0a\u4f20\u673a\u5236"}),"\n",(0,s.jsx)(e.mermaid,{value:"graph LR\n    A[\u672c\u5730\u6587\u4ef6] --\x3e B{\u6587\u4ef6\u5927\u5c0f\u5224\u65ad}\n    B --\x3e|< 5MB| C[\u76f4\u63a5\u4e0a\u4f20]\n    B --\x3e|>= 5MB| D[\u5206\u5757\u4e0a\u4f20 Git-LFS]\n    C --\x3e E[\u521b\u5efa\u63d0\u4ea4]\n    D --\x3e F[\u4e0a\u4f20\u5230LFS\u5b58\u50a8]\n    F --\x3e E\n    E --\x3e G[\u66f4\u65b0\u4ed3\u5e93\u5f15\u7528]\n    \n    style D fill:#ffd93d\n    style F fill:#ffd93d"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'from huggingface_hub import upload_file, upload_folder\n\n# \u5355\u6587\u4ef6\u4e0a\u4f20\nupload_file(\n    path_or_fileobj="./model.bin",\n    path_in_repo="pytorch_model.bin",\n    repo_id="username/my-model",\n    commit_message="Add trained model weights",\n    revision="main"\n)\n\n# \u6587\u4ef6\u5939\u6279\u91cf\u4e0a\u4f20\nupload_folder(\n    folder_path="./trained_model",\n    repo_id="username/my-model",\n    path_in_repo="",  # \u4e0a\u4f20\u5230\u4ed3\u5e93\u6839\u76ee\u5f55\n    commit_message="Initial model release",\n    ignore_patterns=["*.tmp", "*.log"]  # \u5ffd\u7565\u6587\u4ef6\n)\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u5927\u6587\u4ef6\u5904\u7406"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u81ea\u52a8\u542f\u7528 Git-LFS (>5MB)"}),"\n",(0,s.jsx)(e.li,{children:"Xet \u5b58\u50a8\u5f15\u64ce: \u5757\u7ea7\u53bb\u91cd\u6280\u672f,\u663e\u8457\u51cf\u5c11\u589e\u91cf\u66f4\u65b0\u7684\u4f20\u8f93\u91cf"}),"\n",(0,s.jsx)(e.li,{children:"\u591a\u90e8\u5206\u4e0a\u4f20(Multipart Upload)\u652f\u6301"}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\u8ba4\u8bc1\u4e0e\u6743\u9650\u7ba1\u7406",children:"\u8ba4\u8bc1\u4e0e\u6743\u9650\u7ba1\u7406"}),"\n",(0,s.jsx)(e.h3,{id:"token-\u7ba1\u7406",children:"Token \u7ba1\u7406"}),"\n",(0,s.jsx)(e.mermaid,{value:"graph TD\n    A[\u7528\u6237\u8ba4\u8bc1] --\x3e B{\u8ba4\u8bc1\u65b9\u5f0f}\n    B --\x3e|CLI\u767b\u5f55| C[huggingface-cli login]\n    B --\x3e|\u73af\u5883\u53d8\u91cf| D[HF_TOKEN]\n    B --\x3e|\u4ee3\u7801\u4f20\u53c2| E[token\u53c2\u6570]\n    \n    C --\x3e F[\u4fdd\u5b58\u5230~/.huggingface/token]\n    D --\x3e G[\u5e93\u81ea\u52a8\u8bfb\u53d6]\n    E --\x3e G\n    F --\x3e G\n    \n    G --\x3e H[API\u8c03\u7528\u65f6\u81ea\u52a8\u9644\u52a0]\n    \n    style C fill:#51cf66\n    style F fill:#ffd93d"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'# \u65b9\u5f0f1: CLI \u767b\u5f55(\u63a8\u8350)\n# $ huggingface-cli login\n\n# \u65b9\u5f0f2: \u7f16\u7a0b\u65b9\u5f0f\u767b\u5f55\nfrom huggingface_hub import login\nlogin(token="hf_xxxxxxxxxxxxx")\n\n# \u65b9\u5f0f3: \u73af\u5883\u53d8\u91cf\nimport os\nos.environ["HF_TOKEN"] = "hf_xxxxxxxxxxxxx"\n\n# \u65b9\u5f0f4: \u663e\u5f0f\u4f20\u9012token\nfrom huggingface_hub import HfApi\napi = HfApi(token="hf_xxxxxxxxxxxxx")\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u6743\u9650\u7ea7\u522b",children:"\u6743\u9650\u7ea7\u522b"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u6743\u9650\u7c7b\u578b"}),(0,s.jsx)(e.th,{children:"\u80fd\u529b\u8303\u56f4"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Read"})}),(0,s.jsx)(e.td,{children:"\u4e0b\u8f7d\u516c\u5f00/\u79c1\u6709\u6a21\u578b,\u67e5\u770b\u4ed3\u5e93\u4fe1\u606f"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Write"})}),(0,s.jsx)(e.td,{children:"\u521b\u5efa/\u7f16\u8f91\u4ed3\u5e93,\u4e0a\u4f20\u6587\u4ef6,\u7ba1\u7406\u53d1\u5e03"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Fine-grained"})}),(0,s.jsx)(e.td,{children:"\u81ea\u5b9a\u4e49\u7279\u5b9a\u4ed3\u5e93\u7684\u8bbf\u95ee\u6743\u9650"})]})]})]}),"\n",(0,s.jsx)(e.h2,{id:"\u6a21\u578b\u641c\u7d22\u4e0e\u53d1\u73b0",children:"\u6a21\u578b\u641c\u7d22\u4e0e\u53d1\u73b0"}),"\n",(0,s.jsx)(e.h3,{id:"\u641c\u7d22-api",children:"\u641c\u7d22 API"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'from huggingface_hub import HfApi, ModelFilter\n\napi = HfApi()\n\n# \u5173\u952e\u8bcd\u641c\u7d22\nresults = api.list_models(\n    search="text-generation",\n    sort="downloads",  # \u6309\u4e0b\u8f7d\u91cf\u6392\u5e8f\n    direction=-1,      # \u964d\u5e8f\n    limit=10\n)\n\n# \u7ed3\u6784\u5316\u8fc7\u6ee4\nfilter_obj = ModelFilter(\n    task="text-classification",\n    library="pytorch",\n    language="en",\n    model_name="bert"\n)\n\nmodels = api.list_models(filter=filter_obj, limit=20)\n\nfor model in models:\n    print(f"{model.modelId} - {model.downloads} downloads")\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u5143\u6570\u636e\u83b7\u53d6",children:"\u5143\u6570\u636e\u83b7\u53d6"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'# \u8be6\u7ec6\u6a21\u578b\u4fe1\u606f\nmodel_info = api.model_info("bert-base-uncased")\n\nprint(f"\u6a21\u578bID: {model_info.modelId}")\nprint(f"\u4efb\u52a1\u7c7b\u578b: {model_info.pipeline_tag}")\nprint(f"\u4e0b\u8f7d\u91cf: {model_info.downloads}")\nprint(f"\u70b9\u8d5e\u6570: {model_info.likes}")\nprint(f"\u6807\u7b7e: {model_info.tags}")\nprint(f"\u6700\u65b0\u63d0\u4ea4: {model_info.sha}")\n\n# \u6587\u4ef6\u5217\u8868\nfiles = api.list_repo_files("gpt2", repo_type="model")\nprint(f"\u4ed3\u5e93\u6587\u4ef6: {files}")\n'})}),"\n",(0,s.jsx)(e.h2,{id:"\u63a8\u7406-api-\u96c6\u6210",children:"\u63a8\u7406 API \u96c6\u6210"}),"\n",(0,s.jsx)(e.h3,{id:"inferenceclient-\u67b6\u6784",children:"InferenceClient \u67b6\u6784"}),"\n",(0,s.jsx)(e.mermaid,{value:'graph TB\n    subgraph "InferenceClient"\n        A[\u4efb\u52a1\u8def\u7531\u5c42]\n    end\n    \n    subgraph "\u63a8\u7406\u540e\u7aef"\n        B[HF Inference API]\n        C[OpenAI API]\n        D[Replicate]\n        E[Cohere]\n    end\n    \n    subgraph "\u4efb\u52a1\u7c7b\u578b"\n        F[\u6587\u672c\u751f\u6210]\n        G[\u6587\u672c\u5206\u7c7b]\n        H[\u95ee\u7b54\u7cfb\u7edf]\n        I[\u56fe\u50cf\u5206\u7c7b]\n        J[\u76ee\u6807\u68c0\u6d4b]\n        K[\u8bed\u97f3\u8bc6\u522b]\n    end\n    \n    A --\x3e B\n    A --\x3e C\n    A --\x3e D\n    A --\x3e E\n    \n    B --\x3e F\n    B --\x3e G\n    B --\x3e H\n    B --\x3e I\n    B --\x3e J\n    B --\x3e K\n    \n    style A fill:#4a9eff\n    style B fill:#51cf66'}),"\n",(0,s.jsx)(e.h3,{id:"\u4f7f\u7528\u793a\u4f8b",children:"\u4f7f\u7528\u793a\u4f8b"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"from huggingface_hub import InferenceClient\n\n# \u521d\u59cb\u5316\u5ba2\u6237\u7aef\nclient = InferenceClient(\n    model=\"mistralai/Mistral-7B-Instruct-v0.1\",\n    token=\"hf_xxxxx\"\n)\n\n# \u6587\u672c\u751f\u6210\nresponse = client.text_generation(\n    prompt=\"Write a Python function to calculate fibonacci numbers:\",\n    max_new_tokens=200,\n    temperature=0.7,\n    top_p=0.95\n)\nprint(response)\n\n# \u6587\u672c\u5206\u7c7b\nresult = client.text_classification(\n    \"This movie is absolutely fantastic!\"\n)\nprint(result)  # [{'label': 'POSITIVE', 'score': 0.9998}]\n\n# \u95ee\u7b54\u7cfb\u7edf\nanswer = client.question_answering(\n    question=\"What is the capital of France?\",\n    context=\"Paris is the capital and most populous city of France.\"\n)\nprint(answer)  # {'answer': 'Paris', 'score': 0.98, ...}\n\n# \u56fe\u50cf\u5206\u7c7b\nwith open(\"cat.jpg\", \"rb\") as f:\n    image_bytes = f.read()\n\npredictions = client.image_classification(image=image_bytes)\nprint(predictions)  # [{'label': 'cat', 'score': 0.95}, ...]\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u591a\u63d0\u4f9b\u5546\u652f\u6301",children:"\u591a\u63d0\u4f9b\u5546\u652f\u6301"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'# \u4f7f\u7528 OpenAI\nclient_openai = InferenceClient(\n    provider="openai",\n    api_key="sk-xxxxx"\n)\n\nresponse = client_openai.chat_completion(\n    model="gpt-3.5-turbo",\n    messages=[\n        {"role": "system", "content": "You are a helpful assistant."},\n        {"role": "user", "content": "Explain quantum computing"}\n    ]\n)\n'})}),"\n",(0,s.jsx)(e.h2,{id:"\u7f13\u5b58\u7ba1\u7406\u673a\u5236",children:"\u7f13\u5b58\u7ba1\u7406\u673a\u5236"}),"\n",(0,s.jsx)(e.h3,{id:"\u7f13\u5b58\u7ed3\u6784",children:"\u7f13\u5b58\u7ed3\u6784"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"~/.cache/huggingface/hub/\n\u251c\u2500\u2500 models--bert-base-uncased/\n\u2502   \u251c\u2500\u2500 refs/\n\u2502   \u2502   \u2514\u2500\u2500 main\n\u2502   \u251c\u2500\u2500 snapshots/\n\u2502   \u2502   \u2514\u2500\u2500 a8b9e8c.../\n\u2502   \u2502       \u251c\u2500\u2500 config.json\n\u2502   \u2502       \u251c\u2500\u2500 pytorch_model.bin\n\u2502   \u2502       \u2514\u2500\u2500 tokenizer.json\n\u2502   \u2514\u2500\u2500 blobs/\n\u2502       \u2514\u2500\u2500 a8b9e8c...\n\u2514\u2500\u2500 models--gpt2/\n    \u2514\u2500\u2500 ...\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u7f13\u5b58\u7ba1\u7406-api",children:"\u7f13\u5b58\u7ba1\u7406 API"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'from huggingface_hub import scan_cache_dir, HfApi\n\n# \u626b\u63cf\u7f13\u5b58\ncache_info = scan_cache_dir()\n\nprint(f"\u7f13\u5b58\u8def\u5f84: {cache_info.cache_dir}")\nprint(f"\u603b\u5927\u5c0f: {cache_info.size_on_disk_str}")\nprint(f"\u4ed3\u5e93\u6570: {len(cache_info.repos)}")\n\n# \u67e5\u770b\u7279\u5b9a\u4ed3\u5e93\nfor repo in cache_info.repos:\n    if "bert" in repo.repo_id:\n        print(f"\u4ed3\u5e93: {repo.repo_id}")\n        print(f"\u5927\u5c0f: {repo.size_on_disk_str}")\n        print(f"\u4fee\u8ba2\u7248\u672c\u6570: {len(repo.revisions)}")\n\n# \u6e05\u7406\u7f13\u5b58\ndelete_strategy = cache_info.delete_revisions(\n    "bert-base-uncased",\n    "old-commit-hash"\n)\ndelete_strategy.execute()\n'})}),"\n",(0,s.jsx)(e.h2,{id:"\u4ed3\u5e93\u7ba1\u7406",children:"\u4ed3\u5e93\u7ba1\u7406"}),"\n",(0,s.jsx)(e.h3,{id:"\u521b\u5efa\u4e0e\u914d\u7f6e",children:"\u521b\u5efa\u4e0e\u914d\u7f6e"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'from huggingface_hub import HfApi, create_repo\n\napi = HfApi()\n\n# \u521b\u5efa\u6a21\u578b\u4ed3\u5e93\nrepo_url = create_repo(\n    repo_id="username/my-awesome-model",\n    private=False,\n    repo_type="model",\n    exist_ok=True\n)\n\n# \u521b\u5efa\u6570\u636e\u96c6\u4ed3\u5e93\ndataset_repo = create_repo(\n    repo_id="username/my-dataset",\n    repo_type="dataset"\n)\n\n# \u521b\u5efa Space \u5e94\u7528\nspace_repo = create_repo(\n    repo_id="username/my-app",\n    repo_type="space",\n    space_sdk="gradio"  # \u6216 "streamlit"\n)\n'})}),"\n",(0,s.jsx)(e.h3,{id:"git-\u64cd\u4f5c\u96c6\u6210",children:"Git \u64cd\u4f5c\u96c6\u6210"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'from huggingface_hub import Repository\n\n# \u514b\u9686\u4ed3\u5e93(\u53ef\u9009,\u63a8\u8350\u4f7f\u7528HTTP API\u65b9\u5f0f)\nrepo = Repository(\n    local_dir="./local_repo",\n    clone_from="username/my-model",\n    use_auth_token=True\n)\n\n# \u6dfb\u52a0\u6587\u4ef6\nrepo.git_add("new_file.bin")\nrepo.git_commit("Add new model variant")\nrepo.git_push()\n\n# \u521b\u5efa\u6807\u7b7e\nrepo.git_tag("v1.0.0", message="Release version 1.0.0")\nrepo.git_push(upstream="origin --tags")\n'})}),"\n",(0,s.jsx)(e.h2,{id:"\u6027\u80fd\u4f18\u5316\u7b56\u7565",children:"\u6027\u80fd\u4f18\u5316\u7b56\u7565"}),"\n",(0,s.jsx)(e.h3,{id:"1-\u5e76\u53d1\u4e0b\u8f7d",children:"1. \u5e76\u53d1\u4e0b\u8f7d"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'from concurrent.futures import ThreadPoolExecutor\nfrom huggingface_hub import hf_hub_download\n\ndef download_model(repo_id):\n    return snapshot_download(repo_id, max_workers=16)\n\n# \u5e76\u884c\u4e0b\u8f7d\u591a\u4e2a\u6a21\u578b\nmodel_ids = ["bert-base-uncased", "gpt2", "t5-small"]\n\nwith ThreadPoolExecutor(max_workers=3) as executor:\n    futures = [executor.submit(download_model, mid) for mid in model_ids]\n    results = [f.result() for f in futures]\n'})}),"\n",(0,s.jsx)(e.h3,{id:"2-\u9009\u62e9\u6027\u4e0b\u8f7d",children:"2. \u9009\u62e9\u6027\u4e0b\u8f7d"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'# \u4ec5\u4e0b\u8f7d\u6240\u9700\u6587\u4ef6\u7c7b\u578b\nsnapshot_download(\n    "facebook/opt-350m",\n    allow_patterns=["*.bin", "config.json", "tokenizer.json"],\n    ignore_patterns=["*.md", "*.txt"]\n)\n'})}),"\n",(0,s.jsx)(e.h3,{id:"3-\u81ea\u5b9a\u4e49\u7f13\u5b58\u4f4d\u7f6e",children:"3. \u81ea\u5b9a\u4e49\u7f13\u5b58\u4f4d\u7f6e"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'import os\n\n# \u8bbe\u7f6e\u7f13\u5b58\u5230SSD\u6216\u66f4\u5927\u7684\u78c1\u76d8\nos.environ["HF_HOME"] = "/mnt/fast_storage/hf_cache"\n\n# \u6216\u5728\u51fd\u6570\u8c03\u7528\u65f6\u6307\u5b9a\nhf_hub_download(\n    repo_id="model-name",\n    filename="file.bin",\n    cache_dir="/custom/cache/path"\n)\n'})}),"\n",(0,s.jsx)(e.h3,{id:"4-xet-\u5b58\u50a8\u4f18\u5316",children:"4. Xet \u5b58\u50a8\u4f18\u5316"}),"\n",(0,s.jsx)(e.p,{children:"\u5bf9\u4e8e\u9891\u7e41\u66f4\u65b0\u7684\u5927\u6587\u4ef6,Xet \u5757\u7ea7\u53bb\u91cd\u6280\u672f\u53ef\u663e\u8457\u51cf\u5c11\u4f20\u8f93\u91cf:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'# \u73af\u5883\u53d8\u91cf\u542f\u7528\u9ad8\u6027\u80fd\u6a21\u5f0f\nos.environ["HF_XET_HIGH_PERFORMANCE"] = "1"\n\n# \u589e\u91cf\u66f4\u65b0\u4ec5\u4f20\u8f93\u53d8\u5316\u7684\u5757\nupload_file(\n    path_or_fileobj="./updated_model.bin",\n    path_in_repo="model.bin",\n    repo_id="username/my-model",\n    commit_message="Incremental checkpoint update"\n)\n'})}),"\n",(0,s.jsx)(e.h2,{id:"\u9519\u8bef\u5904\u7406\u4e0e\u91cd\u8bd5\u673a\u5236",children:"\u9519\u8bef\u5904\u7406\u4e0e\u91cd\u8bd5\u673a\u5236"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'from huggingface_hub import (\n    HfApi,\n    RepositoryNotFoundError,\n    GatedRepoError,\n    HfHubHTTPError,\n    InferenceTimeoutError\n)\n\napi = HfApi()\n\ntry:\n    model_info = api.model_info("username/non-existent-model")\nexcept RepositoryNotFoundError:\n    print("\u4ed3\u5e93\u4e0d\u5b58\u5728\u6216\u60a8\u65e0\u6743\u8bbf\u95ee")\nexcept GatedRepoError:\n    print("\u6a21\u578b\u9700\u8981\u63a5\u53d7\u4f7f\u7528\u534f\u8bae")\nexcept HfHubHTTPError as e:\n    if e.response.status_code == 401:\n        print("\u8ba4\u8bc1\u5931\u8d25,\u8bf7\u68c0\u67e5 token")\n    elif e.response.status_code == 403:\n        print("\u65e0\u6743\u9650\u8bbf\u95ee")\n    else:\n        print(f"HTTP\u9519\u8bef: {e}")\n\n# \u63a8\u7406\u8d85\u65f6\u5904\u7406\ntry:\n    result = client.text_generation("prompt", max_new_tokens=1000)\nexcept InferenceTimeoutError:\n    print("\u63a8\u7406\u8d85\u65f6,\u5c1d\u8bd5\u4f7f\u7528\u66f4\u5c0f\u7684\u6a21\u578b\u6216\u51cf\u5c11 max_new_tokens")\n'})}),"\n",(0,s.jsx)(e.h2,{id:"cli-\u5de5\u5177",children:"CLI \u5de5\u5177"}),"\n",(0,s.jsx)(e.h3,{id:"\u5e38\u7528\u547d\u4ee4",children:"\u5e38\u7528\u547d\u4ee4"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# \u8ba4\u8bc1\u767b\u5f55\nhuggingface-cli login\n\n# \u67e5\u770b\u5f53\u524d\u7528\u6237\nhuggingface-cli whoami\n\n# \u521b\u5efa\u4ed3\u5e93\nhuggingface-cli repo create my-model --type model\n\n# \u4e0a\u4f20\u6587\u4ef6\nhuggingface-cli upload username/my-model ./model_dir\n\n# \u4e0b\u8f7d\u4ed3\u5e93\nhuggingface-cli download username/my-model --local-dir ./downloads\n\n# \u641c\u7d22\u6a21\u578b\nhuggingface-cli models ls --author=google --task=text-classification\n\n# \u67e5\u770b\u6a21\u578b\u4fe1\u606f\nhuggingface-cli models info bert-base-uncased\n\n# \u626b\u63cf\u7f13\u5b58\nhuggingface-cli cache scan\n\n# \u6e05\u7406\u7f13\u5b58\nhuggingface-cli cache delete\n"})}),"\n",(0,s.jsx)(e.h2,{id:"\u6700\u4f73\u5b9e\u8df5",children:"\u6700\u4f73\u5b9e\u8df5"}),"\n",(0,s.jsx)(e.h3,{id:"1-\u7248\u672c\u56fa\u5b9a",children:"1. \u7248\u672c\u56fa\u5b9a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'# \u751f\u4ea7\u73af\u5883\u4f7f\u7528\u56fa\u5b9a\u7684\u63d0\u4ea4\u54c8\u5e0c\nhf_hub_download(\n    repo_id="bert-base-uncased",\n    filename="pytorch_model.bin",\n    revision="86b5e0934494bd15c9632b12f734a8a67f723594"\n)\n\n# \u6216\u4f7f\u7528\u6807\u7b7e\nhf_hub_download(\n    repo_id="stabilityai/stable-diffusion-2-1",\n    filename="v2-1_768-ema-pruned.ckpt",\n    revision="v2.1"  # Git \u6807\u7b7e\n)\n'})}),"\n",(0,s.jsx)(e.h3,{id:"2-\u6a21\u578b\u5361\u7247\u89c4\u8303",children:"2. \u6a21\u578b\u5361\u7247\u89c4\u8303"}),"\n",(0,s.jsxs)(e.p,{children:["\u521b\u5efa\u8be6\u5c3d\u7684 ",(0,s.jsx)(e.code,{children:"README.md"})," \u6a21\u578b\u5361\u7247:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-markdown",children:'---\nlanguage: en\nlicense: apache-2.0\ntags:\n- text-classification\n- sentiment-analysis\ndatasets:\n- imdb\nmetrics:\n- accuracy\nmodel-index:\n- name: my-sentiment-model\n  results:\n  - task:\n      type: text-classification\n    dataset:\n      name: IMDB\n      type: imdb\n    metrics:\n    - type: accuracy\n      value: 0.94\n---\n\n# \u6a21\u578b\u8bf4\u660e\n[\u8be6\u7ec6\u63cf\u8ff0\u6a21\u578b\u67b6\u6784\u3001\u8bad\u7ec3\u6570\u636e\u3001\u6027\u80fd\u6307\u6807]\n\n## \u4f7f\u7528\u65b9\u6cd5\n\\```python\nfrom transformers import AutoModelForSequenceClassification\nmodel = AutoModelForSequenceClassification.from_pretrained("username/my-sentiment-model")\n\\```\n'})}),"\n",(0,s.jsx)(e.h3,{id:"3-\u5b89\u5168\u4e0e\u9690\u79c1",children:"3. \u5b89\u5168\u4e0e\u9690\u79c1"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'# \u4e0d\u8981\u5728\u4ee3\u7801\u4e2d\u786c\u7f16\u7801 token\n# \u274c \u9519\u8bef\u505a\u6cd5\napi = HfApi(token="hf_xxxxx")\n\n# \u2705 \u6b63\u786e\u505a\u6cd5\nfrom huggingface_hub import HfApi\napi = HfApi()  # \u81ea\u52a8\u4ece\u73af\u5883\u53d8\u91cf\u6216 ~/.huggingface/token \u8bfb\u53d6\n\n# \u4e0a\u4f20\u524d\u6392\u9664\u654f\u611f\u6587\u4ef6\nupload_folder(\n    folder_path="./model",\n    repo_id="username/my-model",\n    ignore_patterns=[\n        "*.env",\n        "credentials.json",\n        ".git/*",\n        "__pycache__/*"\n    ]\n)\n'})}),"\n",(0,s.jsx)(e.h2,{id:"\u4e0e\u5176\u4ed6\u5e93\u7684\u96c6\u6210",children:"\u4e0e\u5176\u4ed6\u5e93\u7684\u96c6\u6210"}),"\n",(0,s.jsx)(e.h3,{id:"transformers",children:"Transformers"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'from transformers import AutoModel, AutoTokenizer\n\n# from_pretrained \u5185\u90e8\u4f7f\u7528 huggingface_hub\nmodel = AutoModel.from_pretrained("bert-base-uncased")\ntokenizer = AutoTokenizer.from_pretrained("bert-base-uncased")\n\n# \u8bad\u7ec3\u540e\u63a8\u9001\u5230 Hub\nmodel.push_to_hub("username/fine-tuned-bert")\ntokenizer.push_to_hub("username/fine-tuned-bert")\n'})}),"\n",(0,s.jsx)(e.h3,{id:"datasets",children:"Datasets"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'from datasets import load_dataset\n\n# \u5185\u90e8\u8c03\u7528 huggingface_hub \u4e0b\u8f7d\u6570\u636e\u96c6\ndataset = load_dataset("squad")\n\n# \u4e0a\u4f20\u81ea\u5b9a\u4e49\u6570\u636e\u96c6\ndataset.push_to_hub("username/my-dataset")\n'})}),"\n",(0,s.jsx)(e.h3,{id:"diffusers",children:"Diffusers"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'from diffusers import StableDiffusionPipeline\n\n# \u52a0\u8f7d Stable Diffusion \u6a21\u578b\npipe = StableDiffusionPipeline.from_pretrained(\n    "stabilityai/stable-diffusion-2-1"\n)\n\n# \u63a8\u9001\u5fae\u8c03\u540e\u7684\u6a21\u578b\npipe.push_to_hub("username/my-stable-diffusion")\n'})}),"\n",(0,s.jsx)(e.h2,{id:"\u4f01\u4e1a\u7ea7\u5e94\u7528",children:"\u4f01\u4e1a\u7ea7\u5e94\u7528"}),"\n",(0,s.jsx)(e.h3,{id:"\u79c1\u6709-hub-\u90e8\u7f72",children:"\u79c1\u6709 Hub \u90e8\u7f72"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'# \u914d\u7f6e\u4f01\u4e1a\u5185\u90e8 Hub \u5b9e\u4f8b\nfrom huggingface_hub import HfApi\n\napi = HfApi(\n    endpoint="https://hub.company.internal",\n    token="internal_token"\n)\n\n# \u6240\u6709\u64cd\u4f5c\u6307\u5411\u5185\u90e8\u5b9e\u4f8b\napi.create_repo("company-models/project-x")\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u7ec4\u7ec7\u7ba1\u7406",children:"\u7ec4\u7ec7\u7ba1\u7406"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'# \u5728\u7ec4\u7ec7\u4e0b\u521b\u5efa\u4ed3\u5e93\ncreate_repo(\n    repo_id="my-organization/shared-model",\n    organization="my-organization",\n    private=True\n)\n\n# \u5217\u51fa\u7ec4\u7ec7\u7684\u6240\u6709\u6a21\u578b\norg_models = api.list_models(author="my-organization")\n'})}),"\n",(0,s.jsx)(e.h2,{id:"\u5e38\u89c1\u95ee\u9898\u4e0e\u89e3\u51b3\u65b9\u6848",children:"\u5e38\u89c1\u95ee\u9898\u4e0e\u89e3\u51b3\u65b9\u6848"}),"\n",(0,s.jsx)(e.h3,{id:"\u95ee\u98981-\u5927\u6587\u4ef6\u4e0b\u8f7d\u4e2d\u65ad",children:"\u95ee\u98981: \u5927\u6587\u4ef6\u4e0b\u8f7d\u4e2d\u65ad"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"}),": \u542f\u7528\u81ea\u52a8\u91cd\u8bd5"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"from huggingface_hub import hf_hub_download\nfrom requests.adapters import HTTPAdapter\nfrom requests.packages.urllib3.util.retry import Retry\n\n# \u914d\u7f6e\u91cd\u8bd5\u7b56\u7565\nretry_strategy = Retry(\n    total=3,\n    backoff_factor=1,\n    status_forcelist=[429, 500, 502, 503, 504]\n)\n"})}),"\n",(0,s.jsx)(e.h3,{id:"\u95ee\u98982-windows-\u7b26\u53f7\u94fe\u63a5\u6743\u9650",children:"\u95ee\u98982: Windows \u7b26\u53f7\u94fe\u63a5\u6743\u9650"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"\u542f\u7528\u5f00\u53d1\u8005\u6a21\u5f0f"}),"\n",(0,s.jsx)(e.li,{children:"\u6216\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u7981\u7528\u7b26\u53f7\u94fe\u63a5\u8b66\u544a:"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'os.environ["HF_HUB_DISABLE_SYMLINKS_WARNING"] = "1"\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u95ee\u98983-\u4ee3\u7406\u7f51\u7edc\u73af\u5883",children:"\u95ee\u98983: \u4ee3\u7406\u7f51\u7edc\u73af\u5883"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u89e3\u51b3\u65b9\u6848"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:'import os\nos.environ["HTTP_PROXY"] = "http://proxy.company.com:8080"\nos.environ["HTTPS_PROXY"] = "http://proxy.company.com:8080"\n\n# \u6216\u914d\u7f6e requests \u4f1a\u8bdd\nimport requests\nfrom huggingface_hub import configure_http_backend\n\nsession = requests.Session()\nsession.proxies = {\n    "http": "http://proxy.company.com:8080",\n    "https": "http://proxy.company.com:8080"\n}\nconfigure_http_backend(backend_factory=lambda: session)\n'})}),"\n",(0,s.jsx)(e.h2,{id:"\u672a\u6765\u53d1\u5c55\u65b9\u5411",children:"\u672a\u6765\u53d1\u5c55\u65b9\u5411"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u589e\u5f3a\u7684\u6d41\u5f0f\u4f20\u8f93"}),": \u652f\u6301\u6a21\u578b\u6743\u91cd\u7684\u6d41\u5f0f\u52a0\u8f7d,\u51cf\u5c11\u5185\u5b58\u5360\u7528"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u8054\u90a6\u5b66\u4e60\u96c6\u6210"}),": \u652f\u6301\u5206\u5e03\u5f0f\u6a21\u578b\u8bad\u7ec3\u548c\u805a\u5408"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u66f4\u7ec6\u7c92\u5ea6\u7684\u8bbf\u95ee\u63a7\u5236"}),": \u57fa\u4e8e\u89d2\u8272\u7684\u6743\u9650\u7ba1\u7406(RBAC)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u6539\u8fdb\u7684\u6570\u636e\u7248\u672c\u63a7\u5236"}),": \u9488\u5bf9\u6570\u636e\u96c6\u7684\u4e13\u7528\u7248\u672c\u7ba1\u7406\u5de5\u5177"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u8fb9\u7f18\u8ba1\u7b97\u652f\u6301"}),": \u4f18\u5316\u79fb\u52a8\u548c\u5d4c\u5165\u5f0f\u8bbe\u5907\u7684\u6a21\u578b\u5206\u53d1"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\u53c2\u8003\u8d44\u6599",children:"\u53c2\u8003\u8d44\u6599"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://huggingface.co/docs/huggingface_hub/en/index",children:"Hugging Face Hub \u5b98\u65b9\u6587\u6863"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://github.com/huggingface/huggingface_hub",children:"Hugging Face Hub GitHub \u4ed3\u5e93"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://pypi.org/project/huggingface-hub/",children:"PyPI \u9879\u76ee\u9875\u9762"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://huggingface.co/docs/huggingface_hub/en/quick-start",children:"\u5feb\u901f\u5165\u95e8\u6307\u5357"})}),"\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.a,{href:"https://deepnote.com/blog/ultimate-guide-to-huggingfacehub-library-in-python",children:"Deepnote \u6df1\u5ea6\u6559\u7a0b"})}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"\u6587\u6863\u7248\u672c"}),": 1.0",(0,s.jsx)(e.br,{}),"\n",(0,s.jsx)(e.strong,{children:"\u6700\u540e\u66f4\u65b0"}),": 2026-01-18",(0,s.jsx)(e.br,{}),"\n",(0,s.jsx)(e.strong,{children:"\u57fa\u4e8e\u7248\u672c"}),": huggingface_hub 1.3.2"]})]})}function h(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(c,{...n})}):c(n)}}}]);