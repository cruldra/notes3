"use strict";(self.webpackChunknotes_3=self.webpackChunknotes_3||[]).push([[3605],{54213:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>c});var r=s(36672);const t={},i=r.createContext(t);function l(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(i.Provider,{value:n},e.children)}},80237:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"AI/MCP/MCP-Python-SDK","title":"MCP Python SDK","description":"\u6a21\u578b\u4e0a\u4e0b\u6587\u534f\u8bae(MCP)\u7684Python\u5b9e\u73b0 PyPI MIT licensed Python Version Documentation Specification GitHub Discussions","source":"@site/docs/AI/MCP/MCP-Python-SDK.md","sourceDirName":"AI/MCP","slug":"/AI/MCP/MCP-Python-SDK","permalink":"/notes3/docs/AI/MCP/MCP-Python-SDK","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/AI/MCP/MCP-Python-SDK.md","tags":[],"version":"current","frontMatter":{},"sidebar":"ai","previous":{"title":"\u8fd0\u884c\u672c\u5730\u4ee3\u7406API","permalink":"/notes3/docs/AI/Agno/\u8fd0\u884c\u672c\u5730\u4ee3\u7406API"},"next":{"title":"\u4ec0\u4e48\u662fMCP\u4ee5\u53ca\u4e3a\u4ec0\u4e48\u4f60\u5e94\u8be5\u5173\u6ce8\u5b83","permalink":"/notes3/docs/AI/MCP/\u4ec0\u4e48\u662fMCP\u4ee5\u53ca\u4e3a\u4ec0\u4e48\u4f60\u5e94\u8be5\u5173\u6ce8\u5b83"}}');var t=s(23420),i=s(54213);const l={},c="MCP Python SDK",a={},d=[{value:"\u76ee\u5f55",id:"\u76ee\u5f55",level:2},{value:"\u6982\u8ff0",id:"\u6982\u8ff0",level:2},{value:"\u5b89\u88c5",id:"\u5b89\u88c5",level:2},{value:"\u5c06MCP\u6dfb\u52a0\u5230\u4f60\u7684Python\u9879\u76ee",id:"\u5c06mcp\u6dfb\u52a0\u5230\u4f60\u7684python\u9879\u76ee",level:3},{value:"\u8fd0\u884c\u72ec\u7acb\u7684MCP\u5f00\u53d1\u5de5\u5177",id:"\u8fd0\u884c\u72ec\u7acb\u7684mcp\u5f00\u53d1\u5de5\u5177",level:3},{value:"\u5feb\u901f\u5165\u95e8",id:"\u5feb\u901f\u5165\u95e8",level:2},{value:"\u4ec0\u4e48\u662fMCP\uff1f",id:"\u4ec0\u4e48\u662fmcp",level:2},{value:"\u6838\u5fc3\u6982\u5ff5",id:"\u6838\u5fc3\u6982\u5ff5",level:2},{value:"\u670d\u52a1\u5668",id:"\u670d\u52a1\u5668",level:3},{value:"\u8d44\u6e90",id:"\u8d44\u6e90",level:3},{value:"\u5de5\u5177",id:"\u5de5\u5177",level:3},{value:"\u63d0\u793a",id:"\u63d0\u793a",level:3},{value:"\u56fe\u50cf",id:"\u56fe\u50cf",level:3},{value:"\u4e0a\u4e0b\u6587",id:"\u4e0a\u4e0b\u6587",level:3},{value:"\u8fd0\u884c\u4f60\u7684\u670d\u52a1\u5668",id:"\u8fd0\u884c\u4f60\u7684\u670d\u52a1\u5668",level:2},{value:"\u5f00\u53d1\u6a21\u5f0f",id:"\u5f00\u53d1\u6a21\u5f0f",level:3},{value:"Claude Desktop\u96c6\u6210",id:"claude-desktop\u96c6\u6210",level:3},{value:"\u76f4\u63a5\u6267\u884c",id:"\u76f4\u63a5\u6267\u884c",level:3},{value:"\u6302\u8f7d\u5230\u73b0\u6709\u7684ASGI\u670d\u52a1\u5668",id:"\u6302\u8f7d\u5230\u73b0\u6709\u7684asgi\u670d\u52a1\u5668",level:3},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:2},{value:"\u56de\u663e\u670d\u52a1\u5668",id:"\u56de\u663e\u670d\u52a1\u5668",level:3},{value:"SQLite\u6d4f\u89c8\u5668",id:"sqlite\u6d4f\u89c8\u5668",level:3},{value:"\u9ad8\u7ea7\u7528\u6cd5",id:"\u9ad8\u7ea7\u7528\u6cd5",level:2},{value:"\u4f4e\u7ea7\u670d\u52a1\u5668",id:"\u4f4e\u7ea7\u670d\u52a1\u5668",level:3},{value:"\u7f16\u5199MCP\u5ba2\u6237\u7aef",id:"\u7f16\u5199mcp\u5ba2\u6237\u7aef",level:3},{value:"MCP\u539f\u8bed",id:"mcp\u539f\u8bed",level:3},{value:"\u670d\u52a1\u5668\u80fd\u529b",id:"\u670d\u52a1\u5668\u80fd\u529b",level:3},{value:"\u6587\u6863",id:"\u6587\u6863",level:2},{value:"\u8d21\u732e",id:"\u8d21\u732e",level:2},{value:"\u8bb8\u53ef\u8bc1",id:"\u8bb8\u53ef\u8bc1",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"mcp-python-sdk",children:"MCP Python SDK"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u6a21\u578b\u4e0a\u4e0b\u6587\u534f\u8bae(MCP)\u7684Python\u5b9e\u73b0"})," ",(0,t.jsx)(n.a,{href:"https://pypi.org/project/mcp/",children:(0,t.jsx)(n.img,{src:"https://img.shields.io/pypi/v/mcp.svg",alt:"PyPI"})})," ",(0,t.jsx)(n.a,{href:"https://github.com/modelcontextprotocol/python-sdk/blob/main/LICENSE",children:(0,t.jsx)(n.img,{src:"https://img.shields.io/pypi/l/mcp.svg",alt:"MIT licensed"})})," ",(0,t.jsx)(n.a,{href:"https://www.python.org/downloads/",children:(0,t.jsx)(n.img,{src:"https://img.shields.io/pypi/pyversions/mcp.svg",alt:"Python Version"})})," ",(0,t.jsx)(n.a,{href:"https://modelcontextprotocol.io",children:(0,t.jsx)(n.img,{src:"https://img.shields.io/badge/docs-modelcontextprotocol.io-blue.svg",alt:"Documentation"})})," ",(0,t.jsx)(n.a,{href:"https://spec.modelcontextprotocol.io",children:(0,t.jsx)(n.img,{src:"https://img.shields.io/badge/spec-spec.modelcontextprotocol.io-blue.svg",alt:"Specification"})})," ",(0,t.jsx)(n.a,{href:"https://github.com/modelcontextprotocol/python-sdk/discussions",children:(0,t.jsx)(n.img,{src:"https://img.shields.io/github/discussions/modelcontextprotocol/python-sdk",alt:"GitHub Discussions"})})]}),"\n",(0,t.jsx)(n.h2,{id:"\u76ee\u5f55",children:"\u76ee\u5f55"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#mcp-python-sdk",children:"MCP Python SDK"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#%E6%A6%82%E8%BF%B0",children:"\u6982\u8ff0"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#%E5%AE%89%E8%A3%85",children:"\u5b89\u88c5"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#%E5%B0%86mcp%E6%B7%BB%E5%8A%A0%E5%88%B0%E4%BD%A0%E7%9A%84python%E9%A1%B9%E7%9B%AE",children:"\u5c06MCP\u6dfb\u52a0\u5230\u4f60\u7684Python\u9879\u76ee"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#%E8%BF%90%E8%A1%8C%E7%8B%AC%E7%AB%8B%E7%9A%84mcp%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7",children:"\u8fd0\u884c\u72ec\u7acb\u7684MCP\u5f00\u53d1\u5de5\u5177"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8",children:"\u5feb\u901f\u5165\u95e8"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#%E4%BB%80%E4%B9%88%E6%98%AFmcp",children:"\u4ec0\u4e48\u662fMCP\uff1f"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5",children:"\u6838\u5fc3\u6982\u5ff5"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#%E6%9C%8D%E5%8A%A1%E5%99%A8",children:"\u670d\u52a1\u5668"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#%E8%B5%84%E6%BA%90",children:"\u8d44\u6e90"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#%E5%B7%A5%E5%85%B7",children:"\u5de5\u5177"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#%E6%8F%90%E7%A4%BA",children:"\u63d0\u793a"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#%E5%9B%BE%E5%83%8F",children:"\u56fe\u50cf"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#%E4%B8%8A%E4%B8%8B%E6%96%87",children:"\u4e0a\u4e0b\u6587"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#%E8%BF%90%E8%A1%8C%E4%BD%A0%E7%9A%84%E6%9C%8D%E5%8A%A1%E5%99%A8",children:"\u8fd0\u884c\u4f60\u7684\u670d\u52a1\u5668"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F",children:"\u5f00\u53d1\u6a21\u5f0f"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#claude-desktop%E9%9B%86%E6%88%90",children:"Claude Desktop\u96c6\u6210"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#%E7%9B%B4%E6%8E%A5%E6%89%A7%E8%A1%8C",children:"\u76f4\u63a5\u6267\u884c"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#%E6%8C%82%E8%BD%BD%E5%88%B0%E7%8E%B0%E6%9C%89%E7%9A%84asgi%E6%9C%8D%E5%8A%A1%E5%99%A8",children:"\u6302\u8f7d\u5230\u73b0\u6709\u7684ASGI\u670d\u52a1\u5668"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#%E7%A4%BA%E4%BE%8B",children:"\u793a\u4f8b"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#%E5%9B%9E%E6%98%BE%E6%9C%8D%E5%8A%A1%E5%99%A8",children:"\u56de\u663e\u670d\u52a1\u5668"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#sqlite%E6%B5%8F%E8%A7%88%E5%99%A8",children:"SQLite\u6d4f\u89c8\u5668"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95",children:"\u9ad8\u7ea7\u7528\u6cd5"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#%E4%BD%8E%E7%BA%A7%E6%9C%8D%E5%8A%A1%E5%99%A8",children:"\u4f4e\u7ea7\u670d\u52a1\u5668"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#%E7%BC%96%E5%86%99mcp%E5%AE%A2%E6%88%B7%E7%AB%AF",children:"\u7f16\u5199MCP\u5ba2\u6237\u7aef"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#mcp%E5%8E%9F%E8%AF%AD",children:"MCP\u539f\u8bed"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%83%BD%E5%8A%9B",children:"\u670d\u52a1\u5668\u80fd\u529b"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#%E6%96%87%E6%A1%A3",children:"\u6587\u6863"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#%E8%B4%A1%E7%8C%AE",children:"\u8d21\u732e"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#%E8%AE%B8%E5%8F%AF%E8%AF%81",children:"\u8bb8\u53ef\u8bc1"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u6982\u8ff0",children:"\u6982\u8ff0"}),"\n",(0,t.jsx)(n.p,{children:"\u6a21\u578b\u4e0a\u4e0b\u6587\u534f\u8bae\u5141\u8bb8\u5e94\u7528\u7a0b\u5e8f\u4ee5\u6807\u51c6\u5316\u7684\u65b9\u5f0f\u4e3aLLMs\u63d0\u4f9b\u4e0a\u4e0b\u6587\uff0c\u5c06\u63d0\u4f9b\u4e0a\u4e0b\u6587\u7684\u5173\u6ce8\u70b9\u4e0e\u5b9e\u9645\u7684LLM\u4ea4\u4e92\u5206\u79bb\u3002\u8fd9\u4e2aPython SDK\u5b9e\u73b0\u4e86\u5b8c\u6574\u7684MCP\u89c4\u8303\uff0c\u4f7f\u4ee5\u4e0b\u64cd\u4f5c\u53d8\u5f97\u7b80\u5355\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u6784\u5efa\u53ef\u4ee5\u8fde\u63a5\u5230\u4efb\u4f55MCP\u670d\u52a1\u5668\u7684MCP\u5ba2\u6237\u7aef"}),"\n",(0,t.jsx)(n.li,{children:"\u521b\u5efa\u516c\u5f00\u8d44\u6e90\u3001\u63d0\u793a\u548c\u5de5\u5177\u7684MCP\u670d\u52a1\u5668"}),"\n",(0,t.jsx)(n.li,{children:"\u4f7f\u7528\u6807\u51c6\u4f20\u8f93\u65b9\u5f0f\u5982stdio\u548cSSE"}),"\n",(0,t.jsx)(n.li,{children:"\u5904\u7406\u6240\u6709MCP\u534f\u8bae\u6d88\u606f\u548c\u751f\u547d\u5468\u671f\u4e8b\u4ef6"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u5b89\u88c5",children:"\u5b89\u88c5"}),"\n",(0,t.jsx)(n.h3,{id:"\u5c06mcp\u6dfb\u52a0\u5230\u4f60\u7684python\u9879\u76ee",children:"\u5c06MCP\u6dfb\u52a0\u5230\u4f60\u7684Python\u9879\u76ee"}),"\n",(0,t.jsxs)(n.p,{children:["\u6211\u4eec\u63a8\u8350\u4f7f\u7528",(0,t.jsx)(n.a,{href:"https://docs.astral.sh/uv/",children:"uv"}),"\u6765\u7ba1\u7406\u4f60\u7684Python\u9879\u76ee\u3002\u5982\u679c\u4f60\u8fd8\u6ca1\u6709\u521b\u5efa\u4e00\u4e2auv\u7ba1\u7406\u7684\u9879\u76ee\uff0c\u8bf7\u521b\u5efa\u4e00\u4e2a\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"uv init mcp-server-demo\ncd mcp-server-demo\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u7136\u540e\u5c06MCP\u6dfb\u52a0\u5230\u4f60\u7684\u9879\u76ee\u4f9d\u8d56\u4e2d\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'uv add "mcp[cli]"\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u6216\u8005\uff0c\u5bf9\u4e8e\u4f7f\u7528pip\u7ba1\u7406\u4f9d\u8d56\u7684\u9879\u76ee\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'pip install "mcp[cli]"\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u8fd0\u884c\u72ec\u7acb\u7684mcp\u5f00\u53d1\u5de5\u5177",children:"\u8fd0\u884c\u72ec\u7acb\u7684MCP\u5f00\u53d1\u5de5\u5177"}),"\n",(0,t.jsx)(n.p,{children:"\u4f7f\u7528uv\u8fd0\u884cmcp\u547d\u4ee4\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"uv run mcp\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u5feb\u901f\u5165\u95e8",children:"\u5feb\u901f\u5165\u95e8"}),"\n",(0,t.jsx)(n.p,{children:"\u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u7b80\u5355\u7684MCP\u670d\u52a1\u5668\uff0c\u5b83\u516c\u5f00\u4e00\u4e2a\u8ba1\u7b97\u5668\u5de5\u5177\u548c\u4e00\u4e9b\u6570\u636e\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'# server.py\nfrom mcp.server.fastmcp import FastMCP\n\n# \u521b\u5efa\u4e00\u4e2aMCP\u670d\u52a1\u5668\nmcp = FastMCP("Demo")\n\n# \u6dfb\u52a0\u4e00\u4e2a\u52a0\u6cd5\u5de5\u5177\n@mcp.tool()\ndef add(a: int, b: int) -> int:\n    """\u5c06\u4e24\u4e2a\u6570\u5b57\u76f8\u52a0"""\n    return a + b\n\n# \u6dfb\u52a0\u4e00\u4e2a\u52a8\u6001\u95ee\u5019\u8d44\u6e90\n@mcp.resource("greeting://{name}")\ndef get_greeting(name: str) -> str:\n    """\u83b7\u53d6\u4e2a\u6027\u5316\u95ee\u5019"""\n    return f"Hello, {name}!"\n'})}),"\n",(0,t.jsxs)(n.p,{children:["\u4f60\u53ef\u4ee5\u5728",(0,t.jsx)(n.a,{href:"https://claude.ai/download",children:"Claude Desktop"}),"\u4e2d\u5b89\u88c5\u8fd9\u4e2a\u670d\u52a1\u5668\u5e76\u7acb\u5373\u4e0e\u4e4b\u4ea4\u4e92\uff0c\u53ea\u9700\u8fd0\u884c\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mcp install server.py\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u6216\u8005\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528MCP\u68c0\u67e5\u5668\u8fdb\u884c\u6d4b\u8bd5\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mcp dev server.py\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u4ec0\u4e48\u662fmcp",children:"\u4ec0\u4e48\u662fMCP\uff1f"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://modelcontextprotocol.io",children:"\u6a21\u578b\u4e0a\u4e0b\u6587\u534f\u8bae(MCP)"}),"\u8ba9\u4f60\u80fd\u591f\u6784\u5efa\u670d\u52a1\u5668\uff0c\u4ee5\u5b89\u5168\u3001\u6807\u51c6\u5316\u7684\u65b9\u5f0f\u5411LLM\u5e94\u7528\u7a0b\u5e8f\u516c\u5f00\u6570\u636e\u548c\u529f\u80fd\u3002\u53ef\u4ee5\u5c06\u5176\u89c6\u4e3aWeb API\uff0c\u4f46\u4e13\u4e3aLLM\u4ea4\u4e92\u8bbe\u8ba1\u3002MCP\u670d\u52a1\u5668\u53ef\u4ee5\uff1a"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u901a\u8fc7",(0,t.jsx)(n.strong,{children:"\u8d44\u6e90"}),"\u516c\u5f00\u6570\u636e\uff08\u53ef\u4ee5\u5c06\u5176\u89c6\u4e3a\u7c7b\u4f3c\u4e8eGET\u7aef\u70b9\uff1b\u5b83\u4eec\u7528\u4e8e\u5c06\u4fe1\u606f\u52a0\u8f7d\u5230LLM\u7684\u4e0a\u4e0b\u6587\u4e2d\uff09"]}),"\n",(0,t.jsxs)(n.li,{children:["\u901a\u8fc7",(0,t.jsx)(n.strong,{children:"\u5de5\u5177"}),"\u63d0\u4f9b\u529f\u80fd\uff08\u7c7b\u4f3c\u4e8ePOST\u7aef\u70b9\uff1b\u5b83\u4eec\u7528\u4e8e\u6267\u884c\u4ee3\u7801\u6216\u4ea7\u751f\u526f\u4f5c\u7528\uff09"]}),"\n",(0,t.jsxs)(n.li,{children:["\u901a\u8fc7",(0,t.jsx)(n.strong,{children:"\u63d0\u793a"}),"\u5b9a\u4e49\u4ea4\u4e92\u6a21\u5f0f\uff08LLM\u4ea4\u4e92\u7684\u53ef\u91cd\u7528\u6a21\u677f\uff09"]}),"\n",(0,t.jsx)(n.li,{children:"\u4ee5\u53ca\u66f4\u591a\uff01"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u6838\u5fc3\u6982\u5ff5",children:"\u6838\u5fc3\u6982\u5ff5"}),"\n",(0,t.jsx)(n.h3,{id:"\u670d\u52a1\u5668",children:"\u670d\u52a1\u5668"}),"\n",(0,t.jsx)(n.p,{children:"FastMCP\u670d\u52a1\u5668\u662f\u4f60\u4e0eMCP\u534f\u8bae\u7684\u6838\u5fc3\u63a5\u53e3\u3002\u5b83\u5904\u7406\u8fde\u63a5\u7ba1\u7406\u3001\u534f\u8bae\u5408\u89c4\u6027\u548c\u6d88\u606f\u8def\u7531\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'# \u6dfb\u52a0\u5177\u6709\u5f3a\u7c7b\u578b\u7684\u542f\u52a8/\u5173\u95ed\u751f\u547d\u5468\u671f\u652f\u6301\nfrom contextlib import asynccontextmanager\nfrom collections.abc import AsyncIterator\nfrom dataclasses import dataclass\nfrom fake_database import Database  # \u66ff\u6362\u4e3a\u4f60\u5b9e\u9645\u7684\u6570\u636e\u5e93\u7c7b\u578b\nfrom mcp.server.fastmcp import Context, FastMCP\n\n# \u521b\u5efa\u4e00\u4e2a\u547d\u540d\u670d\u52a1\u5668\nmcp = FastMCP("My App")\n\n# \u6307\u5b9a\u90e8\u7f72\u548c\u5f00\u53d1\u7684\u4f9d\u8d56\u9879\nmcp = FastMCP("My App", dependencies=["pandas", "numpy"])\n\n@dataclass\nclass AppContext:\n    db: Database\n\n@asynccontextmanager\nasync def app_lifespan(server: FastMCP) -> AsyncIterator[AppContext]:\n    """\u7ba1\u7406\u5177\u6709\u7c7b\u578b\u5b89\u5168\u4e0a\u4e0b\u6587\u7684\u5e94\u7528\u7a0b\u5e8f\u751f\u547d\u5468\u671f"""\n    # \u542f\u52a8\u65f6\u521d\u59cb\u5316\n    db = await Database.connect()\n    try:\n        yield AppContext(db=db)\n    finally:\n        # \u5173\u95ed\u65f6\u6e05\u7406\n        await db.disconnect()\n\n# \u5c06\u751f\u547d\u5468\u671f\u4f20\u9012\u7ed9\u670d\u52a1\u5668\nmcp = FastMCP("My App", lifespan=app_lifespan)\n\n# \u5728\u5de5\u5177\u4e2d\u8bbf\u95ee\u7c7b\u578b\u5b89\u5168\u7684\u751f\u547d\u5468\u671f\u4e0a\u4e0b\u6587\n@mcp.tool()\ndef query_db(ctx: Context) -> str:\n    """\u4f7f\u7528\u521d\u59cb\u5316\u8d44\u6e90\u7684\u5de5\u5177"""\n    db = ctx.request_context.lifespan_context.db\n    return db.query()\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u8d44\u6e90",children:"\u8d44\u6e90"}),"\n",(0,t.jsx)(n.p,{children:"\u8d44\u6e90\u662f\u4f60\u5411LLMs\u516c\u5f00\u6570\u636e\u7684\u65b9\u5f0f\u3002\u5b83\u4eec\u7c7b\u4f3c\u4e8eREST API\u4e2d\u7684GET\u7aef\u70b9 - \u5b83\u4eec\u63d0\u4f9b\u6570\u636e\uff0c\u4f46\u4e0d\u5e94\u6267\u884c\u91cd\u8981\u7684\u8ba1\u7b97\u6216\u4ea7\u751f\u526f\u4f5c\u7528\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from mcp.server.fastmcp import FastMCP\n\nmcp = FastMCP("My App")\n\n@mcp.resource("config://app")\ndef get_config() -> str:\n    """\u9759\u6001\u914d\u7f6e\u6570\u636e"""\n    return "App configuration here"\n\n@mcp.resource("users://{user_id}/profile")\ndef get_user_profile(user_id: str) -> str:\n    """\u52a8\u6001\u7528\u6237\u6570\u636e"""\n    return f"Profile data for user {user_id}"\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u5de5\u5177",children:"\u5de5\u5177"}),"\n",(0,t.jsx)(n.p,{children:"\u5de5\u5177\u8ba9LLMs\u901a\u8fc7\u4f60\u7684\u670d\u52a1\u5668\u91c7\u53d6\u884c\u52a8\u3002\u4e0e\u8d44\u6e90\u4e0d\u540c\uff0c\u5de5\u5177\u9884\u671f\u4f1a\u6267\u884c\u8ba1\u7b97\u5e76\u4ea7\u751f\u526f\u4f5c\u7528\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'import httpx\nfrom mcp.server.fastmcp import FastMCP\n\nmcp = FastMCP("My App")\n\n@mcp.tool()\ndef calculate_bmi(weight_kg: float, height_m: float) -> float:\n    """\u8ba1\u7b97BMI\uff0c\u7ed9\u5b9a\u4f53\u91cd\uff08\u516c\u65a4\uff09\u548c\u8eab\u9ad8\uff08\u7c73\uff09"""\n    return weight_kg / (height_m**2)\n\n@mcp.tool()\nasync def fetch_weather(city: str) -> str:\n    """\u83b7\u53d6\u57ce\u5e02\u7684\u5f53\u524d\u5929\u6c14"""\n    async with httpx.AsyncClient() as client:\n        response = await client.get(f"https://api.weather.com/{city}")\n        return response.text\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u63d0\u793a",children:"\u63d0\u793a"}),"\n",(0,t.jsx)(n.p,{children:"\u63d0\u793a\u662f\u53ef\u91cd\u7528\u7684\u6a21\u677f\uff0c\u5e2e\u52a9LLMs\u6709\u6548\u5730\u4e0e\u4f60\u7684\u670d\u52a1\u5668\u4ea4\u4e92\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from mcp.server.fastmcp import FastMCP\nfrom mcp.server.fastmcp.prompts import base\n\nmcp = FastMCP("My App")\n\n@mcp.prompt()\ndef review_code(code: str) -> str:\n    return f"Please review this code:\\n\\n{code}"\n\n@mcp.prompt()\ndef debug_error(error: str) -> list[base.Message]:\n    return [\n        base.UserMessage("I\'m seeing this error:"),\n        base.UserMessage(error),\n        base.AssistantMessage("I\'ll help debug that. What have you tried so far?"),\n    ]\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u56fe\u50cf",children:"\u56fe\u50cf"}),"\n",(0,t.jsxs)(n.p,{children:["FastMCP\u63d0\u4f9b\u4e86\u4e00\u4e2a",(0,t.jsx)(n.code,{children:"Image"}),"\u7c7b\uff0c\u81ea\u52a8\u5904\u7406\u56fe\u50cf\u6570\u636e\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from mcp.server.fastmcp import FastMCP, Image\nfrom PIL import Image as PILImage\n\nmcp = FastMCP("My App")\n\n@mcp.tool()\ndef create_thumbnail(image_path: str) -> Image:\n    """\u4ece\u56fe\u50cf\u521b\u5efa\u7f29\u7565\u56fe"""\n    img = PILImage.open(image_path)\n    img.thumbnail((100, 100))\n    return Image(data=img.tobytes(), format="png")\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u4e0a\u4e0b\u6587",children:"\u4e0a\u4e0b\u6587"}),"\n",(0,t.jsx)(n.p,{children:"Context\u5bf9\u8c61\u8ba9\u4f60\u7684\u5de5\u5177\u548c\u8d44\u6e90\u8bbf\u95eeMCP\u529f\u80fd\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from mcp.server.fastmcp import FastMCP, Context\n\nmcp = FastMCP("My App")\n\n@mcp.tool()\nasync def long_task(files: list[str], ctx: Context) -> str:\n    """\u5904\u7406\u591a\u4e2a\u6587\u4ef6\u5e76\u8ddf\u8e2a\u8fdb\u5ea6"""\n    for i, file in enumerate(files):\n        ctx.info(f"Processing {file}")\n        await ctx.report_progress(i, len(files))\n        data, mime_type = await ctx.read_resource(f"file://{file}")\n    return "Processing complete"\n'})}),"\n",(0,t.jsx)(n.h2,{id:"\u8fd0\u884c\u4f60\u7684\u670d\u52a1\u5668",children:"\u8fd0\u884c\u4f60\u7684\u670d\u52a1\u5668"}),"\n",(0,t.jsx)(n.h3,{id:"\u5f00\u53d1\u6a21\u5f0f",children:"\u5f00\u53d1\u6a21\u5f0f"}),"\n",(0,t.jsx)(n.p,{children:"\u6d4b\u8bd5\u548c\u8c03\u8bd5\u670d\u52a1\u5668\u7684\u6700\u5feb\u65b9\u6cd5\u662f\u4f7f\u7528MCP\u68c0\u67e5\u5668\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"mcp dev server.py\n# \u6dfb\u52a0\u4f9d\u8d56\nmcp dev server.py --with pandas --with numpy\n# \u6302\u8f7d\u672c\u5730\u4ee3\u7801\nmcp dev server.py --with-editable .\n"})}),"\n",(0,t.jsx)(n.h3,{id:"claude-desktop\u96c6\u6210",children:"Claude Desktop\u96c6\u6210"}),"\n",(0,t.jsx)(n.p,{children:"\u4e00\u65e6\u4f60\u7684\u670d\u52a1\u5668\u51c6\u5907\u5c31\u7eea\uff0c\u5c06\u5176\u5b89\u88c5\u5728Claude Desktop\u4e2d\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'mcp install server.py\n# \u81ea\u5b9a\u4e49\u540d\u79f0\nmcp install server.py --name "My Analytics Server"\n# \u73af\u5883\u53d8\u91cf\nmcp install server.py -v API_KEY=abc123 -v DB_URL=postgres://...\nmcp install server.py -f .env\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u76f4\u63a5\u6267\u884c",children:"\u76f4\u63a5\u6267\u884c"}),"\n",(0,t.jsx)(n.p,{children:"\u5bf9\u4e8e\u9ad8\u7ea7\u573a\u666f\uff0c\u5982\u81ea\u5b9a\u4e49\u90e8\u7f72\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from mcp.server.fastmcp import FastMCP\n\nmcp = FastMCP("My App")\n\nif __name__ == "__main__":\n    mcp.run()\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u8fd0\u884c\u5b83\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"python server.py\n# \u6216\nmcp run server.py\n"})}),"\n",(0,t.jsx)(n.h3,{id:"\u6302\u8f7d\u5230\u73b0\u6709\u7684asgi\u670d\u52a1\u5668",children:"\u6302\u8f7d\u5230\u73b0\u6709\u7684ASGI\u670d\u52a1\u5668"}),"\n",(0,t.jsxs)(n.p,{children:["\u4f60\u53ef\u4ee5\u4f7f\u7528",(0,t.jsx)(n.code,{children:"sse_app"}),"\u65b9\u6cd5\u5c06SSE\u670d\u52a1\u5668\u6302\u8f7d\u5230\u73b0\u6709\u7684ASGI\u670d\u52a1\u5668\u3002\u8fd9\u5141\u8bb8\u4f60\u5c06SSE\u670d\u52a1\u5668\u4e0e\u5176\u4ed6ASGI\u5e94\u7528\u7a0b\u5e8f\u96c6\u6210\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from starlette.applications import Starlette\nfrom starlette.routing import Mount, Host\nfrom mcp.server.fastmcp import FastMCP\n\nmcp = FastMCP(\"My App\")\n\n# \u5c06SSE\u670d\u52a1\u5668\u6302\u8f7d\u5230\u73b0\u6709\u7684ASGI\u670d\u52a1\u5668\napp = Starlette(\n    routes=[\n        Mount('/', app=mcp.sse_app()),\n    ]\n)\n\n# \u6216\u52a8\u6001\u6302\u8f7d\u4e3a\u4e3b\u673a\napp.router.routes.append(Host('mcp.acme.corp', app=mcp.sse_app()))\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u6709\u5173\u5728Starlette\u4e2d\u6302\u8f7d\u5e94\u7528\u7a0b\u5e8f\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605",(0,t.jsx)(n.a,{href:"https://www.starlette.io/routing/#submounting-routes",children:"Starlette\u6587\u6863"}),"\u3002"]}),"\n",(0,t.jsx)(n.h2,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,t.jsx)(n.h3,{id:"\u56de\u663e\u670d\u52a1\u5668",children:"\u56de\u663e\u670d\u52a1\u5668"}),"\n",(0,t.jsx)(n.p,{children:"\u4e00\u4e2a\u6f14\u793a\u8d44\u6e90\u3001\u5de5\u5177\u548c\u63d0\u793a\u7684\u7b80\u5355\u670d\u52a1\u5668\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from mcp.server.fastmcp import FastMCP\n\nmcp = FastMCP("Echo")\n\n@mcp.resource("echo://{message}")\ndef echo_resource(message: str) -> str:\n    """\u5c06\u6d88\u606f\u4f5c\u4e3a\u8d44\u6e90\u56de\u663e"""\n    return f"Resource echo: {message}"\n\n@mcp.tool()\ndef echo_tool(message: str) -> str:\n    """\u5c06\u6d88\u606f\u4f5c\u4e3a\u5de5\u5177\u56de\u663e"""\n    return f"Tool echo: {message}"\n\n@mcp.prompt()\ndef echo_prompt(message: str) -> str:\n    """\u521b\u5efa\u56de\u663e\u63d0\u793a"""\n    return f"Please process this message: {message}"\n'})}),"\n",(0,t.jsx)(n.h3,{id:"sqlite\u6d4f\u89c8\u5668",children:"SQLite\u6d4f\u89c8\u5668"}),"\n",(0,t.jsx)(n.p,{children:"\u4e00\u4e2a\u5c55\u793a\u6570\u636e\u5e93\u96c6\u6210\u7684\u66f4\u590d\u6742\u793a\u4f8b\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'import sqlite3\nfrom mcp.server.fastmcp import FastMCP\n\nmcp = FastMCP("SQLite Explorer")\n\n@mcp.resource("schema://main")\ndef get_schema() -> str:\n    """\u63d0\u4f9b\u6570\u636e\u5e93\u6a21\u5f0f\u4f5c\u4e3a\u8d44\u6e90"""\n    conn = sqlite3.connect("database.db")\n    schema = conn.execute("SELECT sql FROM sqlite_master WHERE type=\'table\'").fetchall()\n    return "\\n".join(sql[0] for sql in schema if sql[0])\n\n@mcp.tool()\ndef query_data(sql: str) -> str:\n    """\u5b89\u5168\u6267\u884cSQL\u67e5\u8be2"""\n    conn = sqlite3.connect("database.db")\n    try:\n        result = conn.execute(sql).fetchall()\n        return "\\n".join(str(row) for row in result)\n    except Exception as e:\n        return f"Error: {str(e)}"\n'})}),"\n",(0,t.jsx)(n.h2,{id:"\u9ad8\u7ea7\u7528\u6cd5",children:"\u9ad8\u7ea7\u7528\u6cd5"}),"\n",(0,t.jsx)(n.h3,{id:"\u4f4e\u7ea7\u670d\u52a1\u5668",children:"\u4f4e\u7ea7\u670d\u52a1\u5668"}),"\n",(0,t.jsx)(n.p,{children:"\u4e3a\u4e86\u83b7\u5f97\u66f4\u591a\u63a7\u5236\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u4f4e\u7ea7\u670d\u52a1\u5668\u5b9e\u73b0\u3002\u8fd9\u7ed9\u4f60\u63d0\u4f9b\u4e86\u5bf9\u534f\u8bae\u7684\u5b8c\u5168\u8bbf\u95ee\u6743\u9650\uff0c\u5e76\u5141\u8bb8\u4f60\u81ea\u5b9a\u4e49\u670d\u52a1\u5668\u7684\u6bcf\u4e2a\u65b9\u9762\uff0c\u5305\u62ec\u901a\u8fc7\u751f\u547d\u5468\u671fAPI\u8fdb\u884c\u751f\u547d\u5468\u671f\u7ba1\u7406\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from contextlib import asynccontextmanager\nfrom collections.abc import AsyncIterator\nfrom fake_database import Database  # \u66ff\u6362\u4e3a\u4f60\u5b9e\u9645\u7684\u6570\u636e\u5e93\u7c7b\u578b\nfrom mcp.server import Server\n\n@asynccontextmanager\nasync def server_lifespan(server: Server) -> AsyncIterator[dict]:\n    """\u7ba1\u7406\u670d\u52a1\u5668\u542f\u52a8\u548c\u5173\u95ed\u751f\u547d\u5468\u671f\u3002"""\n    # \u542f\u52a8\u65f6\u521d\u59cb\u5316\u8d44\u6e90\n    db = await Database.connect()\n    try:\n        yield {"db": db}\n    finally:\n        # \u5173\u95ed\u65f6\u6e05\u7406\n        await db.disconnect()\n\n# \u5c06\u751f\u547d\u5468\u671f\u4f20\u9012\u7ed9\u670d\u52a1\u5668\nserver = Server("example-server", lifespan=server_lifespan)\n\n# \u5728\u5904\u7406\u7a0b\u5e8f\u4e2d\u8bbf\u95ee\u751f\u547d\u5468\u671f\u4e0a\u4e0b\u6587\n@server.call_tool()\nasync def query_db(name: str, arguments: dict) -> list:\n    ctx = server.request_context\n    db = ctx.lifespan_context["db"]\n    return await db.query(arguments["query"])\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u751f\u547d\u5468\u671fAPI\u63d0\u4f9b\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u4e00\u79cd\u5728\u670d\u52a1\u5668\u542f\u52a8\u65f6\u521d\u59cb\u5316\u8d44\u6e90\u5e76\u5728\u505c\u6b62\u65f6\u6e05\u7406\u5b83\u4eec\u7684\u65b9\u6cd5"}),"\n",(0,t.jsx)(n.li,{children:"\u901a\u8fc7\u5904\u7406\u7a0b\u5e8f\u4e2d\u7684\u8bf7\u6c42\u4e0a\u4e0b\u6587\u8bbf\u95ee\u521d\u59cb\u5316\u7684\u8d44\u6e90"}),"\n",(0,t.jsx)(n.li,{children:"\u5728\u751f\u547d\u5468\u671f\u548c\u8bf7\u6c42\u5904\u7406\u7a0b\u5e8f\u4e4b\u95f4\u8fdb\u884c\u7c7b\u578b\u5b89\u5168\u7684\u4e0a\u4e0b\u6587\u4f20\u9012"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'import mcp.server.stdio\nimport mcp.types as types\nfrom mcp.server.lowlevel import NotificationOptions, Server\nfrom mcp.server.models import InitializationOptions\n\n# \u521b\u5efa\u670d\u52a1\u5668\u5b9e\u4f8b\nserver = Server("example-server")\n\n@server.list_prompts()\nasync def handle_list_prompts() -> list[types.Prompt]:\n    return [\n        types.Prompt(\n            name="example-prompt",\n            description="An example prompt template",\n            arguments=[\n                types.PromptArgument(\n                    name="arg1",\n                    description="Example argument",\n                    required=True\n                )\n            ],\n        )\n    ]\n\n@server.get_prompt()\nasync def handle_get_prompt(\n    name: str,\n    arguments: dict[str, str] | None\n) -> types.GetPromptResult:\n    if name != "example-prompt":\n        raise ValueError(f"Unknown prompt: {name}")\n    return types.GetPromptResult(\n        description="Example prompt",\n        messages=[\n            types.PromptMessage(\n                role="user",\n                content=types.TextContent(type="text", text="Example prompt text"),\n            )\n        ],\n    )\n\nasync def run():\n    async with mcp.server.stdio.stdio_server() as (read_stream, write_stream):\n        await server.run(\n            read_stream,\n            write_stream,\n            InitializationOptions(\n                server_name="example",\n                server_version="0.1.0",\n                capabilities=server.get_capabilities(\n                    notification_options=NotificationOptions(),\n                    experimental_capabilities={},\n                ),\n            ),\n        )\n\nif __name__ == "__main__":\n    import asyncio\n    asyncio.run(run())\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u7f16\u5199mcp\u5ba2\u6237\u7aef",children:"\u7f16\u5199MCP\u5ba2\u6237\u7aef"}),"\n",(0,t.jsx)(n.p,{children:"SDK\u63d0\u4f9b\u4e86\u4e00\u4e2a\u9ad8\u7ea7\u5ba2\u6237\u7aef\u63a5\u53e3\uff0c\u7528\u4e8e\u8fde\u63a5\u5230MCP\u670d\u52a1\u5668\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from mcp import ClientSession, StdioServerParameters, types\nfrom mcp.client.stdio import stdio_client\n\n# \u4e3astdio\u8fde\u63a5\u521b\u5efa\u670d\u52a1\u5668\u53c2\u6570\nserver_params = StdioServerParameters(\n    command="python",  # \u53ef\u6267\u884c\u6587\u4ef6\n    args=["example_server.py"],  # \u53ef\u9009\u547d\u4ee4\u884c\u53c2\u6570\n    env=None,  # \u53ef\u9009\u73af\u5883\u53d8\u91cf\n)\n\n# \u53ef\u9009\uff1a\u521b\u5efa\u91c7\u6837\u56de\u8c03\nasync def handle_sampling_message(\n    message: types.CreateMessageRequestParams,\n) -> types.CreateMessageResult:\n    return types.CreateMessageResult(\n        role="assistant",\n        content=types.TextContent(\n            type="text",\n            text="Hello, world! from model",\n        ),\n        model="gpt-3.5-turbo",\n        stopReason="endTurn",\n    )\n\nasync def run():\n    async with stdio_client(server_params) as (read, write):\n        async with ClientSession(\n            read,\n            write,\n            sampling_callback=handle_sampling_message\n        ) as session:\n            # \u521d\u59cb\u5316\u8fde\u63a5\n            await session.initialize()\n            \n            # \u5217\u51fa\u53ef\u7528\u63d0\u793a\n            prompts = await session.list_prompts()\n            \n            # \u83b7\u53d6\u63d0\u793a\n            prompt = await session.get_prompt(\n                "example-prompt",\n                arguments={"arg1": "value"}\n            )\n            \n            # \u5217\u51fa\u53ef\u7528\u8d44\u6e90\n            resources = await session.list_resources()\n            \n            # \u5217\u51fa\u53ef\u7528\u5de5\u5177\n            tools = await session.list_tools()\n            \n            # \u8bfb\u53d6\u8d44\u6e90\n            content, mime_type = await session.read_resource("file://some/path")\n            \n            # \u8c03\u7528\u5de5\u5177\n            result = await session.call_tool("tool-name", arguments={"arg1": "value"})\n\nif __name__ == "__main__":\n    import asyncio\n    asyncio.run(run())\n'})}),"\n",(0,t.jsx)(n.h3,{id:"mcp\u539f\u8bed",children:"MCP\u539f\u8bed"}),"\n",(0,t.jsx)(n.p,{children:"MCP\u534f\u8bae\u5b9a\u4e49\u4e86\u670d\u52a1\u5668\u53ef\u4ee5\u5b9e\u73b0\u7684\u4e09\u4e2a\u6838\u5fc3\u539f\u8bed\uff1a"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u539f\u8bed"}),(0,t.jsx)(n.th,{children:"\u63a7\u5236"}),(0,t.jsx)(n.th,{children:"\u63cf\u8ff0"}),(0,t.jsx)(n.th,{children:"\u4f7f\u7528\u793a\u4f8b"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u63d0\u793a"}),(0,t.jsx)(n.td,{children:"\u7528\u6237\u63a7\u5236"}),(0,t.jsx)(n.td,{children:"\u7531\u7528\u6237\u9009\u62e9\u8c03\u7528\u7684\u4ea4\u4e92\u6a21\u677f"}),(0,t.jsx)(n.td,{children:"\u659c\u6760\u547d\u4ee4\u3001\u83dc\u5355\u9009\u9879"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u8d44\u6e90"}),(0,t.jsx)(n.td,{children:"\u5e94\u7528\u7a0b\u5e8f\u63a7\u5236"}),(0,t.jsx)(n.td,{children:"\u7531\u5ba2\u6237\u7aef\u5e94\u7528\u7a0b\u5e8f\u7ba1\u7406\u7684\u4e0a\u4e0b\u6587\u6570\u636e"}),(0,t.jsx)(n.td,{children:"\u6587\u4ef6\u5185\u5bb9\u3001API\u54cd\u5e94"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"\u5de5\u5177"}),(0,t.jsx)(n.td,{children:"\u6a21\u578b\u63a7\u5236"}),(0,t.jsx)(n.td,{children:"\u516c\u5f00\u7ed9LLM\u4ee5\u91c7\u53d6\u884c\u52a8\u7684\u51fd\u6570"}),(0,t.jsx)(n.td,{children:"API\u8c03\u7528\u3001\u6570\u636e\u66f4\u65b0"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"\u670d\u52a1\u5668\u80fd\u529b",children:"\u670d\u52a1\u5668\u80fd\u529b"}),"\n",(0,t.jsx)(n.p,{children:"MCP\u670d\u52a1\u5668\u5728\u521d\u59cb\u5316\u671f\u95f4\u58f0\u660e\u80fd\u529b\uff1a"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"\u80fd\u529b"}),(0,t.jsx)(n.th,{children:"\u529f\u80fd\u6807\u5fd7"}),(0,t.jsx)(n.th,{children:"\u63cf\u8ff0"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"prompts"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"listChanged"})}),(0,t.jsx)(n.td,{children:"\u63d0\u793a\u6a21\u677f\u7ba1\u7406"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"resources"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"subscribe"}),(0,t.jsx)("br",{}),(0,t.jsx)(n.code,{children:"listChanged"})]}),(0,t.jsx)(n.td,{children:"\u8d44\u6e90\u516c\u5f00\u548c\u66f4\u65b0"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"tools"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"listChanged"})}),(0,t.jsx)(n.td,{children:"\u5de5\u5177\u53d1\u73b0\u548c\u6267\u884c"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"logging"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"\u670d\u52a1\u5668\u65e5\u5fd7\u914d\u7f6e"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"completion"})}),(0,t.jsx)(n.td,{children:"-"}),(0,t.jsx)(n.td,{children:"\u53c2\u6570\u5b8c\u6210\u5efa\u8bae"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"\u6587\u6863",children:"\u6587\u6863"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://modelcontextprotocol.io",children:"\u6a21\u578b\u4e0a\u4e0b\u6587\u534f\u8bae\u6587\u6863"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://spec.modelcontextprotocol.io",children:"\u6a21\u578b\u4e0a\u4e0b\u6587\u534f\u8bae\u89c4\u8303"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/modelcontextprotocol/servers",children:"\u5b98\u65b9\u652f\u6301\u7684\u670d\u52a1\u5668"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u8d21\u732e",children:"\u8d21\u732e"}),"\n",(0,t.jsxs)(n.p,{children:["\u6211\u4eec\u70ed\u8877\u4e8e\u652f\u6301\u5404\u79cd\u7ecf\u9a8c\u6c34\u5e73\u7684\u8d21\u732e\u8005\uff0c\u5e76\u5e0c\u671b\u770b\u5230\u4f60\u53c2\u4e0e\u5230\u9879\u76ee\u4e2d\u3002\u8bf7\u53c2\u9605",(0,t.jsx)(n.a,{href:"https://github.com/modelcontextprotocol/python-sdk/blob/main/CONTRIBUTING.md",children:"\u8d21\u732e\u6307\u5357"}),"\u5f00\u59cb\u3002"]}),"\n",(0,t.jsx)(n.h2,{id:"\u8bb8\u53ef\u8bc1",children:"\u8bb8\u53ef\u8bc1"}),"\n",(0,t.jsx)(n.p,{children:"\u672c\u9879\u76ee\u91c7\u7528MIT\u8bb8\u53ef\u8bc1 - \u8be6\u60c5\u8bf7\u53c2\u9605LICENSE\u6587\u4ef6\u3002"})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}}}]);