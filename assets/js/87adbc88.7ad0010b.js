"use strict";(self.webpackChunknotes_3=self.webpackChunknotes_3||[]).push([[5782],{48053:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>o,frontMatter:()=>r,metadata:()=>l,toc:()=>h});const l=JSON.parse('{"id":"Tools/Comfyui/VAEDecode\u8282\u70b9\u8be6\u7ec6\u5206\u6790","title":"VAEDecode \u8282\u70b9\u8be6\u7ec6\u5206\u6790","description":"\u6982\u8ff0","source":"@site/docs/Tools/Comfyui/VAEDecode\u8282\u70b9\u8be6\u7ec6\u5206\u6790.md","sourceDirName":"Tools/Comfyui","slug":"/Tools/Comfyui/VAEDecode\u8282\u70b9\u8be6\u7ec6\u5206\u6790","permalink":"/notes3/docs/Tools/Comfyui/VAEDecode\u8282\u70b9\u8be6\u7ec6\u5206\u6790","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Tools/Comfyui/VAEDecode\u8282\u70b9\u8be6\u7ec6\u5206\u6790.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tools","previous":{"title":"UNETLoader \u8282\u70b9\u8be6\u7ec6\u5206\u6790","permalink":"/notes3/docs/Tools/Comfyui/UNETLoader\u8282\u70b9\u8be6\u7ec6\u5206\u6790"},"next":{"title":"ComfyUI \u7aef\u53e3\u914d\u7f6e\u6307\u5357","permalink":"/notes3/docs/Tools/Comfyui/\u7aef\u53e3\u914d\u7f6e\u6307\u5357"}}');var d=s(23420),i=s(54213);const r={},c="VAEDecode \u8282\u70b9\u8be6\u7ec6\u5206\u6790",a={},h=[{value:"\u6982\u8ff0",id:"\u6982\u8ff0",level:2},{value:"\u8282\u70b9\u57fa\u672c\u4fe1\u606f",id:"\u8282\u70b9\u57fa\u672c\u4fe1\u606f",level:2},{value:"\u7c7b\u5b9a\u4e49",id:"\u7c7b\u5b9a\u4e49",level:3},{value:"\u663e\u793a\u540d\u79f0",id:"\u663e\u793a\u540d\u79f0",level:3},{value:"\u8f93\u5165\u8f93\u51fa\u89c4\u683c",id:"\u8f93\u5165\u8f93\u51fa\u89c4\u683c",level:2},{value:"\u8f93\u5165\u53c2\u6570\u8be6\u89e3",id:"\u8f93\u5165\u53c2\u6570\u8be6\u89e3",level:3},{value:"\u53c2\u6570\u8be6\u7ec6\u8bf4\u660e",id:"\u53c2\u6570\u8be6\u7ec6\u8bf4\u660e",level:4},{value:"\u8f93\u51fa\u7c7b\u578b",id:"\u8f93\u51fa\u7c7b\u578b",level:3},{value:"\u6838\u5fc3\u5b9e\u73b0\u5206\u6790",id:"\u6838\u5fc3\u5b9e\u73b0\u5206\u6790",level:2},{value:"\u4e3b\u8981\u6267\u884c\u51fd\u6570",id:"\u4e3b\u8981\u6267\u884c\u51fd\u6570",level:3},{value:"\u6267\u884c\u6d41\u7a0b\u56fe",id:"\u6267\u884c\u6d41\u7a0b\u56fe",level:3},{value:"VAE\u89e3\u7801\u6280\u672f\u8be6\u89e3",id:"vae\u89e3\u7801\u6280\u672f\u8be6\u89e3",level:2},{value:"1. \u6f5c\u5728\u7a7a\u95f4\u5230\u50cf\u7d20\u7a7a\u95f4\u7684\u8f6c\u6362",id:"1-\u6f5c\u5728\u7a7a\u95f4\u5230\u50cf\u7d20\u7a7a\u95f4\u7684\u8f6c\u6362",level:3},{value:"2. \u4e0d\u540c\u6a21\u578b\u7684\u89e3\u7801\u914d\u7f6e",id:"2-\u4e0d\u540c\u6a21\u578b\u7684\u89e3\u7801\u914d\u7f6e",level:3},{value:"\u6807\u51c6SD\u6a21\u578b\u89e3\u7801",id:"\u6807\u51c6sd\u6a21\u578b\u89e3\u7801",level:4},{value:"SDXL\u6a21\u578b\u89e3\u7801",id:"sdxl\u6a21\u578b\u89e3\u7801",level:4},{value:"SD3\u6a21\u578b\u89e3\u7801",id:"sd3\u6a21\u578b\u89e3\u7801",level:4},{value:"3. \u5185\u5b58\u7ba1\u7406\u548c\u6279\u5904\u7406",id:"3-\u5185\u5b58\u7ba1\u7406\u548c\u6279\u5904\u7406",level:3},{value:"\u4e13\u7528\u53d8\u4f53\u8282\u70b9",id:"\u4e13\u7528\u53d8\u4f53\u8282\u70b9",level:2},{value:"1. VAEDecodeTiled",id:"1-vaedecodetiled",level:3},{value:"2. VAEDecodeAudio",id:"2-vaedecodeaudio",level:3},{value:"3. VAEDecodeHunyuan3D",id:"3-vaedecodehunyuan3d",level:3},{value:"\u6027\u80fd\u4f18\u5316\u7279\u6027",id:"\u6027\u80fd\u4f18\u5316\u7279\u6027",level:2},{value:"1. \u81ea\u52a8\u5185\u5b58\u7ba1\u7406",id:"1-\u81ea\u52a8\u5185\u5b58\u7ba1\u7406",level:3},{value:"2. \u5206\u5757\u89e3\u7801\u7b56\u7565",id:"2-\u5206\u5757\u89e3\u7801\u7b56\u7565",level:3},{value:"3. \u6570\u636e\u7c7b\u578b\u4f18\u5316",id:"3-\u6570\u636e\u7c7b\u578b\u4f18\u5316",level:3},{value:"\u56fe\u50cf\u8d28\u91cf\u548c\u540e\u5904\u7406",id:"\u56fe\u50cf\u8d28\u91cf\u548c\u540e\u5904\u7406",level:2},{value:"1. \u8272\u5f69\u7a7a\u95f4\u5904\u7406",id:"1-\u8272\u5f69\u7a7a\u95f4\u5904\u7406",level:3},{value:"2. \u8d28\u91cf\u8bc4\u4f30\u6307\u6807",id:"2-\u8d28\u91cf\u8bc4\u4f30\u6307\u6807",level:3},{value:"3. \u5e38\u89c1\u8d28\u91cf\u95ee\u9898",id:"3-\u5e38\u89c1\u8d28\u91cf\u95ee\u9898",level:3},{value:"\u989c\u8272\u504f\u79fb",id:"\u989c\u8272\u504f\u79fb",level:4},{value:"\u5bf9\u6bd4\u5ea6\u95ee\u9898",id:"\u5bf9\u6bd4\u5ea6\u95ee\u9898",level:4},{value:"\u4f7f\u7528\u793a\u4f8b\u548c\u6700\u4f73\u5b9e\u8df5",id:"\u4f7f\u7528\u793a\u4f8b\u548c\u6700\u4f73\u5b9e\u8df5",level:2},{value:"\u57fa\u672c\u7528\u6cd5",id:"\u57fa\u672c\u7528\u6cd5",level:3},{value:"\u9ad8\u5206\u8fa8\u7387\u89e3\u7801",id:"\u9ad8\u5206\u8fa8\u7387\u89e3\u7801",level:3},{value:"\u6279\u91cf\u5904\u7406",id:"\u6279\u91cf\u5904\u7406",level:3},{value:"\u5e38\u89c1\u95ee\u9898\u548c\u89e3\u51b3\u65b9\u6848",id:"\u5e38\u89c1\u95ee\u9898\u548c\u89e3\u51b3\u65b9\u6848",level:2},{value:"1. \u5185\u5b58\u4e0d\u8db3\u9519\u8bef",id:"1-\u5185\u5b58\u4e0d\u8db3\u9519\u8bef",level:3},{value:"2. \u89e3\u7801\u8d28\u91cf\u5dee",id:"2-\u89e3\u7801\u8d28\u91cf\u5dee",level:3},{value:"3. \u989c\u8272\u5f02\u5e38",id:"3-\u989c\u8272\u5f02\u5e38",level:3},{value:"4. \u89e3\u7801\u901f\u5ea6\u6162",id:"4-\u89e3\u7801\u901f\u5ea6\u6162",level:3},{value:"\u4e0e\u5176\u4ed6\u8282\u70b9\u7684\u5173\u7cfb",id:"\u4e0e\u5176\u4ed6\u8282\u70b9\u7684\u5173\u7cfb",level:2},{value:"\u4e0a\u6e38\u4f9d\u8d56",id:"\u4e0a\u6e38\u4f9d\u8d56",level:3},{value:"\u4e0b\u6e38\u8fde\u63a5",id:"\u4e0b\u6e38\u8fde\u63a5",level:3},{value:"\u5de5\u4f5c\u6d41\u4f4d\u7f6e",id:"\u5de5\u4f5c\u6d41\u4f4d\u7f6e",level:3},{value:"\u9ad8\u7ea7\u5e94\u7528\u6280\u5de7",id:"\u9ad8\u7ea7\u5e94\u7528\u6280\u5de7",level:2},{value:"1. VAE\u6a21\u578b\u9009\u62e9\u7b56\u7565",id:"1-vae\u6a21\u578b\u9009\u62e9\u7b56\u7565",level:3},{value:"\u4e0d\u540cVAE\u7684\u7279\u70b9\u5bf9\u6bd4",id:"\u4e0d\u540cvae\u7684\u7279\u70b9\u5bf9\u6bd4",level:4},{value:"VAE\u9009\u62e9\u51b3\u7b56\u6811",id:"vae\u9009\u62e9\u51b3\u7b56\u6811",level:4},{value:"2. \u5185\u5b58\u4f18\u5316\u9ad8\u7ea7\u6280\u5de7",id:"2-\u5185\u5b58\u4f18\u5316\u9ad8\u7ea7\u6280\u5de7",level:3},{value:"\u52a8\u6001\u6279\u6b21\u8c03\u6574",id:"\u52a8\u6001\u6279\u6b21\u8c03\u6574",level:4},{value:"\u5185\u5b58\u788e\u7247\u6574\u7406",id:"\u5185\u5b58\u788e\u7247\u6574\u7406",level:4},{value:"3. \u8d28\u91cf\u4f18\u5316\u6280\u672f",id:"3-\u8d28\u91cf\u4f18\u5316\u6280\u672f",level:3},{value:"\u591a\u5c3a\u5ea6\u89e3\u7801",id:"\u591a\u5c3a\u5ea6\u89e3\u7801",level:4},{value:"\u540e\u5904\u7406\u589e\u5f3a",id:"\u540e\u5904\u7406\u589e\u5f3a",level:4},{value:"\u6027\u80fd\u57fa\u51c6\u6d4b\u8bd5",id:"\u6027\u80fd\u57fa\u51c6\u6d4b\u8bd5",level:2},{value:"\u4e0d\u540c\u914d\u7f6e\u7684\u6027\u80fd\u5bf9\u6bd4",id:"\u4e0d\u540c\u914d\u7f6e\u7684\u6027\u80fd\u5bf9\u6bd4",level:3},{value:"\u4f18\u5316\u5efa\u8bae\u77e9\u9635",id:"\u4f18\u5316\u5efa\u8bae\u77e9\u9635",level:3},{value:"\u8c03\u8bd5\u548c\u6545\u969c\u6392\u9664",id:"\u8c03\u8bd5\u548c\u6545\u969c\u6392\u9664",level:2},{value:"\u5e38\u89c1\u95ee\u9898\u8bca\u65ad\u6d41\u7a0b",id:"\u5e38\u89c1\u95ee\u9898\u8bca\u65ad\u6d41\u7a0b",level:3},{value:"\u8c03\u8bd5\u5de5\u5177",id:"\u8c03\u8bd5\u5de5\u5177",level:3},{value:"\u89e3\u7801\u8d28\u91cf\u5206\u6790",id:"\u89e3\u7801\u8d28\u91cf\u5206\u6790",level:4},{value:"\u6027\u80fd\u76d1\u63a7",id:"\u6027\u80fd\u76d1\u63a7",level:4},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2},{value:"\u76f8\u5173\u8d44\u6e90",id:"\u76f8\u5173\u8d44\u6e90",level:2}];function t(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"vaedecode-\u8282\u70b9\u8be6\u7ec6\u5206\u6790",children:"VAEDecode \u8282\u70b9\u8be6\u7ec6\u5206\u6790"})}),"\n",(0,d.jsx)(n.h2,{id:"\u6982\u8ff0",children:"\u6982\u8ff0"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"VAEDecode"})," \u662fComfyUI\u4e2d\u8d1f\u8d23\u5c06\u6f5c\u5728\u7a7a\u95f4\u56fe\u50cf\u8f6c\u6362\u56de\u50cf\u7d20\u7a7a\u95f4\u7684\u5173\u952e\u8282\u70b9\u3002\u5b83\u662f\u56fe\u50cf\u751f\u6210\u5de5\u4f5c\u6d41\u7684\u6700\u540e\u4e00\u6b65\uff0c\u5c06KSampler\u751f\u6210\u7684\u6f5c\u5728\u8868\u793a\u89e3\u7801\u4e3a\u4eba\u7c7b\u53ef\u89c1\u7684\u56fe\u50cf\u3002VAE\uff08\u53d8\u5206\u81ea\u7f16\u7801\u5668\uff09\u7684\u89e3\u7801\u5668\u90e8\u5206\u8d1f\u8d23\u8fd9\u4e00\u91cd\u8981\u7684\u8f6c\u6362\u8fc7\u7a0b\u3002"]}),"\n",(0,d.jsx)(n.h2,{id:"\u8282\u70b9\u57fa\u672c\u4fe1\u606f",children:"\u8282\u70b9\u57fa\u672c\u4fe1\u606f"}),"\n",(0,d.jsx)(n.h3,{id:"\u7c7b\u5b9a\u4e49",children:"\u7c7b\u5b9a\u4e49"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'class VAEDecode:\n    CATEGORY = "latent"\n    DESCRIPTION = "Decodes latent images back into pixel space images."\n    FUNCTION = "decode"\n    RETURN_TYPES = ("IMAGE",)\n'})}),"\n",(0,d.jsx)(n.h3,{id:"\u663e\u793a\u540d\u79f0",children:"\u663e\u793a\u540d\u79f0"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u5185\u90e8\u540d\u79f0"}),": ",(0,d.jsx)(n.code,{children:"VAEDecode"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u663e\u793a\u540d\u79f0"}),": ",(0,d.jsx)(n.code,{children:"VAE Decode"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u7c7b\u522b"}),": ",(0,d.jsx)(n.code,{children:"latent"})]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"\u8f93\u5165\u8f93\u51fa\u89c4\u683c",children:"\u8f93\u5165\u8f93\u51fa\u89c4\u683c"}),"\n",(0,d.jsx)(n.h3,{id:"\u8f93\u5165\u53c2\u6570\u8be6\u89e3",children:"\u8f93\u5165\u53c2\u6570\u8be6\u89e3"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'@classmethod\ndef INPUT_TYPES(s):\n    return {\n        "required": {\n            "samples": ("LATENT", {"tooltip": "The latent to be decoded."}),\n            "vae": ("VAE", {"tooltip": "The VAE model used for decoding the latent."})\n        }\n    }\n'})}),"\n",(0,d.jsx)(n.h4,{id:"\u53c2\u6570\u8be6\u7ec6\u8bf4\u660e",children:"\u53c2\u6570\u8be6\u7ec6\u8bf4\u660e"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"samples"})," (LATENT)"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u8981\u89e3\u7801\u7684\u6f5c\u5728\u56fe\u50cf"}),"\n",(0,d.jsxs)(n.li,{children:["\u683c\u5f0f\uff1a",(0,d.jsx)(n.code,{children:'{"samples": tensor}'})]}),"\n",(0,d.jsx)(n.li,{children:"\u6765\u6e90\uff1aKSampler\u3001EmptyLatentImage\u7b49\u8282\u70b9"}),"\n",(0,d.jsxs)(n.li,{children:["\u5f20\u91cf\u5f62\u72b6\uff1a",(0,d.jsx)(n.code,{children:"[batch_size, channels, height//8, width//8]"})]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"vae"})," (VAE)"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u7528\u4e8e\u89e3\u7801\u7684VAE\u6a21\u578b"}),"\n",(0,d.jsx)(n.li,{children:"\u6765\u6e90\uff1aCheckpointLoaderSimple\u3001VAELoader\u7b49\u8282\u70b9"}),"\n",(0,d.jsx)(n.li,{children:"\u5305\u542b\u89e3\u7801\u5668\u7f51\u7edc\u548c\u76f8\u5173\u914d\u7f6e"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"\u8f93\u51fa\u7c7b\u578b",children:"\u8f93\u51fa\u7c7b\u578b"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'RETURN_TYPES = ("IMAGE",)\nOUTPUT_TOOLTIPS = ("The decoded image.",)\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u8f93\u51fa\u8bf4\u660e"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"IMAGE"}),": \u89e3\u7801\u540e\u7684\u50cf\u7d20\u7a7a\u95f4\u56fe\u50cf\uff0c\u683c\u5f0f\u4e3a ",(0,d.jsx)(n.code,{children:"[batch_size, height, width, channels]"})]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"\u6838\u5fc3\u5b9e\u73b0\u5206\u6790",children:"\u6838\u5fc3\u5b9e\u73b0\u5206\u6790"}),"\n",(0,d.jsx)(n.h3,{id:"\u4e3b\u8981\u6267\u884c\u51fd\u6570",children:"\u4e3b\u8981\u6267\u884c\u51fd\u6570"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'def decode(self, vae, samples):\n    images = vae.decode(samples["samples"])\n    if len(images.shape) == 5: #Combine batches\n        images = images.reshape(-1, images.shape[-3], images.shape[-2], images.shape[-1])\n    return (images, )\n'})}),"\n",(0,d.jsx)(n.h3,{id:"\u6267\u884c\u6d41\u7a0b\u56fe",children:"\u6267\u884c\u6d41\u7a0b\u56fe"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-mermaid",children:'flowchart TD\n    A[\u63a5\u6536\u6f5c\u5728\u56fe\u50cf] --\x3e B[\u63d0\u53d6samples\u5f20\u91cf]\n    B --\x3e C[\u8c03\u7528VAE\u89e3\u7801]\n    C --\x3e D[\u5185\u5b58\u7ba1\u7406]\n    D --\x3e E[\u6279\u5904\u7406\u4f18\u5316]\n    E --\x3e F[\u8bbe\u5907\u4f20\u8f93]\n    F --\x3e G[\u89e3\u7801\u5668\u7f51\u7edc]\n    G --\x3e H[\u540e\u5904\u7406]\n    H --\x3e I[\u5f62\u72b6\u8c03\u6574]\n    I --\x3e J[\u8fd4\u56de\u56fe\u50cf]\n    \n    subgraph "VAE\u89e3\u7801\u8fc7\u7a0b"\n        C --\x3e C1[\u68c0\u67e5VAE\u6709\u6548\u6027]\n        C --\x3e C2[\u8ba1\u7b97\u5185\u5b58\u9700\u6c42]\n        C --\x3e C3[\u52a0\u8f7d\u6a21\u578b\u5230GPU]\n        C --\x3e C4[\u6279\u6b21\u5206\u5272]\n    end\n    \n    subgraph "\u89e3\u7801\u5668\u7f51\u7edc"\n        G --\x3e G1[\u4e0a\u91c7\u6837\u5c42]\n        G --\x3e G2[\u5377\u79ef\u5c42]\n        G --\x3e G3[\u6fc0\u6d3b\u51fd\u6570]\n        G --\x3e G4[\u5f52\u4e00\u5316\u5c42]\n    end\n    \n    subgraph "\u540e\u5904\u7406"\n        H --\x3e H1[\u6570\u636e\u7c7b\u578b\u8f6c\u6362]\n        H --\x3e H2[\u503c\u57df\u8c03\u6574]\n        H --\x3e H3[\u901a\u9053\u91cd\u6392]\n    end\n'})}),"\n",(0,d.jsx)(n.h2,{id:"vae\u89e3\u7801\u6280\u672f\u8be6\u89e3",children:"VAE\u89e3\u7801\u6280\u672f\u8be6\u89e3"}),"\n",(0,d.jsx)(n.h3,{id:"1-\u6f5c\u5728\u7a7a\u95f4\u5230\u50cf\u7d20\u7a7a\u95f4\u7684\u8f6c\u6362",children:"1. \u6f5c\u5728\u7a7a\u95f4\u5230\u50cf\u7d20\u7a7a\u95f4\u7684\u8f6c\u6362"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-mermaid",children:'graph LR\n    A[\u6f5c\u5728\u7a7a\u95f4<br/>64\xd764\xd74] --\x3e B[VAE\u89e3\u7801\u5668]\n    B --\x3e C[\u50cf\u7d20\u7a7a\u95f4<br/>512\xd7512\xd73]\n    \n    subgraph "\u89e3\u7801\u8fc7\u7a0b"\n        D[\u4e0a\u91c7\u6837 \xd72] --\x3e E[\u4e0a\u91c7\u6837 \xd72] --\x3e F[\u4e0a\u91c7\u6837 \xd72]\n        G[64\xd764] --\x3e H[128\xd7128] --\x3e I[256\xd7256] --\x3e J[512\xd7512]\n    end\n    \n    subgraph "\u901a\u9053\u53d8\u5316"\n        K[4\u901a\u9053] --\x3e L[\u4e2d\u95f4\u5c42] --\x3e M[3\u901a\u9053RGB]\n    end\n'})}),"\n",(0,d.jsx)(n.h3,{id:"2-\u4e0d\u540c\u6a21\u578b\u7684\u89e3\u7801\u914d\u7f6e",children:"2. \u4e0d\u540c\u6a21\u578b\u7684\u89e3\u7801\u914d\u7f6e"}),"\n",(0,d.jsx)(n.h4,{id:"\u6807\u51c6sd\u6a21\u578b\u89e3\u7801",children:"\u6807\u51c6SD\u6a21\u578b\u89e3\u7801"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"# SD 1.x/2.x \u89e3\u7801\u914d\u7f6e\nlatent_channels = 4      # \u6f5c\u5728\u7a7a\u95f4\u901a\u9053\u6570\noutput_channels = 3      # RGB\u8f93\u51fa\u901a\u9053\nupscale_ratio = 8        # 8\u500d\u4e0a\u91c7\u6837\ncompression = 8          # 8:1\u538b\u7f29\u6bd4\n"})}),"\n",(0,d.jsx)(n.h4,{id:"sdxl\u6a21\u578b\u89e3\u7801",children:"SDXL\u6a21\u578b\u89e3\u7801"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"# SDXL \u89e3\u7801\u914d\u7f6e\nlatent_channels = 4      # \u6f5c\u5728\u7a7a\u95f4\u901a\u9053\u6570\noutput_channels = 3      # RGB\u8f93\u51fa\u901a\u9053\nupscale_ratio = 8        # 8\u500d\u4e0a\u91c7\u6837\nhigher_resolution = True # \u652f\u6301\u66f4\u9ad8\u5206\u8fa8\u7387\n"})}),"\n",(0,d.jsx)(n.h4,{id:"sd3\u6a21\u578b\u89e3\u7801",children:"SD3\u6a21\u578b\u89e3\u7801"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"# SD3 \u89e3\u7801\u914d\u7f6e\nlatent_channels = 16     # \u66f4\u591a\u6f5c\u5728\u901a\u9053\noutput_channels = 3      # RGB\u8f93\u51fa\u901a\u9053\nupscale_ratio = 8        # 8\u500d\u4e0a\u91c7\u6837\nadvanced_architecture = True\n"})}),"\n",(0,d.jsx)(n.h3,{id:"3-\u5185\u5b58\u7ba1\u7406\u548c\u6279\u5904\u7406",children:"3. \u5185\u5b58\u7ba1\u7406\u548c\u6279\u5904\u7406"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def decode_with_memory_management(self, samples_in, vae_options={}):\n    # \u8ba1\u7b97\u5185\u5b58\u9700\u6c42\n    memory_used = self.memory_used_decode(samples_in.shape, self.vae_dtype)\n    \n    # \u52a0\u8f7d\u6a21\u578b\u5230GPU\n    model_management.load_models_gpu([self.patcher], memory_required=memory_used)\n    \n    # \u8ba1\u7b97\u6700\u4f18\u6279\u6b21\u5927\u5c0f\n    free_memory = model_management.get_free_memory(self.device)\n    batch_number = int(free_memory / memory_used)\n    batch_number = max(1, batch_number)\n    \n    # \u5206\u6279\u5904\u7406\n    pixel_samples = None\n    for x in range(0, samples_in.shape[0], batch_number):\n        samples = samples_in[x:x+batch_number].to(self.vae_dtype).to(self.device)\n        out = self.first_stage_model.decode(samples, **vae_options)\n        # \u7d2f\u79ef\u7ed3\u679c...\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u4e13\u7528\u53d8\u4f53\u8282\u70b9",children:"\u4e13\u7528\u53d8\u4f53\u8282\u70b9"}),"\n",(0,d.jsx)(n.h3,{id:"1-vaedecodetiled",children:"1. VAEDecodeTiled"}),"\n",(0,d.jsx)(n.p,{children:"\u7528\u4e8e\u5927\u56fe\u50cf\u6216\u5185\u5b58\u53d7\u9650\u7684\u89e3\u7801\uff1a"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'def decode(self, vae, samples, tile_size, overlap=64, temporal_size=64, temporal_overlap=8):\n    compression = vae.spacial_compression_decode()\n    images = vae.decode_tiled(\n        samples["samples"], \n        tile_x=tile_size // compression, \n        tile_y=tile_size // compression, \n        overlap=overlap // compression\n    )\n    return (images, )\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u7279\u70b9"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u5206\u5757\u89e3\u7801\uff0c\u51cf\u5c11\u5185\u5b58\u4f7f\u7528"}),"\n",(0,d.jsx)(n.li,{children:"\u652f\u6301\u91cd\u53e0\u533a\u57df\uff0c\u907f\u514d\u63a5\u7f1d"}),"\n",(0,d.jsx)(n.li,{children:"\u9002\u7528\u4e8e\u9ad8\u5206\u8fa8\u7387\u56fe\u50cf"}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"2-vaedecodeaudio",children:"2. VAEDecodeAudio"}),"\n",(0,d.jsx)(n.p,{children:"\u4e13\u4e3a\u97f3\u9891\u751f\u6210\u8bbe\u8ba1\uff1a"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'def decode(self, vae, samples):\n    audio = vae.decode(samples["samples"]).movedim(-1, 1)\n    std = torch.std(audio, dim=[1,2], keepdim=True) * 5.0\n    std[std < 1.0] = 1.0\n    audio /= std\n    return ({"waveform": audio, "sample_rate": 44100}, )\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u7279\u70b9"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u97f3\u9891\u6ce2\u5f62\u8f93\u51fa"}),"\n",(0,d.jsx)(n.li,{children:"\u81ea\u52a8\u97f3\u91cf\u5f52\u4e00\u5316"}),"\n",(0,d.jsx)(n.li,{children:"44.1kHz\u91c7\u6837\u7387"}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"3-vaedecodehunyuan3d",children:"3. VAEDecodeHunyuan3D"}),"\n",(0,d.jsx)(n.p,{children:"\u4e13\u4e3a3D\u751f\u6210\u8bbe\u8ba1\uff1a"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'def decode(self, vae, samples, num_chunks, octree_resolution):\n    voxels = VOXEL(vae.decode(\n        samples["samples"], \n        vae_options={\n            "num_chunks": num_chunks, \n            "octree_resolution": octree_resolution\n        }\n    ))\n    return (voxels, )\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u7279\u70b9"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"3D\u4f53\u7d20\u8f93\u51fa"}),"\n",(0,d.jsx)(n.li,{children:"\u516b\u53c9\u6811\u4f18\u5316"}),"\n",(0,d.jsx)(n.li,{children:"\u5206\u5757\u5904\u7406\u5927\u4f53\u79ef"}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"\u6027\u80fd\u4f18\u5316\u7279\u6027",children:"\u6027\u80fd\u4f18\u5316\u7279\u6027"}),"\n",(0,d.jsx)(n.h3,{id:"1-\u81ea\u52a8\u5185\u5b58\u7ba1\u7406",children:"1. \u81ea\u52a8\u5185\u5b58\u7ba1\u7406"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'class MemoryOptimizedDecoding:\n    def __init__(self):\n        self.memory_threshold = 0.8  # 80%\u5185\u5b58\u4f7f\u7528\u9608\u503c\n    \n    def calculate_optimal_batch_size(self, total_samples, available_memory):\n        single_sample_memory = self.estimate_decode_memory(1)\n        max_batch_size = int(available_memory * self.memory_threshold / single_sample_memory)\n        return min(max_batch_size, total_samples)\n    \n    def decode_with_fallback(self, samples):\n        try:\n            return self.decode_full(samples)\n        except torch.cuda.OutOfMemoryError:\n            logging.warning("OOM detected, falling back to tiled decoding")\n            return self.decode_tiled(samples)\n'})}),"\n",(0,d.jsx)(n.h3,{id:"2-\u5206\u5757\u89e3\u7801\u7b56\u7565",children:"2. \u5206\u5757\u89e3\u7801\u7b56\u7565"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-mermaid",children:'graph TD\n    A[\u5927\u56fe\u50cf\u89e3\u7801] --\x3e B{\u5185\u5b58\u8db3\u591f?}\n    B --\x3e|\u662f| C[\u76f4\u63a5\u89e3\u7801]\n    B --\x3e|\u5426| D[\u5206\u5757\u89e3\u7801]\n    \n    D --\x3e E[\u8ba1\u7b97\u5757\u5927\u5c0f]\n    E --\x3e F[\u5904\u7406\u91cd\u53e0\u533a\u57df]\n    F --\x3e G[\u9010\u5757\u89e3\u7801]\n    G --\x3e H[\u62fc\u63a5\u7ed3\u679c]\n    \n    subgraph "\u5206\u5757\u53c2\u6570"\n        I[tile_size: 512-2048]\n        J[overlap: 32-128]\n        K[\u81ea\u9002\u5e94\u8c03\u6574]\n    end\n'})}),"\n",(0,d.jsx)(n.h3,{id:"3-\u6570\u636e\u7c7b\u578b\u4f18\u5316",children:"3. \u6570\u636e\u7c7b\u578b\u4f18\u5316"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'# \u7cbe\u5ea6\u4f18\u5316\u7b56\u7565\ndef optimize_decode_precision(self, samples, target_quality="balanced"):\n    if target_quality == "speed":\n        # \u4f7f\u7528FP16\u52a0\u901f\n        return self.decode_fp16(samples)\n    elif target_quality == "quality":\n        # \u4f7f\u7528FP32\u4fdd\u8bc1\u8d28\u91cf\n        return self.decode_fp32(samples)\n    else:\n        # \u81ea\u52a8\u9009\u62e9\n        if self.gpu_memory > 8:\n            return self.decode_fp32(samples)\n        else:\n            return self.decode_fp16(samples)\n'})}),"\n",(0,d.jsx)(n.h2,{id:"\u56fe\u50cf\u8d28\u91cf\u548c\u540e\u5904\u7406",children:"\u56fe\u50cf\u8d28\u91cf\u548c\u540e\u5904\u7406"}),"\n",(0,d.jsx)(n.h3,{id:"1-\u8272\u5f69\u7a7a\u95f4\u5904\u7406",children:"1. \u8272\u5f69\u7a7a\u95f4\u5904\u7406"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def process_output(self, images):\n    # \u503c\u57df\u8c03\u6574\uff1a[-1, 1] -> [0, 1]\n    images = (images + 1.0) / 2.0\n    \n    # \u88c1\u526a\u5230\u6709\u6548\u8303\u56f4\n    images = torch.clamp(images, 0.0, 1.0)\n    \n    # \u901a\u9053\u987a\u5e8f\u8c03\u6574\uff1aCHW -> HWC\n    if images.dim() == 4:  # [B, C, H, W]\n        images = images.permute(0, 2, 3, 1)\n    \n    return images\n"})}),"\n",(0,d.jsx)(n.h3,{id:"2-\u8d28\u91cf\u8bc4\u4f30\u6307\u6807",children:"2. \u8d28\u91cf\u8bc4\u4f30\u6307\u6807"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u6307\u6807"}),(0,d.jsx)(n.th,{children:"\u8bf4\u660e"}),(0,d.jsx)(n.th,{children:"\u6b63\u5e38\u8303\u56f4"}),(0,d.jsx)(n.th,{children:"\u4f18\u5316\u5efa\u8bae"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"PSNR"})}),(0,d.jsx)(n.td,{children:"\u5cf0\u503c\u4fe1\u566a\u6bd4"}),(0,d.jsx)(n.td,{children:">25dB"}),(0,d.jsx)(n.td,{children:"\u63d0\u9ad8VAE\u8d28\u91cf"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"SSIM"})}),(0,d.jsx)(n.td,{children:"\u7ed3\u6784\u76f8\u4f3c\u6027"}),(0,d.jsx)(n.td,{children:">0.8"}),(0,d.jsx)(n.td,{children:"\u4f18\u5316\u89e3\u7801\u5668\u67b6\u6784"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"LPIPS"})}),(0,d.jsx)(n.td,{children:"\u611f\u77e5\u8ddd\u79bb"}),(0,d.jsx)(n.td,{children:"<0.3"}),(0,d.jsx)(n.td,{children:"\u4f7f\u7528\u611f\u77e5\u635f\u5931\u8bad\u7ec3"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"FID"})}),(0,d.jsx)(n.td,{children:"Fr\xe9chet\u8ddd\u79bb"}),(0,d.jsx)(n.td,{children:"<50"}),(0,d.jsx)(n.td,{children:"\u6539\u8fdb\u751f\u6210\u8d28\u91cf"})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"3-\u5e38\u89c1\u8d28\u91cf\u95ee\u9898",children:"3. \u5e38\u89c1\u8d28\u91cf\u95ee\u9898"}),"\n",(0,d.jsx)(n.h4,{id:"\u989c\u8272\u504f\u79fb",children:"\u989c\u8272\u504f\u79fb"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def fix_color_shift(self, images):\n    # \u68c0\u6d4b\u5e76\u4fee\u6b63\u989c\u8272\u504f\u79fb\n    mean_color = torch.mean(images, dim=[1, 2], keepdim=True)\n    target_mean = torch.tensor([0.5, 0.5, 0.5]).to(images.device)\n    color_correction = target_mean - mean_color\n    return images + color_correction * 0.1  # \u8f7b\u5fae\u4fee\u6b63\n"})}),"\n",(0,d.jsx)(n.h4,{id:"\u5bf9\u6bd4\u5ea6\u95ee\u9898",children:"\u5bf9\u6bd4\u5ea6\u95ee\u9898"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def enhance_contrast(self, images, factor=1.1):\n    # \u81ea\u9002\u5e94\u5bf9\u6bd4\u5ea6\u589e\u5f3a\n    mean = torch.mean(images, dim=[1, 2, 3], keepdim=True)\n    return (images - mean) * factor + mean\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u4f7f\u7528\u793a\u4f8b\u548c\u6700\u4f73\u5b9e\u8df5",children:"\u4f7f\u7528\u793a\u4f8b\u548c\u6700\u4f73\u5b9e\u8df5"}),"\n",(0,d.jsx)(n.h3,{id:"\u57fa\u672c\u7528\u6cd5",children:"\u57fa\u672c\u7528\u6cd5"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n    "vae_decode": {\n        "inputs": {\n            "samples": ["ksampler", 0],\n            "vae": ["checkpoint_loader", 2]\n        },\n        "class_type": "VAEDecode"\n    }\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"\u9ad8\u5206\u8fa8\u7387\u89e3\u7801",children:"\u9ad8\u5206\u8fa8\u7387\u89e3\u7801"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n    "vae_decode_tiled": {\n        "inputs": {\n            "samples": ["ksampler", 0],\n            "vae": ["checkpoint_loader", 2],\n            "tile_size": 1024,\n            "overlap": 128\n        },\n        "class_type": "VAEDecodeTiled"\n    }\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"\u6279\u91cf\u5904\u7406",children:"\u6279\u91cf\u5904\u7406"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n    "batch_decode": {\n        "inputs": {\n            "samples": ["batch_latents", 0],\n            "vae": ["vae_loader", 0]\n        },\n        "class_type": "VAEDecode"\n    }\n}\n'})}),"\n",(0,d.jsx)(n.h2,{id:"\u5e38\u89c1\u95ee\u9898\u548c\u89e3\u51b3\u65b9\u6848",children:"\u5e38\u89c1\u95ee\u9898\u548c\u89e3\u51b3\u65b9\u6848"}),"\n",(0,d.jsx)(n.h3,{id:"1-\u5185\u5b58\u4e0d\u8db3\u9519\u8bef",children:"1. \u5185\u5b58\u4e0d\u8db3\u9519\u8bef"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"CUDA out of memory during VAE decode\n"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u89e3\u51b3\u65b9\u6848"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u4f7f\u7528VAEDecodeTiled\u8282\u70b9"}),"\n",(0,d.jsx)(n.li,{children:"\u51cf\u5c0ftile_size\u53c2\u6570"}),"\n",(0,d.jsxs)(n.li,{children:["\u542f\u7528",(0,d.jsx)(n.code,{children:"--lowvram"}),"\u6a21\u5f0f"]}),"\n",(0,d.jsx)(n.li,{children:"\u51cf\u5c11\u6279\u6b21\u5927\u5c0f"}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"2-\u89e3\u7801\u8d28\u91cf\u5dee",children:"2. \u89e3\u7801\u8d28\u91cf\u5dee"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u95ee\u9898"}),": \u56fe\u50cf\u6a21\u7cca\u6216\u6709\u4f2a\u5f71\n",(0,d.jsx)(n.strong,{children:"\u89e3\u51b3\u65b9\u6848"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u68c0\u67e5VAE\u6a21\u578b\u8d28\u91cf"}),"\n",(0,d.jsx)(n.li,{children:"\u4f7f\u7528\u66f4\u9ad8\u8d28\u91cf\u7684VAE"}),"\n",(0,d.jsx)(n.li,{children:"\u8c03\u6574\u89e3\u7801\u53c2\u6570"}),"\n",(0,d.jsx)(n.li,{children:"\u9a8c\u8bc1\u6f5c\u5728\u56fe\u50cf\u8d28\u91cf"}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"3-\u989c\u8272\u5f02\u5e38",children:"3. \u989c\u8272\u5f02\u5e38"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u95ee\u9898"}),": \u989c\u8272\u504f\u79fb\u6216\u9971\u548c\u5ea6\u95ee\u9898\n",(0,d.jsx)(n.strong,{children:"\u89e3\u51b3\u65b9\u6848"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u68c0\u67e5VAE\u6a21\u578b\u517c\u5bb9\u6027"}),"\n",(0,d.jsx)(n.li,{children:"\u9a8c\u8bc1\u6f5c\u5728\u7a7a\u95f4\u8303\u56f4"}),"\n",(0,d.jsx)(n.li,{children:"\u4f7f\u7528\u6b63\u786e\u7684\u540e\u5904\u7406"}),"\n",(0,d.jsx)(n.li,{children:"\u8003\u8651\u8272\u5f69\u7a7a\u95f4\u8f6c\u6362"}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"4-\u89e3\u7801\u901f\u5ea6\u6162",children:"4. \u89e3\u7801\u901f\u5ea6\u6162"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u95ee\u9898"}),": \u89e3\u7801\u65f6\u95f4\u8fc7\u957f\n",(0,d.jsx)(n.strong,{children:"\u89e3\u51b3\u65b9\u6848"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u542f\u7528GPU\u52a0\u901f"}),"\n",(0,d.jsx)(n.li,{children:"\u4f7f\u7528FP16\u7cbe\u5ea6"}),"\n",(0,d.jsx)(n.li,{children:"\u4f18\u5316\u6279\u6b21\u5927\u5c0f"}),"\n",(0,d.jsx)(n.li,{children:"\u8003\u8651\u4f7f\u7528TAESD\u5feb\u901f\u89e3\u7801\u5668"}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"\u4e0e\u5176\u4ed6\u8282\u70b9\u7684\u5173\u7cfb",children:"\u4e0e\u5176\u4ed6\u8282\u70b9\u7684\u5173\u7cfb"}),"\n",(0,d.jsx)(n.h3,{id:"\u4e0a\u6e38\u4f9d\u8d56",children:"\u4e0a\u6e38\u4f9d\u8d56"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"KSampler"}),": \u63d0\u4f9b\u89e3\u7801\u7684\u6f5c\u5728\u56fe\u50cf"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"CheckpointLoaderSimple"}),": \u63d0\u4f9bVAE\u6a21\u578b"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"VAELoader"}),": \u72ec\u7acb\u52a0\u8f7dVAE\u6a21\u578b"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"LatentUpscale"}),": \u653e\u5927\u540e\u7684\u6f5c\u5728\u56fe\u50cf"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"\u4e0b\u6e38\u8fde\u63a5",children:"\u4e0b\u6e38\u8fde\u63a5"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"SaveImage"}),": \u4fdd\u5b58\u89e3\u7801\u540e\u7684\u56fe\u50cf"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"PreviewImage"}),": \u9884\u89c8\u89e3\u7801\u7ed3\u679c"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"ImageScale"}),": \u8c03\u6574\u56fe\u50cf\u5c3a\u5bf8"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"ImageBatch"}),": \u6279\u91cf\u5904\u7406\u56fe\u50cf"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"\u5de5\u4f5c\u6d41\u4f4d\u7f6e",children:"\u5de5\u4f5c\u6d41\u4f4d\u7f6e"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-mermaid",children:'graph LR\n    A[KSampler] --\x3e B[VAEDecode]\n    C[CheckpointLoaderSimple] --\x3e B\n    B --\x3e D[SaveImage]\n    B --\x3e E[PreviewImage]\n    \n    subgraph "\u5b8c\u6574\u6587\u751f\u56fe\u6d41\u7a0b"\n        F[EmptyLatentImage] --\x3e A\n        G[CLIPTextEncode] --\x3e A\n        H[CheckpointLoaderSimple] --\x3e A\n        A --\x3e B\n        B --\x3e D\n    end\n'})}),"\n",(0,d.jsx)(n.h2,{id:"\u9ad8\u7ea7\u5e94\u7528\u6280\u5de7",children:"\u9ad8\u7ea7\u5e94\u7528\u6280\u5de7"}),"\n",(0,d.jsx)(n.h3,{id:"1-vae\u6a21\u578b\u9009\u62e9\u7b56\u7565",children:"1. VAE\u6a21\u578b\u9009\u62e9\u7b56\u7565"}),"\n",(0,d.jsx)(n.h4,{id:"\u4e0d\u540cvae\u7684\u7279\u70b9\u5bf9\u6bd4",children:"\u4e0d\u540cVAE\u7684\u7279\u70b9\u5bf9\u6bd4"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"VAE\u6a21\u578b"}),(0,d.jsx)(n.th,{children:"\u7279\u70b9"}),(0,d.jsx)(n.th,{children:"\u9002\u7528\u573a\u666f"}),(0,d.jsx)(n.th,{children:"\u8d28\u91cf\u8bc4\u5206"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"\u539f\u7248VAE"})}),(0,d.jsx)(n.td,{children:"\u6807\u51c6\u8d28\u91cf\uff0c\u901a\u7528\u6027\u597d"}),(0,d.jsx)(n.td,{children:"\u65e5\u5e38\u4f7f\u7528"}),(0,d.jsx)(n.td,{children:"7/10"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"MSE VAE"})}),(0,d.jsx)(n.td,{children:"\u66f4\u9510\u5229\uff0c\u7ec6\u8282\u4e30\u5bcc"}),(0,d.jsx)(n.td,{children:"\u9700\u8981\u6e05\u6670\u7ec6\u8282"}),(0,d.jsx)(n.td,{children:"8/10"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"EMA VAE"})}),(0,d.jsx)(n.td,{children:"\u8272\u5f69\u51c6\u786e\uff0c\u5e73\u6ed1"}),(0,d.jsx)(n.td,{children:"\u4eba\u50cf\u6444\u5f71"}),(0,d.jsx)(n.td,{children:"8.5/10"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"TAESD"})}),(0,d.jsx)(n.td,{children:"\u6781\u901f\u89e3\u7801\uff0c\u8d28\u91cf\u8f83\u4f4e"}),(0,d.jsx)(n.td,{children:"\u5feb\u901f\u9884\u89c8"}),(0,d.jsx)(n.td,{children:"6/10"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"\u81ea\u5b9a\u4e49VAE"})}),(0,d.jsx)(n.td,{children:"\u7279\u5b9a\u98ce\u683c\u4f18\u5316"}),(0,d.jsx)(n.td,{children:"\u7279\u6b8a\u9700\u6c42"}),(0,d.jsx)(n.td,{children:"\u53d8\u5316"})]})]})]}),"\n",(0,d.jsx)(n.h4,{id:"vae\u9009\u62e9\u51b3\u7b56\u6811",children:"VAE\u9009\u62e9\u51b3\u7b56\u6811"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-mermaid",children:"flowchart TD\n    A[\u9009\u62e9VAE\u6a21\u578b] --\x3e B{\u4e3b\u8981\u9700\u6c42?}\n\n    B --\x3e|\u901f\u5ea6\u4f18\u5148| C[TAESD]\n    B --\x3e|\u8d28\u91cf\u4f18\u5148| D{\u56fe\u50cf\u7c7b\u578b?}\n    B --\x3e|\u5e73\u8861| E[\u539f\u7248VAE]\n\n    D --\x3e|\u4eba\u50cf| F[EMA VAE]\n    D --\x3e|\u98ce\u666f| G[MSE VAE]\n    D --\x3e|\u52a8\u6f2b| H[\u7279\u5b9aVAE]\n\n    C --\x3e I[\u5feb\u901f\u9884\u89c8]\n    E --\x3e J[\u901a\u7528\u751f\u6210]\n    F --\x3e K[\u4eba\u50cf\u6444\u5f71]\n    G --\x3e L[\u98ce\u666f\u6444\u5f71]\n    H --\x3e M[\u98ce\u683c\u5316\u4f5c\u54c1]\n"})}),"\n",(0,d.jsx)(n.h3,{id:"2-\u5185\u5b58\u4f18\u5316\u9ad8\u7ea7\u6280\u5de7",children:"2. \u5185\u5b58\u4f18\u5316\u9ad8\u7ea7\u6280\u5de7"}),"\n",(0,d.jsx)(n.h4,{id:"\u52a8\u6001\u6279\u6b21\u8c03\u6574",children:"\u52a8\u6001\u6279\u6b21\u8c03\u6574"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'class AdaptiveBatchDecoder:\n    def __init__(self, initial_batch_size=4):\n        self.current_batch_size = initial_batch_size\n        self.success_count = 0\n        self.failure_count = 0\n\n    def decode_adaptive(self, vae, samples):\n        while self.current_batch_size > 0:\n            try:\n                # \u5c1d\u8bd5\u5f53\u524d\u6279\u6b21\u5927\u5c0f\n                result = self.decode_batch(vae, samples, self.current_batch_size)\n                self.success_count += 1\n\n                # \u6210\u529f\u540e\u5c1d\u8bd5\u589e\u52a0\u6279\u6b21\u5927\u5c0f\n                if self.success_count > 3:\n                    self.current_batch_size = min(self.current_batch_size + 1, 8)\n                    self.success_count = 0\n\n                return result\n\n            except torch.cuda.OutOfMemoryError:\n                self.failure_count += 1\n                self.current_batch_size = max(1, self.current_batch_size - 1)\n\n                if self.current_batch_size == 0:\n                    raise RuntimeError("\u65e0\u6cd5\u627e\u5230\u53ef\u7528\u7684\u6279\u6b21\u5927\u5c0f")\n'})}),"\n",(0,d.jsx)(n.h4,{id:"\u5185\u5b58\u788e\u7247\u6574\u7406",children:"\u5185\u5b58\u788e\u7247\u6574\u7406"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'def defragment_gpu_memory():\n    """GPU\u5185\u5b58\u788e\u7247\u6574\u7406"""\n    if torch.cuda.is_available():\n        torch.cuda.empty_cache()\n        torch.cuda.synchronize()\n\n        # \u5f3a\u5236\u5783\u573e\u56de\u6536\n        import gc\n        gc.collect()\n\n        # \u91cd\u65b0\u5206\u914d\u8fde\u7eed\u5185\u5b58\u5757\n        dummy = torch.zeros(1, device=\'cuda\')\n        del dummy\n        torch.cuda.empty_cache()\n'})}),"\n",(0,d.jsx)(n.h3,{id:"3-\u8d28\u91cf\u4f18\u5316\u6280\u672f",children:"3. \u8d28\u91cf\u4f18\u5316\u6280\u672f"}),"\n",(0,d.jsx)(n.h4,{id:"\u591a\u5c3a\u5ea6\u89e3\u7801",children:"\u591a\u5c3a\u5ea6\u89e3\u7801"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'def multi_scale_decode(vae, samples, scales=[0.5, 1.0, 1.5]):\n    """\u591a\u5c3a\u5ea6\u89e3\u7801\u63d0\u5347\u8d28\u91cf"""\n    results = []\n\n    for scale in scales:\n        if scale != 1.0:\n            # \u7f29\u653e\u6f5c\u5728\u56fe\u50cf\n            scaled_samples = F.interpolate(\n                samples,\n                scale_factor=scale,\n                mode=\'bilinear\',\n                align_corners=False\n            )\n        else:\n            scaled_samples = samples\n\n        # \u89e3\u7801\n        decoded = vae.decode(scaled_samples)\n\n        # \u8c03\u6574\u56de\u539f\u59cb\u5c3a\u5bf8\n        if scale != 1.0:\n            decoded = F.interpolate(\n                decoded,\n                size=results[1].shape[-2:] if results else None,\n                mode=\'bilinear\',\n                align_corners=False\n            )\n\n        results.append(decoded)\n\n    # \u878d\u5408\u591a\u5c3a\u5ea6\u7ed3\u679c\n    return blend_multi_scale_results(results)\n'})}),"\n",(0,d.jsx)(n.h4,{id:"\u540e\u5904\u7406\u589e\u5f3a",children:"\u540e\u5904\u7406\u589e\u5f3a"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'def enhance_decoded_image(image, enhancement_type="balanced"):\n    """\u89e3\u7801\u540e\u56fe\u50cf\u589e\u5f3a"""\n    if enhancement_type == "sharpening":\n        # \u9510\u5316\u5904\u7406\n        kernel = torch.tensor([[-1, -1, -1], [-1, 9, -1], [-1, -1, -1]],\n                             dtype=torch.float32).unsqueeze(0).unsqueeze(0)\n        kernel = kernel.repeat(3, 1, 1, 1).to(image.device)\n\n        image_padded = F.pad(image.permute(0, 3, 1, 2), (1, 1, 1, 1), mode=\'reflect\')\n        sharpened = F.conv2d(image_padded, kernel, groups=3)\n        return sharpened.permute(0, 2, 3, 1)\n\n    elif enhancement_type == "contrast":\n        # \u5bf9\u6bd4\u5ea6\u589e\u5f3a\n        mean = torch.mean(image, dim=[1, 2], keepdim=True)\n        return torch.clamp((image - mean) * 1.2 + mean, 0, 1)\n\n    elif enhancement_type == "color":\n        # \u8272\u5f69\u589e\u5f3a\n        hsv = rgb_to_hsv(image)\n        hsv[..., 1] *= 1.1  # \u589e\u52a0\u9971\u548c\u5ea6\n        return hsv_to_rgb(hsv)\n\n    return image\n'})}),"\n",(0,d.jsx)(n.h2,{id:"\u6027\u80fd\u57fa\u51c6\u6d4b\u8bd5",children:"\u6027\u80fd\u57fa\u51c6\u6d4b\u8bd5"}),"\n",(0,d.jsx)(n.h3,{id:"\u4e0d\u540c\u914d\u7f6e\u7684\u6027\u80fd\u5bf9\u6bd4",children:"\u4e0d\u540c\u914d\u7f6e\u7684\u6027\u80fd\u5bf9\u6bd4"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u914d\u7f6e"}),(0,d.jsx)(n.th,{children:"\u5206\u8fa8\u7387"}),(0,d.jsx)(n.th,{children:"\u6279\u6b21"}),(0,d.jsx)(n.th,{children:"\u89e3\u7801\u65f6\u95f4(s)"}),(0,d.jsx)(n.th,{children:"\u5185\u5b58\u4f7f\u7528(GB)"}),(0,d.jsx)(n.th,{children:"\u8d28\u91cf\u8bc4\u5206"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"\u6807\u51c6"})}),(0,d.jsx)(n.td,{children:"512\xd7512"}),(0,d.jsx)(n.td,{children:"1"}),(0,d.jsx)(n.td,{children:"0.8"}),(0,d.jsx)(n.td,{children:"2.1"}),(0,d.jsx)(n.td,{children:"8.0/10"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"\u6807\u51c6"})}),(0,d.jsx)(n.td,{children:"1024\xd71024"}),(0,d.jsx)(n.td,{children:"1"}),(0,d.jsx)(n.td,{children:"2.3"}),(0,d.jsx)(n.td,{children:"4.8"}),(0,d.jsx)(n.td,{children:"8.5/10"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"\u5206\u5757"})}),(0,d.jsx)(n.td,{children:"2048\xd72048"}),(0,d.jsx)(n.td,{children:"1"}),(0,d.jsx)(n.td,{children:"8.5"}),(0,d.jsx)(n.td,{children:"3.2"}),(0,d.jsx)(n.td,{children:"8.3/10"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"\u6279\u91cf"})}),(0,d.jsx)(n.td,{children:"512\xd7512"}),(0,d.jsx)(n.td,{children:"4"}),(0,d.jsx)(n.td,{children:"2.1"}),(0,d.jsx)(n.td,{children:"6.8"}),(0,d.jsx)(n.td,{children:"8.0/10"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"TAESD"})}),(0,d.jsx)(n.td,{children:"512\xd7512"}),(0,d.jsx)(n.td,{children:"1"}),(0,d.jsx)(n.td,{children:"0.1"}),(0,d.jsx)(n.td,{children:"0.8"}),(0,d.jsx)(n.td,{children:"6.5/10"})]})]})]}),"\n",(0,d.jsx)(n.p,{children:"*\u57fa\u4e8eRTX 4090, PyTorch 2.0\u6d4b\u8bd5"}),"\n",(0,d.jsx)(n.h3,{id:"\u4f18\u5316\u5efa\u8bae\u77e9\u9635",children:"\u4f18\u5316\u5efa\u8bae\u77e9\u9635"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-mermaid",children:"graph TD\n    A[\u6027\u80fd\u9700\u6c42] --\x3e B{\u4e3b\u8981\u74f6\u9888?}\n\n    B --\x3e|\u5185\u5b58\u4e0d\u8db3| C[\u5185\u5b58\u4f18\u5316]\n    B --\x3e|\u901f\u5ea6\u6162| D[\u901f\u5ea6\u4f18\u5316]\n    B --\x3e|\u8d28\u91cf\u5dee| E[\u8d28\u91cf\u4f18\u5316]\n\n    C --\x3e C1[\u4f7f\u7528\u5206\u5757\u89e3\u7801]\n    C --\x3e C2[\u51cf\u5c11\u6279\u6b21\u5927\u5c0f]\n    C --\x3e C3[\u542f\u7528lowvram\u6a21\u5f0f]\n\n    D --\x3e D1[\u4f7f\u7528TAESD]\n    D --\x3e D2[\u542f\u7528FP16]\n    D --\x3e D3[\u4f18\u5316\u6279\u6b21\u5927\u5c0f]\n\n    E --\x3e E1[\u4f7f\u7528\u9ad8\u8d28\u91cfVAE]\n    E --\x3e E2[\u540e\u5904\u7406\u589e\u5f3a]\n    E --\x3e E3[\u591a\u5c3a\u5ea6\u89e3\u7801]\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u8c03\u8bd5\u548c\u6545\u969c\u6392\u9664",children:"\u8c03\u8bd5\u548c\u6545\u969c\u6392\u9664"}),"\n",(0,d.jsx)(n.h3,{id:"\u5e38\u89c1\u95ee\u9898\u8bca\u65ad\u6d41\u7a0b",children:"\u5e38\u89c1\u95ee\u9898\u8bca\u65ad\u6d41\u7a0b"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-mermaid",children:"flowchart TD\n    A[VAEDecode\u95ee\u9898] --\x3e B{\u95ee\u9898\u7c7b\u578b?}\n\n    B --\x3e|\u89e3\u7801\u5931\u8d25| C[\u68c0\u67e5\u8f93\u5165\u683c\u5f0f]\n    B --\x3e|\u5185\u5b58\u9519\u8bef| D[\u5185\u5b58\u4f18\u5316]\n    B --\x3e|\u8d28\u91cf\u95ee\u9898| E[\u8d28\u91cf\u8bca\u65ad]\n    B --\x3e|\u901f\u5ea6\u95ee\u9898| F[\u6027\u80fd\u4f18\u5316]\n\n    C --\x3e C1[\u9a8c\u8bc1LATENT\u683c\u5f0f]\n    C --\x3e C2[\u68c0\u67e5VAE\u517c\u5bb9\u6027]\n    C --\x3e C3[\u786e\u8ba4\u5f20\u91cf\u5f62\u72b6]\n\n    D --\x3e D1[\u76d1\u63a7\u5185\u5b58\u4f7f\u7528]\n    D --\x3e D2[\u8c03\u6574\u6279\u6b21\u5927\u5c0f]\n    D --\x3e D3[\u4f7f\u7528\u5206\u5757\u89e3\u7801]\n\n    E --\x3e E1[\u68c0\u67e5VAE\u8d28\u91cf]\n    E --\x3e E2[\u9a8c\u8bc1\u6f5c\u5728\u56fe\u50cf]\n    E --\x3e E3[\u8c03\u6574\u540e\u5904\u7406]\n\n    F --\x3e F1[GPU\u5229\u7528\u7387\u68c0\u67e5]\n    F --\x3e F2[\u6570\u636e\u4f20\u8f93\u4f18\u5316]\n    F --\x3e F3[\u6a21\u578b\u52a0\u8f7d\u4f18\u5316]\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u8c03\u8bd5\u5de5\u5177",children:"\u8c03\u8bd5\u5de5\u5177"}),"\n",(0,d.jsx)(n.h4,{id:"\u89e3\u7801\u8d28\u91cf\u5206\u6790",children:"\u89e3\u7801\u8d28\u91cf\u5206\u6790"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def analyze_decode_quality(original_latent, decoded_image):\n    \"\"\"\u5206\u6790\u89e3\u7801\u8d28\u91cf\"\"\"\n    metrics = {}\n\n    # \u8ba1\u7b97\u91cd\u5efa\u8bef\u5dee\n    if original_latent is not None:\n        reencoded = vae.encode(decoded_image)\n        mse = F.mse_loss(original_latent, reencoded)\n        metrics['reconstruction_error'] = mse.item()\n\n    # \u56fe\u50cf\u7edf\u8ba1\n    metrics['mean_brightness'] = torch.mean(decoded_image).item()\n    metrics['std_contrast'] = torch.std(decoded_image).item()\n    metrics['color_balance'] = torch.mean(decoded_image, dim=[0, 1, 2]).tolist()\n\n    # \u68c0\u6d4b\u5f02\u5e38\n    metrics['has_artifacts'] = detect_artifacts(decoded_image)\n    metrics['color_shift'] = detect_color_shift(decoded_image)\n\n    return metrics\n"})}),"\n",(0,d.jsx)(n.h4,{id:"\u6027\u80fd\u76d1\u63a7",children:"\u6027\u80fd\u76d1\u63a7"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"class VAEDecodeProfiler:\n    def __init__(self):\n        self.decode_times = []\n        self.memory_usage = []\n        self.batch_sizes = []\n\n    def profile_decode(self, vae, samples):\n        start_time = time.time()\n        start_memory = torch.cuda.memory_allocated()\n\n        result = vae.decode(samples)\n\n        end_time = time.time()\n        end_memory = torch.cuda.memory_allocated()\n\n        self.decode_times.append(end_time - start_time)\n        self.memory_usage.append(end_memory - start_memory)\n        self.batch_sizes.append(samples.shape[0])\n\n        return result\n\n    def get_statistics(self):\n        return {\n            'avg_decode_time': np.mean(self.decode_times),\n            'avg_memory_usage': np.mean(self.memory_usage),\n            'throughput': np.mean(self.batch_sizes) / np.mean(self.decode_times)\n        }\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"VAEDecode"}),"\u662fComfyUI\u56fe\u50cf\u751f\u6210\u6d41\u7a0b\u7684\u5173\u952e\u7ec8\u7aef\u8282\u70b9\uff0c\u5b83\uff1a"]}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u6838\u5fc3\u529f\u80fd"}),": \u5c06\u6f5c\u5728\u7a7a\u95f4\u8868\u793a\u8f6c\u6362\u4e3a\u53ef\u89c6\u56fe\u50cf"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u667a\u80fd\u4f18\u5316"}),": \u81ea\u52a8\u5185\u5b58\u7ba1\u7406\u548c\u6279\u5904\u7406\u4f18\u5316"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u591a\u6837\u652f\u6301"}),": \u652f\u6301\u4e0d\u540c\u6a21\u578b\u67b6\u6784\u548c\u8f93\u51fa\u683c\u5f0f"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u8d28\u91cf\u4fdd\u8bc1"}),": \u5185\u7f6e\u540e\u5904\u7406\u548c\u8d28\u91cf\u4f18\u5316\u673a\u5236"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u6269\u5c55\u6027\u5f3a"}),": \u63d0\u4f9b\u4e13\u7528\u53d8\u4f53\u9002\u914d\u7279\u6b8a\u9700\u6c42"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u7406\u89e3VAEDecode\u7684\u5de5\u4f5c\u539f\u7406\u5bf9\u4e8e\uff1a"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u4f18\u5316\u56fe\u50cf\u751f\u6210\u8d28\u91cf"}),"\n",(0,d.jsx)(n.li,{children:"\u89e3\u51b3\u5185\u5b58\u548c\u6027\u80fd\u95ee\u9898"}),"\n",(0,d.jsx)(n.li,{children:"\u9009\u62e9\u5408\u9002\u7684\u89e3\u7801\u7b56\u7565"}),"\n",(0,d.jsx)(n.li,{children:"\u8fdb\u884c\u9ad8\u7ea7\u56fe\u50cf\u5904\u7406"}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u81f3\u5173\u91cd\u8981\u3002\u8fd9\u4e2a\u8282\u70b9\u867d\u7136\u5728\u5de5\u4f5c\u6d41\u4e2d\u4f4d\u7f6e\u9760\u540e\uff0c\u4f46\u76f4\u63a5\u5f71\u54cd\u6700\u7ec8\u56fe\u50cf\u7684\u8d28\u91cf\u548c\u7528\u6237\u4f53\u9a8c\u3002"}),"\n",(0,d.jsx)(n.h2,{id:"\u76f8\u5173\u8d44\u6e90",children:"\u76f8\u5173\u8d44\u6e90"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://arxiv.org/abs/1312.6114",children:"VAE\u8bba\u6587"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://arxiv.org/abs/2112.10752",children:"\u6f5c\u5728\u6269\u6563\u6a21\u578b"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://docs.comfy.org/essentials/vae",children:"ComfyUI VAE\u6587\u6863"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://arxiv.org/abs/1801.03924",children:"\u56fe\u50cf\u8d28\u91cf\u8bc4\u4f30"})}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(t,{...e})}):t(e)}},54213:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>c});var l=s(36672);const d={},i=l.createContext(d);function r(e){const n=l.useContext(i);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:r(e.components),l.createElement(i.Provider,{value:n},e.children)}}}]);