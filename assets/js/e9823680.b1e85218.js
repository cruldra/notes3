"use strict";(self.webpackChunknotes_3=self.webpackChunknotes_3||[]).push([[3870],{44283:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>u,frontMatter:()=>c,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"FrontEnd/Zustand/\u4e2d\u95f4\u4ef6/devtools","title":"devtools","description":"\u7b80\u4ecb","source":"@site/docs/FrontEnd/Zustand/\u4e2d\u95f4\u4ef6/devtools.mdx","sourceDirName":"FrontEnd/Zustand/\u4e2d\u95f4\u4ef6","slug":"/FrontEnd/Zustand/\u4e2d\u95f4\u4ef6/devtools","permalink":"/notes3/docs/FrontEnd/Zustand/\u4e2d\u95f4\u4ef6/devtools","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/FrontEnd/Zustand/\u4e2d\u95f4\u4ef6/devtools.mdx","tags":[],"version":"current","frontMatter":{"title":"devtools","comment":false,"editLink":false,"prev":false,"next":false,"order":1},"sidebar":"frontEnd","previous":{"title":"Zustand","permalink":"/notes3/docs/category/zustand"},"next":{"title":"persist","permalink":"/notes3/docs/FrontEnd/Zustand/\u4e2d\u95f4\u4ef6/persist"}}');var o=t(23420),r=t(54213);const c={title:"devtools",comment:!1,editLink:!1,prev:!1,next:!1,order:1},d=void 0,l={},a=[{value:"\u7b80\u4ecb",id:"\u7b80\u4ecb",level:2},{value:"\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50",id:"\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50",level:2},{value:"\u5728\u590d\u6742\u7684\u72b6\u6001\u5e93\u4e2d\u4f7f\u7528\u52a8\u4f5c\u547d\u540d\u7a7a\u95f4",id:"\u5728\u590d\u6742\u7684\u72b6\u6001\u5e93\u4e2d\u4f7f\u7528\u52a8\u4f5c\u547d\u540d\u7a7a\u95f4",level:2}];function i(e){const n={a:"a",code:"code",h2:"h2",img:"img",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"\u7b80\u4ecb",children:"\u7b80\u4ecb"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.a,{href:"https://zustand-demo.pmnd.rs/",children:"Zustand"}),"\u63d0\u4f9b\u4e86\u4e00\u4e2a",(0,o.jsx)(n.code,{children:"devtools"}),"\n\u4e2d\u95f4\u4ef6\u7528\u4e8e\u548c",(0,o.jsx)(n.a,{href:"https://chromewebstore.google.com/detail/lmhkpmbekcpmknklioeibfkpmmfibljd",children:"ReduxDevTools"}),"\n\u96c6\u6210,",(0,o.jsx)(n.strong,{children:"\u5b83\u53ef\u4ee5\u8ba9\u4f60\u7528\u53ef\u89c6\u5316\u7684\u65b9\u5f0f\u8ffd\u8e2a\u72b6\u6001\u7684\u53d8\u5316\u4ee5\u786e\u4fdd\u5176\u7b26\u5408\u9884\u671f."})]}),"\n",(0,o.jsx)(n.h2,{id:"\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50",children:"\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50"}),"\n",(0,o.jsxs)(n.p,{children:["\u5728\u6d4f\u89c8\u5668\u4e2d\u5b89\u88c5",(0,o.jsx)(n.a,{href:"https://chromewebstore.google.com/detail/lmhkpmbekcpmknklioeibfkpmmfibljd",children:"ReduxDevTools"}),"\n\u63d2\u4ef6\u540e\u6253\u5f00\u63a7\u5236\u53f0,\u7136\u540e\u770b\u770b\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:'import {devtools} from "zustand/middleware";\nimport create from "zustand";\nimport {StateCreator} from "zustand/vanilla";\n//\u5b9a\u4e49\u72b6\u6001\u7684\u7c7b\u578b\ntype TestStore = {\n    count: number;\n    increment: () => void;\n    decrement: () => void;\n};\n//\u521b\u5efa\u5b58\u50a8\u5e93\nconst createStore: StateCreator<TestStore, [["zustand/devtools", never]]> = (\n    set, get\n) => {\n    console.log(set)\n    return({\n        count: 0,\n        increment: () => set((state) => ({count: state.count + 1})),\n        decrement: () => set((state) => ({count: state.count - 1})),\n    })\n};\n\nexport const useTestStore = create<TestStore>(\n    devtools(createStore, {\n        name: "Notes_Zustand_Devtools",\n    }),\n); \n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"import {useTestStore} from './store';\n\nexport default () => {\n    const [count, increment, decrement] = useTestStore((s) => [\n        s.count,\n        s.increment,\n        s.decrement,\n    ]);\n    return <div>\n        <h1>{count}</h1>\n        <button onClick={increment}>+</button>\n        <button onClick={decrement}>-</button>\n    </div>;\n}\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\u70b9\u51fb",(0,o.jsx)(n.code,{children:"+"}),"\u6216\u8005",(0,o.jsx)(n.code,{children:"-"}),"\u6309\u94ae,\u53ef\u4ee5\u5728Redux DevTools\u4e2d\u770b\u5230\u72b6\u6001\u7684\u53d8\u5316\u3002"]}),"\n",(0,o.jsx)(n.h2,{id:"\u5728\u590d\u6742\u7684\u72b6\u6001\u5e93\u4e2d\u4f7f\u7528\u52a8\u4f5c\u547d\u540d\u7a7a\u95f4",children:"\u5728\u590d\u6742\u7684\u72b6\u6001\u5e93\u4e2d\u4f7f\u7528\u52a8\u4f5c\u547d\u540d\u7a7a\u95f4"}),"\n",(0,o.jsxs)(n.p,{children:["\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d,\u70b9\u51fb",(0,o.jsx)(n.code,{children:"+"}),"\u6216\u8005",(0,o.jsx)(n.code,{children:"-"}),"\u6309\u94ae\u867d\u7136\u53ef\u4ee5\u770b\u5230\u72b6\u6001\u7684\u53d8\u5316,\u4f46\u662f\u5e76\u4e0d\u77e5\u9053\u662f\u54ea\u4e2a\u52a8\u4f5c\u5bfc\u81f4\u4e86\u72b6\u6001\u7684\u53d8\u5316,",(0,o.jsx)(n.strong,{children:"\u5728\u8c03\u8bd5\u5927\u578b\u5e94\u7528\u65f6,\u8fd9\u4e00\u70b9\u5f88\u91cd\u8981"}),"."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://cdn.jsdelivr.net/gh/hhypygy/images@master/20240204/image.3t85i2aj6cu0.png",alt:""})}),"\n",(0,o.jsxs)(n.p,{children:["\u56fe\u4e2d\u6807\u7ea2\u7684\u90e8\u5206\u5c31\u662f\u52a8\u4f5c\u7684\u547d\u540d\u7a7a\u95f4,",(0,o.jsx)(n.code,{children:"devtools"}),"\u4e2d\u95f4\u4ef6\u6269\u5c55\u4e86",(0,o.jsx)(n.code,{children:"Zustand"}),"\u7684",(0,o.jsx)(n.code,{children:"set"}),"\u65b9\u6cd5"]}),"\n",(0,o.jsxs)(n.p,{children:["\u73b0\u5728\u6211\u4eec\u4fee\u6539\u4e00\u4e0b",(0,o.jsx)(n.code,{children:"store.ts"}),"\u6587\u4ef6,\u4e3a",(0,o.jsx)(n.code,{children:"increment"}),"\u548c",(0,o.jsx)(n.code,{children:"decrement"}),"\u52a8\u4f5c\u6dfb\u52a0\u547d\u540d\u7a7a\u95f4:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"increment: () => set((state) => ({count: state.count + 1}) ,false,'increment'),\ndecrement: () => set((state) => ({count: state.count - 1}),false,'decrement'),\nmultiply: (x:number,y:number) => set((state) => ({count: x*y }),false,{\n    type:'multiply',\n    payload:{\n        x,\n        y\n    }\n    }),\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u5b8c\u6574\u793a\u4f8b\uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:'import {devtools} from "zustand/middleware";\nimport create from "zustand";\nimport {StateCreator} from "zustand/vanilla";\n//\u5b9a\u4e49\u72b6\u6001\u7684\u7c7b\u578b\ntype TestStore = {\n    count: number;\n    increment: () => void;\n    decrement: () => void;\n    multiply: (x:number,y:number) => void;\n};\n//\u521b\u5efa\u5b58\u50a8\u5e93\nconst createStore: StateCreator<TestStore, [["zustand/devtools", never]]> = (\n    set, get\n) => {\n    console.log(set)\n    return({\n        count: 0,\n        increment: () => set((state) => ({count: state.count + 1}) ,false,\'increment\'),\n        decrement: () => set((state) => ({count: state.count - 1}),false,\'decrement\'),\n        multiply: (x:number,y:number) => set((state) => ({count: x*y }),false,{\n            type:\'multiply\',\n            payload:{\n                x,\n                y\n            }\n        }),\n    })\n};\n\nexport const useTestStore = create<TestStore>(\n    devtools(createStore, {\n        name: "Notes_Zustand_Devtools",\n    }),\n); \n'})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"import {useTestStore} from './store';\n\nexport default () => {\n    const [count, increment, decrement ,multiply] = useTestStore((s) => [\n        s.count,\n        s.increment,\n        s.decrement,\n        s.multiply,\n    ]);\n const xClick = (e) => {\n     multiply(3,5)\n }\n    return <div>\n        <h1>{count}</h1>\n        <button onClick={increment}>+</button>\n        <button onClick={decrement}>-</button>\n        <button onClick={xClick }>x</button>\n    </div>;\n}\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:"https://cdn.jsdelivr.net/gh/hhypygy/images@master/20240204/image.4aqip4a1f7s0.png",alt:""})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(i,{...e})}):i(e)}},54213:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>d});var s=t(36672);const o={},r=s.createContext(o);function c(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);