"use strict";(self.webpackChunknotes_3=self.webpackChunknotes_3||[]).push([[4407],{54213:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>t});var l=i(36672);const d={},s=l.createContext(d);function r(e){const n=l.useContext(s);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:r(e.components),l.createElement(s.Provider,{value:n},e.children)}},63003:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>a,frontMatter:()=>r,metadata:()=>l,toc:()=>h});const l=JSON.parse('{"id":"Tools/Comfyui/CLIPTextEncode\u8282\u70b9\u8be6\u7ec6\u5206\u6790","title":"CLIPTextEncode \u8282\u70b9\u8be6\u7ec6\u5206\u6790","description":"\u6982\u8ff0","source":"@site/docs/Tools/Comfyui/CLIPTextEncode\u8282\u70b9\u8be6\u7ec6\u5206\u6790.md","sourceDirName":"Tools/Comfyui","slug":"/Tools/Comfyui/CLIPTextEncode\u8282\u70b9\u8be6\u7ec6\u5206\u6790","permalink":"/notes3/docs/Tools/Comfyui/CLIPTextEncode\u8282\u70b9\u8be6\u7ec6\u5206\u6790","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Tools/Comfyui/CLIPTextEncode\u8282\u70b9\u8be6\u7ec6\u5206\u6790.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tools","previous":{"title":"AI\u6a21\u578b\u6587\u4ef6\u5206\u53d1\u7b56\u7565\u5dee\u5f02\u5206\u6790","permalink":"/notes3/docs/Tools/Comfyui/AI\u6a21\u578b\u6587\u4ef6\u5206\u53d1\u7b56\u7565\u5dee\u5f02\u5206\u6790"},"next":{"title":"CheckpointLoaderSimple \u8282\u70b9\u8be6\u7ec6\u5206\u6790","permalink":"/notes3/docs/Tools/Comfyui/CheckpointLoaderSimple\u8282\u70b9\u5206\u6790"}}');var d=i(23420),s=i(54213);const r={},t="CLIPTextEncode \u8282\u70b9\u8be6\u7ec6\u5206\u6790",c={},h=[{value:"\u6982\u8ff0",id:"\u6982\u8ff0",level:2},{value:"\u8282\u70b9\u57fa\u672c\u4fe1\u606f",id:"\u8282\u70b9\u57fa\u672c\u4fe1\u606f",level:2},{value:"\u7c7b\u5b9a\u4e49",id:"\u7c7b\u5b9a\u4e49",level:3},{value:"\u663e\u793a\u540d\u79f0",id:"\u663e\u793a\u540d\u79f0",level:3},{value:"\u8f93\u5165\u8f93\u51fa\u89c4\u683c",id:"\u8f93\u5165\u8f93\u51fa\u89c4\u683c",level:2},{value:"\u8f93\u5165\u53c2\u6570\u8be6\u89e3",id:"\u8f93\u5165\u53c2\u6570\u8be6\u89e3",level:3},{value:"\u53c2\u6570\u8be6\u7ec6\u8bf4\u660e",id:"\u53c2\u6570\u8be6\u7ec6\u8bf4\u660e",level:4},{value:"\u8f93\u51fa\u7c7b\u578b",id:"\u8f93\u51fa\u7c7b\u578b",level:3},{value:"\u6838\u5fc3\u5b9e\u73b0\u5206\u6790",id:"\u6838\u5fc3\u5b9e\u73b0\u5206\u6790",level:2},{value:"\u4e3b\u8981\u6267\u884c\u51fd\u6570",id:"\u4e3b\u8981\u6267\u884c\u51fd\u6570",level:3},{value:"\u6267\u884c\u6d41\u7a0b\u56fe",id:"\u6267\u884c\u6d41\u7a0b\u56fe",level:3},{value:"\u6587\u672c\u6743\u91cd\u8bed\u6cd5\u8be6\u89e3",id:"\u6587\u672c\u6743\u91cd\u8bed\u6cd5\u8be6\u89e3",level:2},{value:"\u6743\u91cd\u8c03\u6574\u8bed\u6cd5",id:"\u6743\u91cd\u8c03\u6574\u8bed\u6cd5",level:3},{value:"1. \u57fa\u672c\u62ec\u53f7\u8bed\u6cd5",id:"1-\u57fa\u672c\u62ec\u53f7\u8bed\u6cd5",level:4},{value:"2. \u7cbe\u786e\u6743\u91cd\u8bed\u6cd5",id:"2-\u7cbe\u786e\u6743\u91cd\u8bed\u6cd5",level:4},{value:"3. \u590d\u5408\u6743\u91cd\u793a\u4f8b",id:"3-\u590d\u5408\u6743\u91cd\u793a\u4f8b",level:4},{value:"\u6743\u91cd\u5904\u7406\u673a\u5236",id:"\u6743\u91cd\u5904\u7406\u673a\u5236",level:3},{value:"\u591a\u7f16\u7801\u5668\u67b6\u6784\u652f\u6301",id:"\u591a\u7f16\u7801\u5668\u67b6\u6784\u652f\u6301",level:2},{value:"\u4e0d\u540c\u6a21\u578b\u7684\u7f16\u7801\u5668\u914d\u7f6e",id:"\u4e0d\u540c\u6a21\u578b\u7684\u7f16\u7801\u5668\u914d\u7f6e",level:3},{value:"1. SD 1.x/2.x \u6a21\u578b",id:"1-sd-1x2x-\u6a21\u578b",level:4},{value:"2. SDXL \u6a21\u578b",id:"2-sdxl-\u6a21\u578b",level:4},{value:"3. SD3 \u6a21\u578b",id:"3-sd3-\u6a21\u578b",level:4},{value:"\u7f16\u7801\u5668\u7279\u70b9\u5bf9\u6bd4",id:"\u7f16\u7801\u5668\u7279\u70b9\u5bf9\u6bd4",level:3},{value:"\u5d4c\u5165\u8bcd(Embeddings)\u652f\u6301",id:"\u5d4c\u5165\u8bcdembeddings\u652f\u6301",level:2},{value:"\u5d4c\u5165\u8bcd\u8bed\u6cd5",id:"\u5d4c\u5165\u8bcd\u8bed\u6cd5",level:3},{value:"\u5d4c\u5165\u8bcd\u5904\u7406\u6d41\u7a0b",id:"\u5d4c\u5165\u8bcd\u5904\u7406\u6d41\u7a0b",level:3},{value:"\u9ad8\u7ea7\u6587\u672c\u7f16\u7801\u8282\u70b9",id:"\u9ad8\u7ea7\u6587\u672c\u7f16\u7801\u8282\u70b9",level:2},{value:"1. CLIPTextEncodeSDXL",id:"1-cliptextencodesdxl",level:3},{value:"2. CLIPTextEncodeFlux",id:"2-cliptextencodeflux",level:3},{value:"3. CLIPTextEncodeSD3",id:"3-cliptextencodesd3",level:3},{value:"\u6027\u80fd\u4f18\u5316\u7279\u6027",id:"\u6027\u80fd\u4f18\u5316\u7279\u6027",level:2},{value:"1. \u8c03\u5ea6\u7f16\u7801(Scheduled Encoding)",id:"1-\u8c03\u5ea6\u7f16\u7801scheduled-encoding",level:3},{value:"2. \u6279\u5904\u7406\u4f18\u5316",id:"2-\u6279\u5904\u7406\u4f18\u5316",level:3},{value:"3. \u7f13\u5b58\u673a\u5236",id:"3-\u7f13\u5b58\u673a\u5236",level:3},{value:"\u4f7f\u7528\u793a\u4f8b\u548c\u6700\u4f73\u5b9e\u8df5",id:"\u4f7f\u7528\u793a\u4f8b\u548c\u6700\u4f73\u5b9e\u8df5",level:2},{value:"\u57fa\u672c\u7528\u6cd5",id:"\u57fa\u672c\u7528\u6cd5",level:3},{value:"\u9ad8\u7ea7\u6743\u91cd\u8c03\u6574",id:"\u9ad8\u7ea7\u6743\u91cd\u8c03\u6574",level:3},{value:"\u957f\u6587\u672c\u5904\u7406",id:"\u957f\u6587\u672c\u5904\u7406",level:3},{value:"\u5e38\u89c1\u95ee\u9898\u548c\u89e3\u51b3\u65b9\u6848",id:"\u5e38\u89c1\u95ee\u9898\u548c\u89e3\u51b3\u65b9\u6848",level:2},{value:"1. CLIP\u6a21\u578b\u4e3a\u7a7a\u9519\u8bef",id:"1-clip\u6a21\u578b\u4e3a\u7a7a\u9519\u8bef",level:3},{value:"2. \u6587\u672c\u8fc7\u957f\u622a\u65ad",id:"2-\u6587\u672c\u8fc7\u957f\u622a\u65ad",level:3},{value:"3. \u6743\u91cd\u8bed\u6cd5\u9519\u8bef",id:"3-\u6743\u91cd\u8bed\u6cd5\u9519\u8bef",level:3},{value:"4. \u5d4c\u5165\u8bcd\u52a0\u8f7d\u5931\u8d25",id:"4-\u5d4c\u5165\u8bcd\u52a0\u8f7d\u5931\u8d25",level:3},{value:"\u4e0e\u5176\u4ed6\u8282\u70b9\u7684\u5173\u7cfb",id:"\u4e0e\u5176\u4ed6\u8282\u70b9\u7684\u5173\u7cfb",level:2},{value:"\u4e0a\u6e38\u4f9d\u8d56",id:"\u4e0a\u6e38\u4f9d\u8d56",level:3},{value:"\u4e0b\u6e38\u8fde\u63a5",id:"\u4e0b\u6e38\u8fde\u63a5",level:3},{value:"\u6269\u5c55\u548c\u53d8\u4f53\u8282\u70b9",id:"\u6269\u5c55\u548c\u53d8\u4f53\u8282\u70b9",level:2},{value:"\u4e13\u7528\u7f16\u7801\u5668\u8282\u70b9",id:"\u4e13\u7528\u7f16\u7801\u5668\u8282\u70b9",level:3},{value:"\u529f\u80fd\u589e\u5f3a\u8282\u70b9",id:"\u529f\u80fd\u589e\u5f3a\u8282\u70b9",level:3},{value:"\u63d0\u793a\u8bcd\u5de5\u7a0b\u6700\u4f73\u5b9e\u8df5",id:"\u63d0\u793a\u8bcd\u5de5\u7a0b\u6700\u4f73\u5b9e\u8df5",level:2},{value:"1. \u6743\u91cd\u8c03\u6574\u7b56\u7565",id:"1-\u6743\u91cd\u8c03\u6574\u7b56\u7565",level:3},{value:"\u6743\u91cd\u5206\u914d\u539f\u5219",id:"\u6743\u91cd\u5206\u914d\u539f\u5219",level:4},{value:"\u6743\u91cd\u8c03\u6574\u793a\u4f8b",id:"\u6743\u91cd\u8c03\u6574\u793a\u4f8b",level:4},{value:"2. \u4e0d\u540c\u6a21\u578b\u7684\u63d0\u793a\u8bcd\u7b56\u7565",id:"2-\u4e0d\u540c\u6a21\u578b\u7684\u63d0\u793a\u8bcd\u7b56\u7565",level:3},{value:"SD 1.5 \u6a21\u578b",id:"sd-15-\u6a21\u578b",level:4},{value:"SDXL \u6a21\u578b",id:"sdxl-\u6a21\u578b",level:4},{value:"SD3 \u6a21\u578b",id:"sd3-\u6a21\u578b",level:4},{value:"3. \u52a8\u6001\u63d0\u793a\u8bcd\u6280\u672f",id:"3-\u52a8\u6001\u63d0\u793a\u8bcd\u6280\u672f",level:3},{value:"\u901a\u914d\u7b26\u8bed\u6cd5",id:"\u901a\u914d\u7b26\u8bed\u6cd5",level:4},{value:"\u6761\u4ef6\u63d0\u793a\u8bcd",id:"\u6761\u4ef6\u63d0\u793a\u8bcd",level:4},{value:"4. \u8d1f\u5411\u63d0\u793a\u8bcd\u7b56\u7565",id:"4-\u8d1f\u5411\u63d0\u793a\u8bcd\u7b56\u7565",level:3},{value:"\u901a\u7528\u8d1f\u5411\u63d0\u793a\u8bcd",id:"\u901a\u7528\u8d1f\u5411\u63d0\u793a\u8bcd",level:4},{value:"\u7279\u5b9a\u95ee\u9898\u9488\u5bf9",id:"\u7279\u5b9a\u95ee\u9898\u9488\u5bf9",level:4},{value:"\u6280\u672f\u6df1\u5ea6\u89e3\u6790",id:"\u6280\u672f\u6df1\u5ea6\u89e3\u6790",level:2},{value:"1. Token\u5316\u8fc7\u7a0b\u8be6\u89e3",id:"1-token\u5316\u8fc7\u7a0b\u8be6\u89e3",level:3},{value:"2. \u591a\u7f16\u7801\u5668\u878d\u5408\u673a\u5236",id:"2-\u591a\u7f16\u7801\u5668\u878d\u5408\u673a\u5236",level:3},{value:"3. \u5185\u5b58\u4f18\u5316\u7b56\u7565",id:"3-\u5185\u5b58\u4f18\u5316\u7b56\u7565",level:3},{value:"\u6279\u5904\u7406\u4f18\u5316",id:"\u6279\u5904\u7406\u4f18\u5316",level:4},{value:"\u7f13\u5b58\u673a\u5236",id:"\u7f13\u5b58\u673a\u5236",level:4},{value:"\u8c03\u8bd5\u548c\u6545\u969c\u6392\u9664",id:"\u8c03\u8bd5\u548c\u6545\u969c\u6392\u9664",level:2},{value:"\u5e38\u89c1\u7f16\u7801\u95ee\u9898\u8bca\u65ad",id:"\u5e38\u89c1\u7f16\u7801\u95ee\u9898\u8bca\u65ad",level:3},{value:"\u6027\u80fd\u76d1\u63a7\u6307\u6807",id:"\u6027\u80fd\u76d1\u63a7\u6307\u6807",level:3},{value:"\u5b9e\u9645\u5e94\u7528\u6848\u4f8b",id:"\u5b9e\u9645\u5e94\u7528\u6848\u4f8b",level:2},{value:"1. \u4eba\u50cf\u6444\u5f71\u98ce\u683c",id:"1-\u4eba\u50cf\u6444\u5f71\u98ce\u683c",level:3},{value:"2. \u827a\u672f\u7ed8\u753b\u98ce\u683c",id:"2-\u827a\u672f\u7ed8\u753b\u98ce\u683c",level:3},{value:"3. \u52a8\u6f2b\u63d2\u753b\u98ce\u683c",id:"3-\u52a8\u6f2b\u63d2\u753b\u98ce\u683c",level:3},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2},{value:"\u76f8\u5173\u8d44\u6e90",id:"\u76f8\u5173\u8d44\u6e90",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"cliptextencode-\u8282\u70b9\u8be6\u7ec6\u5206\u6790",children:"CLIPTextEncode \u8282\u70b9\u8be6\u7ec6\u5206\u6790"})}),"\n",(0,d.jsx)(n.h2,{id:"\u6982\u8ff0",children:"\u6982\u8ff0"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"CLIPTextEncode"})," \u662fComfyUI\u4e2d\u8d1f\u8d23\u6587\u672c\u7f16\u7801\u7684\u6838\u5fc3\u8282\u70b9\uff0c\u5b83\u5c06\u81ea\u7136\u8bed\u8a00\u6587\u672c\u8f6c\u6362\u4e3a\u6269\u6563\u6a21\u578b\u53ef\u4ee5\u7406\u89e3\u7684\u6570\u503c\u8868\u793a\uff08\u5d4c\u5165\u5411\u91cf\uff09\u3002\u8fd9\u4e2a\u8282\u70b9\u662f\u8fde\u63a5\u4eba\u7c7b\u8bed\u8a00\u548cAI\u56fe\u50cf\u751f\u6210\u7684\u6865\u6881\uff0c\u76f4\u63a5\u5f71\u54cd\u751f\u6210\u56fe\u50cf\u4e0e\u6587\u672c\u63cf\u8ff0\u7684\u5339\u914d\u7a0b\u5ea6\u3002"]}),"\n",(0,d.jsx)(n.h2,{id:"\u8282\u70b9\u57fa\u672c\u4fe1\u606f",children:"\u8282\u70b9\u57fa\u672c\u4fe1\u606f"}),"\n",(0,d.jsx)(n.h3,{id:"\u7c7b\u5b9a\u4e49",children:"\u7c7b\u5b9a\u4e49"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'class CLIPTextEncode(ComfyNodeABC):\n    CATEGORY = "conditioning"\n    DESCRIPTION = "Encodes a text prompt using a CLIP model into an embedding that can be used to guide the diffusion model towards generating specific images."\n    FUNCTION = "encode"\n    RETURN_TYPES = (IO.CONDITIONING,)\n'})}),"\n",(0,d.jsx)(n.h3,{id:"\u663e\u793a\u540d\u79f0",children:"\u663e\u793a\u540d\u79f0"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u5185\u90e8\u540d\u79f0"}),": ",(0,d.jsx)(n.code,{children:"CLIPTextEncode"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u663e\u793a\u540d\u79f0"}),": ",(0,d.jsx)(n.code,{children:"CLIP Text Encode"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u7c7b\u522b"}),": ",(0,d.jsx)(n.code,{children:"conditioning"})]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"\u8f93\u5165\u8f93\u51fa\u89c4\u683c",children:"\u8f93\u5165\u8f93\u51fa\u89c4\u683c"}),"\n",(0,d.jsx)(n.h3,{id:"\u8f93\u5165\u53c2\u6570\u8be6\u89e3",children:"\u8f93\u5165\u53c2\u6570\u8be6\u89e3"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'@classmethod\ndef INPUT_TYPES(s) -> InputTypeDict:\n    return {\n        "required": {\n            "text": (IO.STRING, {\n                "multiline": True, \n                "dynamicPrompts": True, \n                "tooltip": "The text to be encoded."\n            }),\n            "clip": (IO.CLIP, {\n                "tooltip": "The CLIP model used for encoding the text."\n            })\n        }\n    }\n'})}),"\n",(0,d.jsx)(n.h4,{id:"\u53c2\u6570\u8be6\u7ec6\u8bf4\u660e",children:"\u53c2\u6570\u8be6\u7ec6\u8bf4\u660e"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"text"})," (STRING)"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u8981\u7f16\u7801\u7684\u6587\u672c\u63d0\u793a\u8bcd"}),"\n",(0,d.jsx)(n.li,{children:"\u652f\u6301\u591a\u884c\u8f93\u5165"}),"\n",(0,d.jsx)(n.li,{children:"\u652f\u6301\u52a8\u6001\u63d0\u793a\u8bcd\u8bed\u6cd5"}),"\n",(0,d.jsx)(n.li,{children:"\u652f\u6301\u6743\u91cd\u8c03\u6574\u8bed\u6cd5"}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"clip"})," (CLIP)"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"CLIP\u6587\u672c\u7f16\u7801\u5668\u6a21\u578b"}),"\n",(0,d.jsx)(n.li,{children:"\u6765\u6e90\uff1aCheckpointLoaderSimple\u7b49\u52a0\u8f7d\u5668\u8282\u70b9"}),"\n",(0,d.jsx)(n.li,{children:"\u7528\u4e8e\u5c06\u6587\u672c\u8f6c\u6362\u4e3a\u5d4c\u5165\u5411\u91cf"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"\u8f93\u51fa\u7c7b\u578b",children:"\u8f93\u51fa\u7c7b\u578b"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'RETURN_TYPES = (IO.CONDITIONING,)\nOUTPUT_TOOLTIPS = ("A conditioning containing the embedded text used to guide the diffusion model.",)\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u8f93\u51fa\u8bf4\u660e"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"CONDITIONING"}),": \u5305\u542b\u6587\u672c\u5d4c\u5165\u7684\u6761\u4ef6\u4fe1\u606f\uff0c\u7528\u4e8e\u5f15\u5bfc\u6269\u6563\u6a21\u578b\u751f\u6210"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"\u6838\u5fc3\u5b9e\u73b0\u5206\u6790",children:"\u6838\u5fc3\u5b9e\u73b0\u5206\u6790"}),"\n",(0,d.jsx)(n.h3,{id:"\u4e3b\u8981\u6267\u884c\u51fd\u6570",children:"\u4e3b\u8981\u6267\u884c\u51fd\u6570"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'def encode(self, clip, text):\n    if clip is None:\n        raise RuntimeError("ERROR: clip input is invalid: None\\n\\nIf the clip is from a checkpoint loader node your checkpoint does not contain a valid clip or text encoder model.")\n    tokens = clip.tokenize(text)\n    return (clip.encode_from_tokens_scheduled(tokens), )\n'})}),"\n",(0,d.jsx)(n.h3,{id:"\u6267\u884c\u6d41\u7a0b\u56fe",children:"\u6267\u884c\u6d41\u7a0b\u56fe"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-mermaid",children:'flowchart TD\n    A[\u63a5\u6536\u6587\u672c\u8f93\u5165] --\x3e B[\u9a8c\u8bc1CLIP\u6a21\u578b]\n    B --\x3e C{CLIP\u6a21\u578b\u6709\u6548?}\n    C --\x3e|\u5426| D[\u629b\u51faRuntimeError]\n    C --\x3e|\u662f| E[\u6587\u672c\u9884\u5904\u7406]\n    E --\x3e F[\u89e3\u6790\u6743\u91cd\u8bed\u6cd5]\n    F --\x3e G[\u5206\u8bcd\u5904\u7406]\n    G --\x3e H[Token\u5316]\n    H --\x3e I[\u7f16\u7801\u4e3a\u5d4c\u5165\u5411\u91cf]\n    I --\x3e J[\u5e94\u7528\u6743\u91cd\u8c03\u6574]\n    J --\x3e K[\u751f\u6210\u6761\u4ef6\u4fe1\u606f]\n    K --\x3e L[\u8fd4\u56deCONDITIONING]\n    \n    subgraph "\u6587\u672c\u5904\u7406"\n        E --\x3e E1[\u8f6c\u4e49\u7279\u6b8a\u5b57\u7b26]\n        E --\x3e E2[\u89e3\u6790\u62ec\u53f7\u6743\u91cd]\n        E --\x3e E3[\u5904\u7406\u5d4c\u5165\u8bcd]\n    end\n    \n    subgraph "\u7f16\u7801\u8fc7\u7a0b"\n        I --\x3e I1[CLIP-L\u7f16\u7801]\n        I --\x3e I2[CLIP-G\u7f16\u7801]\n        I --\x3e I3[T5XXL\u7f16\u7801]\n        I --\x3e I4[\u5408\u5e76\u591a\u7f16\u7801\u5668]\n    end\n'})}),"\n",(0,d.jsx)(n.h2,{id:"\u6587\u672c\u6743\u91cd\u8bed\u6cd5\u8be6\u89e3",children:"\u6587\u672c\u6743\u91cd\u8bed\u6cd5\u8be6\u89e3"}),"\n",(0,d.jsx)(n.h3,{id:"\u6743\u91cd\u8c03\u6574\u8bed\u6cd5",children:"\u6743\u91cd\u8c03\u6574\u8bed\u6cd5"}),"\n",(0,d.jsx)(n.p,{children:"CLIPTextEncode\u652f\u6301\u4e30\u5bcc\u7684\u6587\u672c\u6743\u91cd\u8c03\u6574\u8bed\u6cd5\uff1a"}),"\n",(0,d.jsx)(n.h4,{id:"1-\u57fa\u672c\u62ec\u53f7\u8bed\u6cd5",children:"1. \u57fa\u672c\u62ec\u53f7\u8bed\u6cd5"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"(word)          # \u6743\u91cd \xd7 1.1\n((word))        # \u6743\u91cd \xd7 1.21 (1.1\xb2)\n(((word)))      # \u6743\u91cd \xd7 1.331 (1.1\xb3)\n[word]          # \u6743\u91cd \xd7 0.909 (1/1.1)\n[[word]]        # \u6743\u91cd \xd7 0.826 (1/1.1\xb2)\n"})}),"\n",(0,d.jsx)(n.h4,{id:"2-\u7cbe\u786e\u6743\u91cd\u8bed\u6cd5",children:"2. \u7cbe\u786e\u6743\u91cd\u8bed\u6cd5"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"(word:1.5)      # \u6743\u91cd\u8bbe\u4e3a1.5\n(word:0.8)      # \u6743\u91cd\u8bbe\u4e3a0.8\n(word:2.0)      # \u6743\u91cd\u8bbe\u4e3a2.0\n"})}),"\n",(0,d.jsx)(n.h4,{id:"3-\u590d\u5408\u6743\u91cd\u793a\u4f8b",children:"3. \u590d\u5408\u6743\u91cd\u793a\u4f8b"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"(beautiful:1.3) woman, ((detailed face:1.2)), [background:0.7]\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u6743\u91cd\u5904\u7406\u673a\u5236",children:"\u6743\u91cd\u5904\u7406\u673a\u5236"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def token_weights(string, current_weight):\n    a = parse_parentheses(string)\n    out = []\n    for x in a:\n        weight = current_weight\n        if len(x) >= 2 and x[-1] == ')' and x[0] == '(':\n            x = x[1:-1]\n            xx = x.rfind(\":\")\n            weight *= 1.1  # \u9ed8\u8ba4\u6743\u91cd\u589e\u5f3a\n            if xx > 0:\n                try:\n                    weight = float(x[xx+1:])  # \u81ea\u5b9a\u4e49\u6743\u91cd\n                    x = x[:xx]\n                except:\n                    pass\n            out += token_weights(x, weight)\n        else:\n            out += [(x, current_weight)]\n    return out\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u591a\u7f16\u7801\u5668\u67b6\u6784\u652f\u6301",children:"\u591a\u7f16\u7801\u5668\u67b6\u6784\u652f\u6301"}),"\n",(0,d.jsx)(n.h3,{id:"\u4e0d\u540c\u6a21\u578b\u7684\u7f16\u7801\u5668\u914d\u7f6e",children:"\u4e0d\u540c\u6a21\u578b\u7684\u7f16\u7801\u5668\u914d\u7f6e"}),"\n",(0,d.jsx)(n.h4,{id:"1-sd-1x2x-\u6a21\u578b",children:"1. SD 1.x/2.x \u6a21\u578b"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'# \u5355\u4e00CLIP-L\u7f16\u7801\u5668\nclass SD1Tokenizer:\n    def __init__(self):\n        self.clip_l = SDTokenizer()\n    \n    def tokenize_with_weights(self, text):\n        return {"l": self.clip_l.tokenize_with_weights(text)}\n'})}),"\n",(0,d.jsx)(n.h4,{id:"2-sdxl-\u6a21\u578b",children:"2. SDXL \u6a21\u578b"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'# \u53cc\u7f16\u7801\u5668\uff1aCLIP-L + CLIP-G\nclass SDXLTokenizer:\n    def __init__(self):\n        self.clip_l = SDTokenizer()\n        self.clip_g = SDXLClipGTokenizer()\n    \n    def tokenize_with_weights(self, text):\n        return {\n            "g": self.clip_g.tokenize_with_weights(text),\n            "l": self.clip_l.tokenize_with_weights(text)\n        }\n'})}),"\n",(0,d.jsx)(n.h4,{id:"3-sd3-\u6a21\u578b",children:"3. SD3 \u6a21\u578b"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'# \u4e09\u7f16\u7801\u5668\uff1aCLIP-L + CLIP-G + T5XXL\nclass SD3Tokenizer:\n    def __init__(self):\n        self.clip_l = SDTokenizer()\n        self.clip_g = SDXLClipGTokenizer()\n        self.t5xxl = T5XXLTokenizer()\n    \n    def tokenize_with_weights(self, text):\n        return {\n            "g": self.clip_g.tokenize_with_weights(text),\n            "l": self.clip_l.tokenize_with_weights(text),\n            "t5xxl": self.t5xxl.tokenize_with_weights(text)\n        }\n'})}),"\n",(0,d.jsx)(n.h3,{id:"\u7f16\u7801\u5668\u7279\u70b9\u5bf9\u6bd4",children:"\u7f16\u7801\u5668\u7279\u70b9\u5bf9\u6bd4"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u7f16\u7801\u5668"}),(0,d.jsx)(n.th,{children:"\u6700\u5927\u957f\u5ea6"}),(0,d.jsx)(n.th,{children:"\u7279\u70b9"}),(0,d.jsx)(n.th,{children:"\u9002\u7528\u6a21\u578b"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"CLIP-L"})}),(0,d.jsx)(n.td,{children:"77 tokens"}),(0,d.jsx)(n.td,{children:"\u57fa\u7840\u6587\u672c\u7406\u89e3"}),(0,d.jsx)(n.td,{children:"SD1.x, SD2.x, SDXL, SD3"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"CLIP-G"})}),(0,d.jsx)(n.td,{children:"77 tokens"}),(0,d.jsx)(n.td,{children:"\u589e\u5f3a\u8bed\u4e49\u7406\u89e3"}),(0,d.jsx)(n.td,{children:"SDXL, SD3"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"T5XXL"})}),(0,d.jsx)(n.td,{children:"512 tokens"}),(0,d.jsx)(n.td,{children:"\u957f\u6587\u672c\u652f\u6301"}),(0,d.jsx)(n.td,{children:"SD3, Flux"})]})]})]}),"\n",(0,d.jsx)(n.h2,{id:"\u5d4c\u5165\u8bcdembeddings\u652f\u6301",children:"\u5d4c\u5165\u8bcd(Embeddings)\u652f\u6301"}),"\n",(0,d.jsx)(n.h3,{id:"\u5d4c\u5165\u8bcd\u8bed\u6cd5",children:"\u5d4c\u5165\u8bcd\u8bed\u6cd5"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"embedding:filename.pt\nembedding:filename\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u5d4c\u5165\u8bcd\u5904\u7406\u6d41\u7a0b",children:"\u5d4c\u5165\u8bcd\u5904\u7406\u6d41\u7a0b"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-mermaid",children:'graph LR\n    A[\u68c0\u6d4b\u5d4c\u5165\u8bcd\u8bed\u6cd5] --\x3e B[\u67e5\u627e\u5d4c\u5165\u6587\u4ef6]\n    B --\x3e C[\u52a0\u8f7d\u5d4c\u5165\u5411\u91cf]\n    C --\x3e D[\u66ff\u6362\u5bf9\u5e94Token]\n    D --\x3e E[\u7ee7\u7eed\u6b63\u5e38\u7f16\u7801]\n    \n    subgraph "\u5d4c\u5165\u8bcd\u76ee\u5f55"\n        F[models/embeddings/]\n        G[*.pt\u6587\u4ef6]\n        H[*.safetensors\u6587\u4ef6]\n    end\n    \n    B --\x3e F\n    F --\x3e G\n    F --\x3e H\n'})}),"\n",(0,d.jsx)(n.h2,{id:"\u9ad8\u7ea7\u6587\u672c\u7f16\u7801\u8282\u70b9",children:"\u9ad8\u7ea7\u6587\u672c\u7f16\u7801\u8282\u70b9"}),"\n",(0,d.jsx)(n.h3,{id:"1-cliptextencodesdxl",children:"1. CLIPTextEncodeSDXL"}),"\n",(0,d.jsx)(n.p,{children:"\u4e13\u4e3aSDXL\u6a21\u578b\u8bbe\u8ba1\u7684\u9ad8\u7ea7\u7f16\u7801\u5668\uff1a"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'def encode(self, clip, width, height, crop_w, crop_h, target_width, target_height, text_g, text_l):\n    tokens = clip.tokenize(text_g)\n    tokens["l"] = clip.tokenize(text_l)["l"]\n    return (clip.encode_from_tokens_scheduled(tokens, add_dict={\n        "width": width, "height": height, \n        "crop_w": crop_w, "crop_h": crop_h, \n        "target_width": target_width, "target_height": target_height\n    }), )\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u7279\u70b9"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u5206\u79bb\u7684\u5168\u5c40(text_g)\u548c\u5c40\u90e8(text_l)\u63d0\u793a"}),"\n",(0,d.jsx)(n.li,{children:"\u5206\u8fa8\u7387\u6761\u4ef6\u4fe1\u606f"}),"\n",(0,d.jsx)(n.li,{children:"\u88c1\u526a\u53c2\u6570\u652f\u6301"}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"2-cliptextencodeflux",children:"2. CLIPTextEncodeFlux"}),"\n",(0,d.jsx)(n.p,{children:"\u4e13\u4e3aFlux\u6a21\u578b\u8bbe\u8ba1\uff1a"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'def encode(self, clip, clip_l, t5xxl, guidance):\n    tokens = clip.tokenize(clip_l)\n    tokens["t5xxl"] = clip.tokenize(t5xxl)["t5xxl"]\n    return (clip.encode_from_tokens_scheduled(tokens, add_dict={"guidance": guidance}), )\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u7279\u70b9"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"CLIP-L + T5XXL\u53cc\u7f16\u7801\u5668"}),"\n",(0,d.jsx)(n.li,{children:"\u5185\u7f6e\u5f15\u5bfc\u5f3a\u5ea6\u53c2\u6570"}),"\n",(0,d.jsx)(n.li,{children:"\u957f\u6587\u672c\u652f\u6301(T5XXL)"}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"3-cliptextencodesd3",children:"3. CLIPTextEncodeSD3"}),"\n",(0,d.jsx)(n.p,{children:"\u4e13\u4e3aSD3\u6a21\u578b\u8bbe\u8ba1\uff1a"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'def encode(self, clip, clip_l, clip_g, t5xxl, empty_padding):\n    tokens = clip.tokenize(clip_g)\n    tokens["l"] = clip.tokenize(clip_l)["l"]\n    tokens["t5xxl"] = clip.tokenize(t5xxl)["t5xxl"]\n    return (clip.encode_from_tokens_scheduled(tokens), )\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u7279\u70b9"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u4e09\u7f16\u7801\u5668\u67b6\u6784"}),"\n",(0,d.jsx)(n.li,{children:"\u72ec\u7acb\u7684\u6587\u672c\u8f93\u5165"}),"\n",(0,d.jsx)(n.li,{children:"\u7a7a\u586b\u5145\u63a7\u5236"}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"\u6027\u80fd\u4f18\u5316\u7279\u6027",children:"\u6027\u80fd\u4f18\u5316\u7279\u6027"}),"\n",(0,d.jsx)(n.h3,{id:"1-\u8c03\u5ea6\u7f16\u7801scheduled-encoding",children:"1. \u8c03\u5ea6\u7f16\u7801(Scheduled Encoding)"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def encode_from_tokens_scheduled(self, tokens, unprojected=False, add_dict={}, show_pbar=True):\n    # \u652f\u6301\u52a8\u6001\u6743\u91cd\u8c03\u5ea6\n    # \u6279\u5904\u7406\u4f18\u5316\n    # \u5185\u5b58\u7ba1\u7406\n"})}),"\n",(0,d.jsx)(n.h3,{id:"2-\u6279\u5904\u7406\u4f18\u5316",children:"2. \u6279\u5904\u7406\u4f18\u5316"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u81ea\u52a8\u6279\u6b21\u5927\u5c0f\u8c03\u6574"}),"\n",(0,d.jsx)(n.li,{children:"\u5185\u5b58\u4f7f\u7528\u4f18\u5316"}),"\n",(0,d.jsx)(n.li,{children:"GPU/CPU\u667a\u80fd\u8c03\u5ea6"}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"3-\u7f13\u5b58\u673a\u5236",children:"3. \u7f13\u5b58\u673a\u5236"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"Token\u7f13\u5b58"}),"\n",(0,d.jsx)(n.li,{children:"\u5d4c\u5165\u5411\u91cf\u7f13\u5b58"}),"\n",(0,d.jsx)(n.li,{children:"\u91cd\u590d\u6587\u672c\u4f18\u5316"}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"\u4f7f\u7528\u793a\u4f8b\u548c\u6700\u4f73\u5b9e\u8df5",children:"\u4f7f\u7528\u793a\u4f8b\u548c\u6700\u4f73\u5b9e\u8df5"}),"\n",(0,d.jsx)(n.h3,{id:"\u57fa\u672c\u7528\u6cd5",children:"\u57fa\u672c\u7528\u6cd5"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-json",children:'{\n    "text_encoder": {\n        "inputs": {\n            "text": "a beautiful woman, detailed face, photorealistic",\n            "clip": ["checkpoint_loader", 1]\n        },\n        "class_type": "CLIPTextEncode"\n    }\n}\n'})}),"\n",(0,d.jsx)(n.h3,{id:"\u9ad8\u7ea7\u6743\u91cd\u8c03\u6574",children:"\u9ad8\u7ea7\u6743\u91cd\u8c03\u6574"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\u6b63\u5411\u63d0\u793a\uff1a\n(masterpiece:1.3), (best quality:1.2), beautiful woman, (detailed face:1.1), photorealistic, [background:0.8]\n\n\u8d1f\u5411\u63d0\u793a\uff1a\n(worst quality:1.4), (low quality:1.4), (normal quality:1.4), lowres, bad anatomy, [text:0.5]\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u957f\u6587\u672c\u5904\u7406",children:"\u957f\u6587\u672c\u5904\u7406"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"# \u5bf9\u4e8eSD3/Flux\u7b49\u652f\u6301\u957f\u6587\u672c\u7684\u6a21\u578b\nA highly detailed portrait of a young woman with flowing auburn hair, \nwearing an elegant Victorian-era dress with intricate lace patterns, \nstanding in a sunlit garden filled with blooming roses and jasmine flowers, \nwith soft natural lighting creating gentle shadows across her face, \npainted in the style of John Singer Sargent with photorealistic detail.\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u5e38\u89c1\u95ee\u9898\u548c\u89e3\u51b3\u65b9\u6848",children:"\u5e38\u89c1\u95ee\u9898\u548c\u89e3\u51b3\u65b9\u6848"}),"\n",(0,d.jsx)(n.h3,{id:"1-clip\u6a21\u578b\u4e3a\u7a7a\u9519\u8bef",children:"1. CLIP\u6a21\u578b\u4e3a\u7a7a\u9519\u8bef"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"ERROR: clip input is invalid: None\n"})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u89e3\u51b3\u65b9\u6848"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u786e\u4fddCheckpointLoaderSimple\u6b63\u786e\u8fde\u63a5"}),"\n",(0,d.jsx)(n.li,{children:"\u68c0\u67e5\u6a21\u578b\u6587\u4ef6\u662f\u5426\u5305\u542bCLIP\u7ec4\u4ef6"}),"\n",(0,d.jsx)(n.li,{children:"\u9a8c\u8bc1\u6a21\u578b\u6587\u4ef6\u5b8c\u6574\u6027"}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"2-\u6587\u672c\u8fc7\u957f\u622a\u65ad",children:"2. \u6587\u672c\u8fc7\u957f\u622a\u65ad"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u95ee\u9898"}),": \u6587\u672c\u8d85\u8fc7\u6700\u5927\u957f\u5ea6\u9650\u5236\n",(0,d.jsx)(n.strong,{children:"\u89e3\u51b3\u65b9\u6848"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u4f7f\u7528\u652f\u6301\u957f\u6587\u672c\u7684\u6a21\u578b(SD3, Flux)"}),"\n",(0,d.jsx)(n.li,{children:"\u5206\u89e3\u957f\u6587\u672c\u4e3a\u591a\u4e2a\u90e8\u5206"}),"\n",(0,d.jsx)(n.li,{children:"\u4f7f\u7528ConditioningCombine\u7ec4\u5408\u591a\u4e2a\u7f16\u7801"}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"3-\u6743\u91cd\u8bed\u6cd5\u9519\u8bef",children:"3. \u6743\u91cd\u8bed\u6cd5\u9519\u8bef"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u95ee\u9898"}),": \u62ec\u53f7\u4e0d\u5339\u914d\u6216\u8bed\u6cd5\u9519\u8bef\n",(0,d.jsx)(n.strong,{children:"\u89e3\u51b3\u65b9\u6848"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u68c0\u67e5\u62ec\u53f7\u914d\u5bf9"}),"\n",(0,d.jsx)(n.li,{children:"\u9a8c\u8bc1\u6743\u91cd\u6570\u503c\u683c\u5f0f"}),"\n",(0,d.jsx)(n.li,{children:"\u4f7f\u7528\u8f6c\u4e49\u5b57\u7b26\u5904\u7406\u7279\u6b8a\u7b26\u53f7"}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"4-\u5d4c\u5165\u8bcd\u52a0\u8f7d\u5931\u8d25",children:"4. \u5d4c\u5165\u8bcd\u52a0\u8f7d\u5931\u8d25"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u95ee\u9898"}),": \u5d4c\u5165\u8bcd\u6587\u4ef6\u627e\u4e0d\u5230\n",(0,d.jsx)(n.strong,{children:"\u89e3\u51b3\u65b9\u6848"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\u786e\u8ba4\u6587\u4ef6\u5728models/embeddings/\u76ee\u5f55"}),"\n",(0,d.jsx)(n.li,{children:"\u68c0\u67e5\u6587\u4ef6\u540d\u548c\u6269\u5c55\u540d"}),"\n",(0,d.jsx)(n.li,{children:"\u9a8c\u8bc1\u6587\u4ef6\u683c\u5f0f(.pt, .safetensors)"}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"\u4e0e\u5176\u4ed6\u8282\u70b9\u7684\u5173\u7cfb",children:"\u4e0e\u5176\u4ed6\u8282\u70b9\u7684\u5173\u7cfb"}),"\n",(0,d.jsx)(n.h3,{id:"\u4e0a\u6e38\u4f9d\u8d56",children:"\u4e0a\u6e38\u4f9d\u8d56"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"CheckpointLoaderSimple"}),": \u63d0\u4f9bCLIP\u6a21\u578b"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"CLIPLoader"}),": \u72ec\u7acb\u52a0\u8f7dCLIP\u6a21\u578b"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u6587\u672c\u8f93\u5165"}),": \u7528\u6237\u63d0\u4f9b\u7684\u63d0\u793a\u8bcd"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"\u4e0b\u6e38\u8fde\u63a5",children:"\u4e0b\u6e38\u8fde\u63a5"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"KSampler"}),": \u63a5\u6536CONDITIONING\u7528\u4e8e\u91c7\u6837"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"ConditioningCombine"}),": \u7ec4\u5408\u591a\u4e2a\u6761\u4ef6"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"ConditioningSetArea"}),": \u533a\u57df\u6761\u4ef6\u8bbe\u7f6e"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"\u6269\u5c55\u548c\u53d8\u4f53\u8282\u70b9",children:"\u6269\u5c55\u548c\u53d8\u4f53\u8282\u70b9"}),"\n",(0,d.jsx)(n.h3,{id:"\u4e13\u7528\u7f16\u7801\u5668\u8282\u70b9",children:"\u4e13\u7528\u7f16\u7801\u5668\u8282\u70b9"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"CLIPTextEncodeSDXL"}),": SDXL\u4e13\u7528"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"CLIPTextEncodeFlux"}),": Flux\u4e13\u7528"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"CLIPTextEncodeSD3"}),": SD3\u4e13\u7528"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"CLIPTextEncodeHunyuanDiT"}),": HunyuanDiT\u4e13\u7528"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"\u529f\u80fd\u589e\u5f3a\u8282\u70b9",children:"\u529f\u80fd\u589e\u5f3a\u8282\u70b9"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"CLIPTextEncodeControlnet"}),": ControlNet\u96c6\u6210"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"GLIGENTextBoxApply"}),": GLIGEN\u6587\u672c\u6846"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"ConditioningSetTimestepRange"}),": \u65f6\u95f4\u6b65\u8303\u56f4\u63a7\u5236"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"\u63d0\u793a\u8bcd\u5de5\u7a0b\u6700\u4f73\u5b9e\u8df5",children:"\u63d0\u793a\u8bcd\u5de5\u7a0b\u6700\u4f73\u5b9e\u8df5"}),"\n",(0,d.jsx)(n.h3,{id:"1-\u6743\u91cd\u8c03\u6574\u7b56\u7565",children:"1. \u6743\u91cd\u8c03\u6574\u7b56\u7565"}),"\n",(0,d.jsx)(n.h4,{id:"\u6743\u91cd\u5206\u914d\u539f\u5219",children:"\u6743\u91cd\u5206\u914d\u539f\u5219"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-mermaid",children:'graph TD\n    A[\u63d0\u793a\u8bcd\u6743\u91cd\u5206\u914d] --\x3e B[\u4e3b\u4f53\u63cf\u8ff0 1.0-1.2]\n    A --\x3e C[\u8d28\u91cf\u8bcd 1.2-1.4]\n    A --\x3e D[\u98ce\u683c\u8bcd 0.8-1.1]\n    A --\x3e E[\u7ec6\u8282\u63cf\u8ff0 0.9-1.1]\n    A --\x3e F[\u80cc\u666f\u5143\u7d20 0.6-0.9]\n\n    B --\x3e B1["woman, portrait"]\n    C --\x3e C1["(masterpiece:1.3), (best quality:1.2)"]\n    D --\x3e D1["(photorealistic:1.1), anime style"]\n    E --\x3e E1["detailed face, intricate clothing"]\n    F --\x3e F1["[simple background:0.7]"]\n'})}),"\n",(0,d.jsx)(n.h4,{id:"\u6743\u91cd\u8c03\u6574\u793a\u4f8b",children:"\u6743\u91cd\u8c03\u6574\u793a\u4f8b"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"# \u5f3a\u8c03\u8d28\u91cf\u548c\u4e3b\u4f53\n(masterpiece:1.4), (best quality:1.3), beautiful woman, (detailed face:1.2),\n(photorealistic:1.1), elegant dress, [simple background:0.8]\n\n# \u827a\u672f\u98ce\u683c\u5f3a\u8c03\n(oil painting:1.3), (classical art:1.2), portrait of a woman,\n(renaissance style:1.1), detailed brushwork, [modern elements:0.5]\n\n# \u7ec6\u8282\u63a7\u5236\nwoman, ((extremely detailed face:1.3)), (perfect eyes:1.2),\n(natural skin texture:1.1), [makeup:0.7], soft lighting\n"})}),"\n",(0,d.jsx)(n.h3,{id:"2-\u4e0d\u540c\u6a21\u578b\u7684\u63d0\u793a\u8bcd\u7b56\u7565",children:"2. \u4e0d\u540c\u6a21\u578b\u7684\u63d0\u793a\u8bcd\u7b56\u7565"}),"\n",(0,d.jsx)(n.h4,{id:"sd-15-\u6a21\u578b",children:"SD 1.5 \u6a21\u578b"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"# \u7279\u70b9\uff1a\u9700\u8981\u8be6\u7ec6\u63cf\u8ff0\uff0c\u5bf9\u6743\u91cd\u654f\u611f\n(masterpiece:1.2), (best quality:1.2), 1girl, beautiful detailed eyes,\ndetailed face, long hair, dress, standing, outdoors, garden,\n(photorealistic:1.1), (detailed:1.1)\n"})}),"\n",(0,d.jsx)(n.h4,{id:"sdxl-\u6a21\u578b",children:"SDXL \u6a21\u578b"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"# \u7279\u70b9\uff1a\u66f4\u597d\u7684\u81ea\u7136\u8bed\u8a00\u7406\u89e3\uff0c\u53ef\u4ee5\u4f7f\u7528\u66f4\u81ea\u7136\u7684\u63cf\u8ff0\nA beautiful young woman with flowing hair, wearing an elegant dress,\nstanding in a sunlit garden. Photorealistic, high quality, detailed portrait.\n"})}),"\n",(0,d.jsx)(n.h4,{id:"sd3-\u6a21\u578b",children:"SD3 \u6a21\u578b"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"# \u7279\u70b9\uff1a\u652f\u6301\u957f\u6587\u672c\uff0c\u66f4\u597d\u7684\u8bed\u4e49\u7406\u89e3\nA highly detailed photorealistic portrait of a beautiful woman with auburn hair\ncascading over her shoulders, wearing an intricately designed Victorian-era gown\nwith delicate lace details, standing gracefully in a blooming rose garden\nwith soft natural lighting illuminating her face.\n"})}),"\n",(0,d.jsx)(n.h3,{id:"3-\u52a8\u6001\u63d0\u793a\u8bcd\u6280\u672f",children:"3. \u52a8\u6001\u63d0\u793a\u8bcd\u6280\u672f"}),"\n",(0,d.jsx)(n.h4,{id:"\u901a\u914d\u7b26\u8bed\u6cd5",children:"\u901a\u914d\u7b26\u8bed\u6cd5"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"{morning|afternoon|evening} light, {red|blue|green} dress,\n{happy|serene|mysterious} expression\n"})}),"\n",(0,d.jsx)(n.h4,{id:"\u6761\u4ef6\u63d0\u793a\u8bcd",children:"\u6761\u4ef6\u63d0\u793a\u8bcd"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"# \u57fa\u4e8e\u968f\u673a\u6027\u7684\u53d8\u5316\nwoman, {detailed face|beautiful eyes|perfect skin},\n{long hair|short hair|curly hair}, {dress|blouse|jacket}\n"})}),"\n",(0,d.jsx)(n.h3,{id:"4-\u8d1f\u5411\u63d0\u793a\u8bcd\u7b56\u7565",children:"4. \u8d1f\u5411\u63d0\u793a\u8bcd\u7b56\u7565"}),"\n",(0,d.jsx)(n.h4,{id:"\u901a\u7528\u8d1f\u5411\u63d0\u793a\u8bcd",children:"\u901a\u7528\u8d1f\u5411\u63d0\u793a\u8bcd"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"(worst quality:1.4), (low quality:1.4), (normal quality:1.4),\nlowres, bad anatomy, bad hands, text, error, missing fingers,\nextra digit, fewer digits, cropped, jpeg artifacts, signature,\nwatermark, username, blurry\n"})}),"\n",(0,d.jsx)(n.h4,{id:"\u7279\u5b9a\u95ee\u9898\u9488\u5bf9",children:"\u7279\u5b9a\u95ee\u9898\u9488\u5bf9"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"# \u89e3\u5256\u95ee\u9898\nbad anatomy, bad hands, bad feet, malformed limbs, extra limbs,\nmissing limbs, fused fingers, too many fingers\n\n# \u56fe\u50cf\u8d28\u91cf\nblurry, out of focus, low resolution, pixelated, compression artifacts,\nnoise, grain, oversaturated, undersaturated\n\n# \u4e0d\u9700\u8981\u7684\u5143\u7d20\ntext, watermark, signature, logo, copyright, username,\nframe, border, multiple views, split screen\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u6280\u672f\u6df1\u5ea6\u89e3\u6790",children:"\u6280\u672f\u6df1\u5ea6\u89e3\u6790"}),"\n",(0,d.jsx)(n.h3,{id:"1-token\u5316\u8fc7\u7a0b\u8be6\u89e3",children:"1. Token\u5316\u8fc7\u7a0b\u8be6\u89e3"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-mermaid",children:"sequenceDiagram\n    participant T as \u6587\u672c\u8f93\u5165\n    participant P as \u9884\u5904\u7406\u5668\n    participant W as \u6743\u91cd\u89e3\u6790\u5668\n    participant Tok as \u5206\u8bcd\u5668\n    participant E as \u7f16\u7801\u5668\n    participant C as \u6761\u4ef6\u8f93\u51fa\n\n    T->>P: \u539f\u59cb\u6587\u672c\n    P->>P: \u8f6c\u4e49\u7279\u6b8a\u5b57\u7b26\n    P->>W: \u5904\u7406\u540e\u6587\u672c\n    W->>W: \u89e3\u6790\u62ec\u53f7\u6743\u91cd\n    W->>Tok: \u6743\u91cd\u6807\u8bb0\u5bf9\n    Tok->>Tok: \u5206\u8bcd\u5904\u7406\n    Tok->>E: Token\u5e8f\u5217\n    E->>E: \u5d4c\u5165\u7f16\u7801\n    E->>C: \u6761\u4ef6\u5411\u91cf\n"})}),"\n",(0,d.jsx)(n.h3,{id:"2-\u591a\u7f16\u7801\u5668\u878d\u5408\u673a\u5236",children:"2. \u591a\u7f16\u7801\u5668\u878d\u5408\u673a\u5236"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'# SDXL\u7f16\u7801\u5668\u878d\u5408\u793a\u4f8b\ndef encode_token_weights(self, token_weight_pairs):\n    token_weight_pairs_g = token_weight_pairs["g"]\n    token_weight_pairs_l = token_weight_pairs["l"]\n\n    g_out, g_pooled = self.clip_g.encode_token_weights(token_weight_pairs_g)\n    l_out, l_pooled = self.clip_l.encode_token_weights(token_weight_pairs_l)\n\n    # \u5bf9\u9f50\u5e8f\u5217\u957f\u5ea6\n    cut_to = min(l_out.shape[1], g_out.shape[1])\n\n    # \u62fc\u63a5\u7f16\u7801\u7ed3\u679c\n    combined = torch.cat([l_out[:,:cut_to], g_out[:,:cut_to]], dim=-1)\n\n    return combined, g_pooled\n'})}),"\n",(0,d.jsx)(n.h3,{id:"3-\u5185\u5b58\u4f18\u5316\u7b56\u7565",children:"3. \u5185\u5b58\u4f18\u5316\u7b56\u7565"}),"\n",(0,d.jsx)(n.h4,{id:"\u6279\u5904\u7406\u4f18\u5316",children:"\u6279\u5904\u7406\u4f18\u5316"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"def batch_encode_optimization(texts, clip_model):\n    # \u6309\u957f\u5ea6\u5206\u7ec4\n    grouped_texts = group_by_length(texts)\n\n    results = []\n    for group in grouped_texts:\n        # \u6279\u91cf\u5904\u7406\u76f8\u4f3c\u957f\u5ea6\u7684\u6587\u672c\n        batch_tokens = [clip_model.tokenize(text) for text in group]\n        batch_encodings = clip_model.encode_batch(batch_tokens)\n        results.extend(batch_encodings)\n\n    return results\n"})}),"\n",(0,d.jsx)(n.h4,{id:"\u7f13\u5b58\u673a\u5236",children:"\u7f13\u5b58\u673a\u5236"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"class TextEncodingCache:\n    def __init__(self, max_size=1000):\n        self.cache = {}\n        self.max_size = max_size\n\n    def get_encoding(self, text_hash):\n        return self.cache.get(text_hash)\n\n    def store_encoding(self, text_hash, encoding):\n        if len(self.cache) >= self.max_size:\n            # LRU\u6e05\u7406\u7b56\u7565\n            self.cache.pop(next(iter(self.cache)))\n        self.cache[text_hash] = encoding\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u8c03\u8bd5\u548c\u6545\u969c\u6392\u9664",children:"\u8c03\u8bd5\u548c\u6545\u969c\u6392\u9664"}),"\n",(0,d.jsx)(n.h3,{id:"\u5e38\u89c1\u7f16\u7801\u95ee\u9898\u8bca\u65ad",children:"\u5e38\u89c1\u7f16\u7801\u95ee\u9898\u8bca\u65ad"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-mermaid",children:"flowchart TD\n    A[\u7f16\u7801\u95ee\u9898] --\x3e B{\u95ee\u9898\u7c7b\u578b}\n\n    B --\x3e|\u8f93\u51fa\u5f02\u5e38| C[\u68c0\u67e5\u6587\u672c\u683c\u5f0f]\n    B --\x3e|\u6743\u91cd\u65e0\u6548| D[\u9a8c\u8bc1\u6743\u91cd\u8bed\u6cd5]\n    B --\x3e|\u5d4c\u5165\u8bcd\u5931\u8d25| E[\u68c0\u67e5\u5d4c\u5165\u6587\u4ef6]\n    B --\x3e|\u5185\u5b58\u9519\u8bef| F[\u4f18\u5316\u6587\u672c\u957f\u5ea6]\n\n    C --\x3e C1[\u68c0\u67e5\u7279\u6b8a\u5b57\u7b26]\n    C --\x3e C2[\u9a8c\u8bc1\u7f16\u7801\u683c\u5f0f]\n    C --\x3e C3[\u786e\u8ba4\u6587\u672c\u957f\u5ea6]\n\n    D --\x3e D1[\u62ec\u53f7\u914d\u5bf9\u68c0\u67e5]\n    D --\x3e D2[\u6743\u91cd\u6570\u503c\u9a8c\u8bc1]\n    D --\x3e D3[\u8bed\u6cd5\u683c\u5f0f\u786e\u8ba4]\n\n    E --\x3e E1[\u6587\u4ef6\u8def\u5f84\u68c0\u67e5]\n    E --\x3e E2[\u6587\u4ef6\u683c\u5f0f\u9a8c\u8bc1]\n    E --\x3e E3[\u6743\u9650\u95ee\u9898\u6392\u67e5]\n\n    F --\x3e F1[\u5206\u5272\u957f\u6587\u672c]\n    F --\x3e F2[\u51cf\u5c11\u6743\u91cd\u590d\u6742\u5ea6]\n    F --\x3e F3[\u4f7f\u7528\u6279\u5904\u7406]\n"})}),"\n",(0,d.jsx)(n.h3,{id:"\u6027\u80fd\u76d1\u63a7\u6307\u6807",children:"\u6027\u80fd\u76d1\u63a7\u6307\u6807"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:"\u6307\u6807"}),(0,d.jsx)(n.th,{children:"\u6b63\u5e38\u8303\u56f4"}),(0,d.jsx)(n.th,{children:"\u5f02\u5e38\u8868\u73b0"}),(0,d.jsx)(n.th,{children:"\u4f18\u5316\u5efa\u8bae"})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"\u7f16\u7801\u65f6\u95f4"})}),(0,d.jsx)(n.td,{children:"<2\u79d2"}),(0,d.jsx)(n.td,{children:">5\u79d2"}),(0,d.jsx)(n.td,{children:"\u51cf\u5c11\u6587\u672c\u957f\u5ea6\uff0c\u4f18\u5316\u6743\u91cd"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"\u5185\u5b58\u4f7f\u7528"})}),(0,d.jsx)(n.td,{children:"<2GB"}),(0,d.jsx)(n.td,{children:">4GB"}),(0,d.jsx)(n.td,{children:"\u542f\u7528\u6279\u5904\u7406\uff0c\u6e05\u7406\u7f13\u5b58"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"Token\u6570\u91cf"})}),(0,d.jsx)(n.td,{children:"<77(SD1.5)"}),(0,d.jsx)(n.td,{children:"\u622a\u65ad\u8b66\u544a"}),(0,d.jsx)(n.td,{children:"\u7b80\u5316\u63cf\u8ff0\uff0c\u5206\u79bb\u63d0\u793a"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.strong,{children:"\u6743\u91cd\u590d\u6742\u5ea6"})}),(0,d.jsx)(n.td,{children:"<20\u4e2a\u6743\u91cd"}),(0,d.jsx)(n.td,{children:"\u89e3\u6790\u9519\u8bef"}),(0,d.jsx)(n.td,{children:"\u7b80\u5316\u6743\u91cd\u7ed3\u6784"})]})]})]}),"\n",(0,d.jsx)(n.h2,{id:"\u5b9e\u9645\u5e94\u7528\u6848\u4f8b",children:"\u5b9e\u9645\u5e94\u7528\u6848\u4f8b"}),"\n",(0,d.jsx)(n.h3,{id:"1-\u4eba\u50cf\u6444\u5f71\u98ce\u683c",children:"1. \u4eba\u50cf\u6444\u5f71\u98ce\u683c"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"# \u6b63\u5411\u63d0\u793a\n(professional portrait photography:1.3), beautiful woman,\n(detailed face:1.2), (perfect eyes:1.1), natural makeup,\n(soft studio lighting:1.2), (shallow depth of field:1.1),\n85mm lens, (photorealistic:1.2)\n\n# \u8d1f\u5411\u63d0\u793a\n(amateur photography:1.2), harsh lighting, deep focus,\nwide angle distortion, [heavy makeup:0.8]\n"})}),"\n",(0,d.jsx)(n.h3,{id:"2-\u827a\u672f\u7ed8\u753b\u98ce\u683c",children:"2. \u827a\u672f\u7ed8\u753b\u98ce\u683c"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"# \u6b63\u5411\u63d0\u793a\n(oil painting:1.4), (classical art:1.3), portrait of a woman,\n(renaissance style:1.2), (detailed brushwork:1.1),\nwarm color palette, (masterpiece:1.3)\n\n# \u8d1f\u5411\u63d0\u793a\n(digital art:1.2), (modern style:1.1), flat colors,\nsimple shading, [photographic:0.7]\n"})}),"\n",(0,d.jsx)(n.h3,{id:"3-\u52a8\u6f2b\u63d2\u753b\u98ce\u683c",children:"3. \u52a8\u6f2b\u63d2\u753b\u98ce\u683c"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"# \u6b63\u5411\u63d0\u793a\n(anime:1.3), (manga style:1.2), 1girl, beautiful detailed eyes,\n(detailed face:1.1), long hair, (colorful:1.1),\n(high quality illustration:1.2)\n\n# \u8d1f\u5411\u63d0\u793a\n(realistic:1.3), (photographic:1.2), 3D render,\nwestern cartoon, [simple art:0.8]\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"CLIPTextEncode"}),"\u662fComfyUI\u6587\u672c\u5230\u56fe\u50cf\u751f\u6210\u6d41\u7a0b\u7684\u5173\u952e\u8282\u70b9\uff0c\u5b83\uff1a"]}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u6838\u5fc3\u529f\u80fd"}),": \u5c06\u81ea\u7136\u8bed\u8a00\u8f6c\u6362\u4e3a\u6a21\u578b\u53ef\u7406\u89e3\u7684\u6570\u503c\u8868\u793a"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u7075\u6d3b\u8bed\u6cd5"}),": \u652f\u6301\u4e30\u5bcc\u7684\u6743\u91cd\u8c03\u6574\u548c\u5d4c\u5165\u8bcd\u8bed\u6cd5"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u591a\u67b6\u6784\u652f\u6301"}),": \u9002\u914d\u4e0d\u540c\u6a21\u578b\u7684\u7f16\u7801\u5668\u914d\u7f6e"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u6027\u80fd\u4f18\u5316"}),": \u667a\u80fd\u7f13\u5b58\u548c\u6279\u5904\u7406\u673a\u5236"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"\u6269\u5c55\u6027\u5f3a"}),": \u4e3a\u4e0d\u540c\u6a21\u578b\u63d0\u4f9b\u4e13\u7528\u53d8\u4f53"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u7406\u89e3CLIPTextEncode\u7684\u5de5\u4f5c\u539f\u7406\u5bf9\u4e8e\u638c\u63e1\u63d0\u793a\u8bcd\u5de5\u7a0b\u548c\u4f18\u5316\u751f\u6210\u6548\u679c\u81f3\u5173\u91cd\u8981\u3002\u901a\u8fc7\u5408\u7406\u4f7f\u7528\u6743\u91cd\u8bed\u6cd5\u3001\u9009\u62e9\u5408\u9002\u7684\u7f16\u7801\u5668\u53d8\u4f53\uff0c\u7528\u6237\u53ef\u4ee5\u7cbe\u786e\u63a7\u5236AI\u56fe\u50cf\u751f\u6210\u7684\u65b9\u5411\u548c\u8d28\u91cf\u3002"}),"\n",(0,d.jsx)(n.h2,{id:"\u76f8\u5173\u8d44\u6e90",children:"\u76f8\u5173\u8d44\u6e90"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://arxiv.org/abs/2103.00020",children:"CLIP\u8bba\u6587"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://docs.comfy.org/essentials/prompting",children:"\u63d0\u793a\u8bcd\u5de5\u7a0b\u6307\u5357"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://github.com/comfyanonymous/ComfyUI/wiki/Prompt-Syntax",children:"\u6743\u91cd\u8bed\u6cd5\u6587\u6863"})}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://docs.comfy.org/tutorials/embeddings",children:"\u5d4c\u5165\u8bcd\u8bad\u7ec3\u6559\u7a0b"})}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(o,{...e})}):o(e)}}}]);