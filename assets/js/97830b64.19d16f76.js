"use strict";(self.webpackChunknotes_3=self.webpackChunknotes_3||[]).push([[6292],{42080:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>i,default:()=>h,frontMatter:()=>d,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"AI/Agno/\u5411\u91cf\u5b58\u50a8/Chroma","title":"ChromaDB\u4ee3\u7406\u77e5\u8bc6\u5e93","description":"\u5982\u4f55\u4f7f\u7528ChromaDB\u4f5c\u4e3aAgno\u4ee3\u7406\u7684\u5411\u91cf\u6570\u636e\u5e93","source":"@site/docs/AI/Agno/\u5411\u91cf\u5b58\u50a8/Chroma.mdx","sourceDirName":"AI/Agno/\u5411\u91cf\u5b58\u50a8","slug":"/AI/Agno/\u5411\u91cf\u5b58\u50a8/Chroma","permalink":"/notes3/docs/AI/Agno/\u5411\u91cf\u5b58\u50a8/Chroma","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/AI/Agno/\u5411\u91cf\u5b58\u50a8/Chroma.mdx","tags":[],"version":"current","frontMatter":{"title":"ChromaDB\u4ee3\u7406\u77e5\u8bc6\u5e93","description":"\u5982\u4f55\u4f7f\u7528ChromaDB\u4f5c\u4e3aAgno\u4ee3\u7406\u7684\u5411\u91cf\u6570\u636e\u5e93"},"sidebar":"ai","previous":{"title":"\u63a8\u7406\u4ecb\u7ecd","permalink":"/notes3/docs/AI/Agno/reasoning-introduction"},"next":{"title":"\u4ecb\u7ecd","permalink":"/notes3/docs/AI/Agno/\u56e2\u961f/\u4ecb\u7ecd"}}');var s=r(23420),t=r(54213);const d={title:"ChromaDB\u4ee3\u7406\u77e5\u8bc6\u5e93",description:"\u5982\u4f55\u4f7f\u7528ChromaDB\u4f5c\u4e3aAgno\u4ee3\u7406\u7684\u5411\u91cf\u6570\u636e\u5e93"},i="ChromaDB\u4ee3\u7406\u77e5\u8bc6",a={},c=[{value:"\u8bbe\u7f6e",id:"\u8bbe\u7f6e",level:2},{value:"\u793a\u4f8b",id:"\u793a\u4f8b",level:2},{value:"\u5f02\u6b65\u652f\u6301 \u26a1",id:"\u5f02\u6b65\u652f\u6301-",level:2},{value:"ChromaDb\u53c2\u6570",id:"chromadb\u53c2\u6570",level:2},{value:"\u5f00\u53d1\u8005\u8d44\u6e90",id:"\u5f00\u53d1\u8005\u8d44\u6e90",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"chromadb\u4ee3\u7406\u77e5\u8bc6",children:"ChromaDB\u4ee3\u7406\u77e5\u8bc6"})}),"\n",(0,s.jsx)(n.h2,{id:"\u8bbe\u7f6e",children:"\u8bbe\u7f6e"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pip install chromadb\n"})}),"\n",(0,s.jsx)(n.h2,{id:"\u793a\u4f8b",children:"\u793a\u4f8b"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'import typer\nfrom rich.prompt import Prompt\nfrom typing import Optional\n\nfrom agno.agent import Agent\nfrom agno.knowledge.pdf_url import PDFUrlKnowledgeBase\nfrom agno.vectordb.chroma import ChromaDb\n\nknowledge_base = PDFUrlKnowledgeBase(\n    urls=["https://agno-public.s3.amazonaws.com/recipes/ThaiRecipes.pdf"],\n    vector_db=ChromaDb(collection="recipes"),\n)\n\ndef pdf_agent(user: str = "user"):\n    run_id: Optional[str] = None\n\n    agent = Agent(\n        run_id=run_id,\n        user_id=user,\n        knowledge_base=knowledge_base,\n        use_tools=True,\n        show_tool_calls=True,\n        debug_mode=True,\n    )\n    if run_id is None:\n        run_id = agent.run_id\n        print(f"Started Run: {run_id}\\n")\n    else:\n        print(f"Continuing Run: {run_id}\\n")\n\n    while True:\n        message = Prompt.ask(f"[bold] :sunglasses: {user} [/bold]")\n        if message in ("exit", "bye"):\n            break\n        agent.print_response(message)\n\nif __name__ == "__main__":\n    # \u9996\u6b21\u8fd0\u884c\u540e\u6ce8\u91ca\u6389\n    knowledge_base.load(recreate=False)\n\n    typer.run(pdf_agent)\n'})}),"\n",(0,s.jsx)(n.h2,{id:"\u5f02\u6b65\u652f\u6301-",children:"\u5f02\u6b65\u652f\u6301 \u26a1"}),"\n",(0,s.jsx)(n.p,{children:"ChromaDB\u8fd8\u652f\u6301\u5f02\u6b65\u64cd\u4f5c\uff0c\u5b9e\u73b0\u5e76\u53d1\u5e76\u5e26\u6765\u66f4\u597d\u7684\u6027\u80fd\u3002"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'# \u5b89\u88c5chromadb - `pip install chromadb`\n\nimport asyncio\n\nfrom agno.agent import Agent\nfrom agno.knowledge.pdf_url import PDFUrlKnowledgeBase\nfrom agno.vectordb.chroma import ChromaDb\n\n# \u521d\u59cb\u5316ChromaDB\nvector_db = ChromaDb(collection="recipes", path="tmp/chromadb", persistent_client=True)\n\n# \u521b\u5efa\u77e5\u8bc6\u5e93\nknowledge_base = PDFUrlKnowledgeBase(\n    urls=["https://agno-public.s3.amazonaws.com/recipes/ThaiRecipes.pdf"],\n    vector_db=vector_db,\n)\n\n# \u521b\u5efa\u5e76\u4f7f\u7528\u4ee3\u7406\nagent = Agent(knowledge=knowledge_base, show_tool_calls=True)\n\nif __name__ == "__main__":\n    # \u9996\u6b21\u8fd0\u884c\u540e\u6ce8\u91ca\u6389\n    asyncio.run(knowledge_base.aload(recreate=False))\n\n    # \u521b\u5efa\u5e76\u4f7f\u7528\u4ee3\u7406\n    asyncio.run(agent.aprint_response("How to make Tom Kha Gai", markdown=True))\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u5728\u9ad8\u541e\u5410\u91cf\u5e94\u7528\u4e2d\uff0c\u4f7f\u7528",(0,s.jsx)(n.code,{children:"aload()"}),"\u548c",(0,s.jsx)(n.code,{children:"aprint_response()"}),"\u65b9\u6cd5\u4e0e",(0,s.jsx)(n.code,{children:"asyncio.run()"}),"\u8fdb\u884c\u975e\u963b\u585e\u64cd\u4f5c\u3002"]}),"\n",(0,s.jsx)(n.h2,{id:"chromadb\u53c2\u6570",children:"ChromaDb\u53c2\u6570"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"\u53c2\u6570"}),(0,s.jsx)(n.th,{children:"\u7c7b\u578b"}),(0,s.jsx)(n.th,{children:"\u9ed8\u8ba4\u503c"}),(0,s.jsx)(n.th,{children:"\u63cf\u8ff0"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"collection"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"str"})}),(0,s.jsx)(n.td,{children:"-"}),(0,s.jsx)(n.td,{children:"\u8981\u4f7f\u7528\u7684\u96c6\u5408\u540d\u79f0\u3002"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"embedder"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Embedder"})}),(0,s.jsx)(n.td,{children:"OpenAIEmbedder()"}),(0,s.jsx)(n.td,{children:"\u7528\u4e8e\u5d4c\u5165\u6587\u6863\u5185\u5bb9\u7684\u5d4c\u5165\u5668\u3002"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"distance"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Distance"})}),(0,s.jsx)(n.td,{children:"cosine"}),(0,s.jsx)(n.td,{children:"\u8981\u4f7f\u7528\u7684\u8ddd\u79bb\u5ea6\u91cf\u3002"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"path"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"str"})}),(0,s.jsx)(n.td,{children:'"tmp/chromadb"'}),(0,s.jsx)(n.td,{children:"\u5b58\u50a8ChromaDB\u6570\u636e\u7684\u8def\u5f84\u3002"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"persistent_client"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"bool"})}),(0,s.jsx)(n.td,{children:"False"}),(0,s.jsx)(n.td,{children:"\u662f\u5426\u4f7f\u7528\u6301\u4e45\u5316ChromaDB\u5ba2\u6237\u7aef\u3002"})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"\u5f00\u53d1\u8005\u8d44\u6e90",children:"\u5f00\u53d1\u8005\u8d44\u6e90"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u67e5\u770b",(0,s.jsx)(n.a,{href:"https://github.com/agno-agi/agno/blob/main/cookbook/agent_concepts/knowledge/vector_dbs/chroma_db/chroma_db.py",children:"Cookbook (\u540c\u6b65)"})]}),"\n",(0,s.jsxs)(n.li,{children:["\u67e5\u770b",(0,s.jsx)(n.a,{href:"https://github.com/agno-agi/agno/blob/main/cookbook/agent_concepts/knowledge/vector_dbs/chroma_db/async_chroma_db.py",children:"Cookbook (\u5f02\u6b65)"})]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},54213:(e,n,r)=>{r.d(n,{R:()=>d,x:()=>i});var o=r(36672);const s={},t=o.createContext(s);function d(e){const n=o.useContext(t);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),o.createElement(t.Provider,{value:n},e.children)}}}]);