---
sidebar_position: 7
---

既然你已经初步尝试了 Godot，现在让我们聊聊它的设计。

**每个游戏引擎都是不同的，适用于不同的需求。** 它们不仅提供一系列不同的特性，其设计也各具特色。这导致了不同的工作流程和构建游戏结构的不同方式。而这一切都源于它们各自的设计理念。

本页旨在帮助你理解 Godot 的工作原理，从它的一些核心支柱开始。这既不是一份可用特性列表，也不是引擎对比。要了解某个引擎是否适合你的项目，你需要亲自尝试，并理解其设计和局限性。

如果你想了解引擎特性的概览，请观看视频：[7 分钟了解 Godot](https://www.youtube.com/watch?v=yS9cuu5o5Ug)。

## 面向对象设计与组合 (Object-oriented design and composition)

Godot 的核心采用面向对象设计，拥有灵活的场景系统和节点层次结构。它试图摆脱严苛的编程模式，以提供一种直观的方式来组织你的游戏。

首先，Godot 允许你 **组合或聚合** 场景。这就像嵌套的预制件 (nested prefabs)：你可以创建一个 `BlinkingLight`（闪烁灯）场景，然后创建一个使用 `BlinkingLight` 的 `BrokenLantern`（破旧灯笼）场景。接着，你可以创建一个充满 `BrokenLantern` 的城市。更改 `BlinkingLight` 的颜色并保存，城市中所有的 `BrokenLantern` 都会立即更新。

最重要的是，你可以从任何场景进行 **继承**。

一个 Godot 场景可以是一个武器、一个角色、一个道具、一扇门、一个关卡，或者是关卡的一部分……任何你想要的东西。它就像纯代码中的类一样工作，不同之处在于你可以自由选择使用编辑器设计它、仅使用代码设计，或者两者混合。

这与你在一些 3D 引擎中看到的预制件不同，因为你可以继承并扩展这些场景。你可以创建一个继承自 `Character`（角色）的 `Magician`（魔法师）。在编辑器中修改 `Character`，`Magician` 也会随之更新。这有助于你构建项目，使其结构与游戏设计相匹配。

![Engine Design 01](https://docs.godotengine.org/en/stable/_images/engine_design_01.png)

另外请注意，Godot 提供了许多不同类型的对象，称为 “节点”，每个节点都有特定的用途。节点是树的一部分，始终继承其父类，一直追溯到 `Node` 类。尽管引擎确实包含一些节点（如父物理体将使用的碰撞形状），但大多数节点都是独立工作的。

换句话说，Godot 的节点并不像其他一些游戏引擎中的组件 (components) 那样工作。

![Engine Design 02](https://docs.godotengine.org/en/stable/_images/engine_design_02.png)

`Sprite2D` 既是一个 `Node2D`，也是一个 `CanvasItem` 和一个 `Node`。它拥有这三个父类的所有属性和特性，比如变换 (transforms)，或者绘制自定义形状以及使用自定义着色器 (shader) 进行渲染的能力。

## 全能软件包 (All-inclusive package)

Godot 试图提供自己的工具来满足大多数常见需求。它拥有专门的脚本工作区、动画编辑器、图块地图 (tilemap) 编辑器、着色器编辑器、调试器、分析器，以及在本地和远程设备上热重载的能力等。

![Engine Design 03](https://docs.godotengine.org/en/stable/_images/engine_design_03.png)

目标是提供一个完整的游戏创作包和连续的用户体验。你仍然可以使用外部程序，只要 Godot 中有对应的导入插件即可。

这也是 Godot 除了 C# 之外还提供自研编程语言 GDScript 的部分原因。GDScript 是为游戏开发者和游戏设计师的需求而设计的，并与引擎和编辑器紧密集成。

GDScript 允许你使用基于缩进的语法编写代码，但它能检测类型并提供静态语言级别的自动补全。它还针对游戏逻辑代码进行了优化，内置了 `Vector` 和 `Color` 等类型。

请注意，通过 GDExtension，你可以使用 C、C++、Rust、D、Haxe 或 Swift 等编译语言编写高性能代码，而无需重新编译引擎。

另外请注意，3D 工作区的工具并没有 2D 工作区那么多。你可能需要外部程序或插件来编辑地形、为复杂角色制作动画等。Godot 提供了一套完整的 API，可以使用游戏代码来扩展编辑器的功能。请参阅下方的 [Godot 编辑器本身就是一个 Godot 游戏](#godot-编辑器本身就是一个-godot-游戏)。

## 开源 (Open source)

Godot 在 **MIT 许可证** 下提供完全开源的源代码。这意味着任何人都可以免费下载、使用、修改或分享这些代码，只要保留其许可证文件即可。

随 Godot 发布的所有技术，包括第三方库，在法律上必须与此开源许可证兼容。因此，Godot 的大部分内容都是由社区贡献者从零开始开发的。

任何人都可以根据项目需求接入专有工具——它们只是不会随引擎一起发布。这可能包括 Google AdMob 或 FMOD。这些都可以作为第三方插件提供。

另一方面，开源的代码库意味着你可以尽情地 **学习并扩展引擎**。你还可以轻松地调试游戏，因为即使错误来自引擎本身，Godot 也会打印带有堆栈跟踪 (stack trace) 的错误信息。

> **注意**
>
> 这 **不会以任何方式影响你使用 Godot 所做的工作**：引擎本身或你用它制作的任何东西都没有任何附加限制。

## 社区驱动 (Community-driven)

**Godot 由社区开发，为社区服务，并服务于所有的游戏创作者。** 是用户的需求和公开讨论驱动着核心更新。核心开发者的工作重心通常会放在能让大多数用户受益的特性上。

话虽如此，虽然只有少数核心开发者全职参与开发，但截至目前，该项目已有数千名贡献者。志同道合的程序员们会开发自己需要的特性，因此你在每一个大版本中都能看到引擎各个角落的改进。

## Godot 编辑器本身就是一个 Godot 游戏 (The Godot editor is a Godot game)

Godot 编辑器运行在游戏引擎之上。它使用引擎自有的 UI 系统，在你测试项目时可以热重载代码和场景，或者在编辑器中运行游戏代码。这意味着你可以 **使用相同的代码** 和场景来开发游戏，或者 **构建插件并扩展编辑器。**

这造就了一个可靠且灵活的 UI 系统，因为它驱动着编辑器本身。通过 `@tool` 注解，你可以在编辑器中运行任何游戏代码。

![RPG in a Box](https://docs.godotengine.org/en/stable/_images/introduction_rpg_in_a_box.webp)

*RPG in a Box 是一款使用 Godot 制作的体素 RPG 编辑器。它在基于节点的编程系统和其余界面中使用了 Godot 的 UI 工具。*

在任何 GDScript 文件的顶部添加 `@tool` 注解，它就会在编辑器中运行。这让你能够导入和导出插件，创建类似自定义关卡编辑器的插件，或者使用与你在项目中所用的相同节点和 API 来创建脚本。

> **注意**
>
> 编辑器完全由 C++ 编写并静态编译到二进制文件中。这意味着你不能像导入带有 `project.godot` 文件的典型项目那样导入它。

## 独立的 2D 和 3D 引擎 (Separate 2D and 3D engines)

Godot 提供专门的 2D 和 3D 渲染引擎。因此，**2D 场景的基础单位是像素。** 尽管两个引擎是分开的，但你可以在 3D 中渲染 2D，在 2D 中渲染 3D，以及在 3D 世界之上叠加 2D 精灵 (sprites) 和界面。
