<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-AI/MCP/MCP开发实战手册：SSE、STDIO、Tool、Resource一次搞懂" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">MCP开发实战手册：SSE、STDIO、Tool、Resource一次搞懂 | Cruldra</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-site.example.com/notes3/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-site.example.com/notes3/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-site.example.com/notes3/docs/AI/MCP/MCP开发实战手册：SSE、STDIO、Tool、Resource一次搞懂"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="MCP开发实战手册：SSE、STDIO、Tool、Resource一次搞懂 | Cruldra"><meta data-rh="true" name="description" content="原文链接：https://oalieno.tw/posts/mcp"><meta data-rh="true" property="og:description" content="原文链接：https://oalieno.tw/posts/mcp"><link data-rh="true" rel="icon" href="/notes3/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-site.example.com/notes3/docs/AI/MCP/MCP开发实战手册：SSE、STDIO、Tool、Resource一次搞懂"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/notes3/docs/AI/MCP/MCP开发实战手册：SSE、STDIO、Tool、Resource一次搞懂" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/notes3/docs/AI/MCP/MCP开发实战手册：SSE、STDIO、Tool、Resource一次搞懂" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"MCP开发实战手册：SSE、STDIO、Tool、Resource一次搞懂","item":"https://your-docusaurus-site.example.com/notes3/docs/AI/MCP/MCP开发实战手册：SSE、STDIO、Tool、Resource一次搞懂"}]}</script><link rel="alternate" type="application/rss+xml" href="/notes3/blog/rss.xml" title="Cruldra RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/notes3/blog/atom.xml" title="Cruldra Atom Feed"><link rel="stylesheet" href="/notes3/assets/css/styles.f3dc2d00.css">
<script src="/notes3/assets/js/runtime~main.bf1ebb8b.js" defer="defer"></script>
<script src="/notes3/assets/js/main.84cd95f1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),document.documentElement.setAttribute("data-theme-choice","system"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/notes3/img/logo.svg"><style data-mantine-styles="classes">@media (max-width: 35.99375em) {.mantine-visible-from-xs {display: none !important;}}@media (min-width: 36em) {.mantine-hidden-from-xs {display: none !important;}}@media (max-width: 47.99375em) {.mantine-visible-from-sm {display: none !important;}}@media (min-width: 48em) {.mantine-hidden-from-sm {display: none !important;}}@media (max-width: 61.99375em) {.mantine-visible-from-md {display: none !important;}}@media (min-width: 62em) {.mantine-hidden-from-md {display: none !important;}}@media (max-width: 74.99375em) {.mantine-visible-from-lg {display: none !important;}}@media (min-width: 75em) {.mantine-hidden-from-lg {display: none !important;}}@media (max-width: 87.99375em) {.mantine-visible-from-xl {display: none !important;}}@media (min-width: 88em) {.mantine-hidden-from-xl {display: none !important;}}</style><div role="region" aria-label="Skip to main content"><a class="skipToContent_kJiJ" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/notes3/"><div class="navbar__logo"><img src="/notes3/img/logo.svg" alt="My Site Logo" class="themedComponent_NrnZ themedComponent--light_kIco"><img src="/notes3/img/logo.svg" alt="My Site Logo" class="themedComponent_NrnZ themedComponent--dark_HCTy"></div><b class="navbar__title text--truncate">Cruldra</b></a><a class="navbar__item navbar__link" href="/notes3/docs/category/设计模式">JVM</a><a class="navbar__item navbar__link" href="/notes3/docs/category/css">前端</a><a class="navbar__item navbar__link" href="/notes3/docs/category/astrbot">工具</a><a class="navbar__item navbar__link" href="/notes3/docs/category/ai电竞酒店">个人</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/notes3/docs/AI/Agno/介绍">AI</a><a class="navbar__item navbar__link" href="/notes3/docs/category/内置模块">Python</a><a class="navbar__item navbar__link" href="/notes3/docs/category/actix-web">Rust</a><a class="navbar__item navbar__link" href="/notes3/docs/category/数据库系统">软件工程</a><a class="navbar__item navbar__link" href="/notes3/docs/category/上古卷轴5">游戏</a><a class="navbar__item navbar__link" href="/notes3/docs/Go/Go-Python-Java三语言全方位对比">Go</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_V3q0"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_YMCn"><div class="docsWrapper_UDzO"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_OA9t" type="button"></button><div class="docRoot_zblS"><aside class="theme-doc-sidebar-container docSidebarContainer_utvl"><div class="sidebarViewport_uicj"><div class="sidebar_wSJP"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_xz03"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OIbK menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/AI/Agno/介绍"><span title="Agno" class="categoryLinkLabel_5XjO">Agno</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/AI/DALLE成本计算"><span title="DALL-E 画图成本计算" class="linkLabel_VeW_">DALL-E 画图成本计算</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_OIbK menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/notes3/docs/AI/MCP/MCP-Python-SDK"><span title="MCP" class="categoryLinkLabel_5XjO">MCP</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/AI/MCP/MCP-Python-SDK"><span title="MCP Python SDK" class="linkLabel_VeW_">MCP Python SDK</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/notes3/docs/AI/MCP/MCP开发实战手册：SSE、STDIO、Tool、Resource一次搞懂"><span title="MCP开发实战手册：SSE、STDIO、Tool、Resource一次搞懂" class="linkLabel_VeW_">MCP开发实战手册：SSE、STDIO、Tool、Resource一次搞懂</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/AI/MCP/什么是MCP以及为什么你应该关注它"><span title="什么是MCP以及为什么你应该关注它" class="linkLabel_VeW_">什么是MCP以及为什么你应该关注它</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/AI/MCP/以人为本的设计：交互式AI系统"><span title="以人为本的设计：交互式AI系统" class="linkLabel_VeW_">以人为本的设计：交互式AI系统</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/AI/MCP/模型上下文协议MCP及其工作原理"><span title="模型上下文协议(MCP)是什么及其工作原理" class="linkLabel_VeW_">模型上下文协议(MCP)是什么及其工作原理</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/AI/Transformer"><span title="Transformer" class="linkLabel_VeW_">Transformer</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OIbK menu__link menu__link--sublist" href="/notes3/docs/AI/vllm/"><span title="vLLM 学习资料" class="categoryLinkLabel_5XjO">vLLM 学习资料</span></a><button aria-label="Expand sidebar category &#x27;vLLM 学习资料&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/AI/一些概念1"><span title="一些概念1" class="linkLabel_VeW_">一些概念1</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/AI/一些概念2"><span title="一些概念2" class="linkLabel_VeW_">一些概念2</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/AI/一些概念3"><span title="一些概念3" class="linkLabel_VeW_">一些概念3</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/AI/一些概念4"><span title="一些概念4" class="linkLabel_VeW_">一些概念4</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/AI/一些概念5"><span title="一些概念5" class="linkLabel_VeW_">一些概念5</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/AI/候选模型"><span title="候选模型" class="linkLabel_VeW_">候选模型</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/AI/变分自编码器详解"><span title="变分自编码器（VAE）详解" class="linkLabel_VeW_">变分自编码器（VAE）详解</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/AI/大模型核心概念通俗解释"><span title="大模型核心概念通俗解释" class="linkLabel_VeW_">大模型核心概念通俗解释</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/AI/大模型训练中的随机种子：为什么需要它？"><span title="大模型训练中的随机种子：为什么需要它？" class="linkLabel_VeW_">大模型训练中的随机种子：为什么需要它？</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OIbK menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/AI/嵌入和向量/Chroma与PGVector对比"><span title="嵌入和向量" class="categoryLinkLabel_5XjO">嵌入和向量</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/AI/感知机"><span title="感知机" class="linkLabel_VeW_">感知机</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/AI/智能体"><span title="智能体(Agent)" class="linkLabel_VeW_">智能体(Agent)</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OIbK menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/AI/深度学习/入门"><span title="深度学习" class="categoryLinkLabel_5XjO">深度学习</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/AI/理解大模型：从函数视角看AI的本质"><span title="理解大模型：从函数视角看AI的本质" class="linkLabel_VeW_">理解大模型：从函数视角看AI的本质</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/AI/知识蒸馏"><span title="知识蒸馏" class="linkLabel_VeW_">知识蒸馏</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/AI/联邦学习概念"><span title="联邦学习概念" class="linkLabel_VeW_">联邦学习概念</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OIbK menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/AI/通义千问/阿里云百炼"><span title="通义千问" class="categoryLinkLabel_5XjO">通义千问</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/AI/金丝雀发布和AB测试"><span title="金丝雀发布和AB测试" class="linkLabel_VeW_">金丝雀发布和AB测试</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_e2u6"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_y0g3"><div class="docItemContainer_PZbB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_I1XV" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/notes3/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_ZIEp"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">MCP</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">MCP开发实战手册：SSE、STDIO、Tool、Resource一次搞懂</span></li></ul></nav><div class="tocCollapsible_UUJj theme-doc-toc-mobile tocMobile_b9MH"><button type="button" class="clean-btn tocCollapsibleButton_zQap">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>MCP开发实战手册：SSE、STDIO、Tool、Resource一次搞懂</h1></header><blockquote>
<p>原文链接：<a href="https://oalieno.tw/posts/mcp" target="_blank" rel="noopener noreferrer" class="">https://oalieno.tw/posts/mcp</a></p>
<p>发布时间：2025年4月6日（更新：2025年4月24日）</p>
<p>分类：计算机 • 阅读时间：14分钟</p>
</blockquote>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="mcp-到底是什么">MCP 到底是什么<a href="#mcp-到底是什么" class="hash-link" aria-label="Direct link to MCP 到底是什么" title="Direct link to MCP 到底是什么" translate="no">​</a></h2>
<p>最近 MCP 超级火，都被吹到天上去了，有人说 MCP 是 AI 领域的「USB-C 标准」，甚至有人预测它将引领下一个 AI 应用时代的到来。不过，乍看之下，MCP 不就跟原本的 function calling 干的是同一件事吗？</p>
<p>其实不然，MCP 不是想取代 function calling，MCP 实际上是把 Tool Execution 的部分从原本 function calling 的流程中抽离出来，并统一了接口。另外，不只是 Tool，MCP 总共提出了三个核心概念：Tool、Resource、Prompt，目的是把 AI Agent 常见的操作逻辑抽象成一套标准化的接口。</p>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="tool">Tool<a href="#tool" class="hash-link" aria-label="Direct link to Tool" title="Direct link to Tool" translate="no">​</a></h3>
<p>其中大家最关心的核心功能就是 Tool，Tool 是为了 function calling 所设计的通信协议。它的重点在于，把原本写在每个 LLM Client 里的「怎么调用工具」这段逻辑，抽离成一个独立的通信协议。这样开发者只需要专注在工具本身的实现，不需要再管怎么塞给每个模型怎么用。</p>
<p>为了更清楚理解这件事，我们来看看原本的 function calling 过程：</p>
<!-- -->
<p>而 MCP 的出现，最大的变化就是把 <strong>执行工具的阶段</strong> 抽离出来，改由 MCP Server 来执行，如下图：</p>
<!-- -->
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="resource">Resource<a href="#resource" class="hash-link" aria-label="Direct link to Resource" title="Direct link to Resource" translate="no">​</a></h3>
<p>再来讲 Resource。每个 Resource 都有一个唯一的 URI，MCP Client 可以通过这些 URI 访问对应的资源内容。重点来了，Resource 的使用方式是由 MCP Client 决定的，MCP Server 只是提供资源清单和数据本体，怎么用、什么时候用，完全交给 Client 自己发挥。举例来说，像 Cursor 这类工具就得自己决定要怎么把 Resource 的内容喂给 LLM 当作 context，或是通过 UI 显示给用户看，让用户选，都可以。等于是让 MCP Client 自由发挥，这也难怪目前支持 Resource 的 MCP Client 还不多 😅</p>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="prompt">Prompt<a href="#prompt" class="hash-link" aria-label="Direct link to Prompt" title="Direct link to Prompt" translate="no">​</a></h3>
<p>最后是 Prompt。Prompt 并不是像 Tool 一样「让模型主动调用」的东西，它比较像是 Prompt Template，由 MCP Client 在 UI 上显示给用户，让用户决定什么时候套用。你可以把它想象成是一些常用的提示语句封装，例如「问答模板」、「摘要格式」、「重写句子」这种固定用途的提示，方便重复使用。</p>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="mcp-设计逻辑">MCP 设计逻辑<a href="#mcp-设计逻辑" class="hash-link" aria-label="Direct link to MCP 设计逻辑" title="Direct link to MCP 设计逻辑" translate="no">​</a></h3>
<p>可以看出 MCP 的设计逻辑其实很清楚：</p>
<ul>
<li class="">Tool 是给 <strong>模型</strong> 决定什么时候用的</li>
<li class="">Resource 是给 <strong>应用（MCP Client）</strong> 决定怎么使用的</li>
<li class="">Prompt 则是让 <strong>用户</strong> 自己挑要不要用、什么时候用</li>
</ul>
<p>三种能力刚好对应三个角色 —— 模型、应用、用户 —— 各自有不同的控制权限与灵活度。</p>
<p>如果还不清楚的话，建议直接参阅 <a href="https://modelcontextprotocol.io/specification/" target="_blank" rel="noopener noreferrer" class="">官方的 spec</a>，比各种介绍文写的清楚、直接，问就是 RTFM！</p>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="2025-03-26-mcp-新标准">2025-03-26 MCP 新标准<a href="#2025-03-26-mcp-新标准" class="hash-link" aria-label="Direct link to 2025-03-26 MCP 新标准" title="Direct link to 2025-03-26 MCP 新标准" translate="no">​</a></h3>
<p>我才写好文章，MCP 就出了新版标准，主要改动 4 个部分：</p>
<ul>
<li class="">加入 OAuth 2.1 验证机制</li>
<li class="">把 SSE 换成 Streamable HTTP（Server 可以选择要不要使用 SSE，SSE 用完就关，不需要保持一个一直在线的 SSE，灵活性更高）</li>
<li class="">支持 JSON-RPC Batch</li>
<li class="">新增 Tool Annotations，能更好的描述 Tool</li>
</ul>
<p>更多请参考 <a href="https://modelcontextprotocol.io/specification/2025-03-26/changelog" target="_blank" rel="noopener noreferrer" class="">https://modelcontextprotocol.io/specification/2025-03-26/changelog</a></p>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="mcp-server-模式">MCP Server 模式<a href="#mcp-server-模式" class="hash-link" aria-label="Direct link to MCP Server 模式" title="Direct link to MCP Server 模式" translate="no">​</a></h2>
<p>初步理解 MCP 到底是在做什么之后，我们来看 MCP 通信协议的部分。
目前 MCP 协议支持 <code>STDIO</code> 和 <code>SSE</code> 两种传输模式。</p>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="stdio">STDIO<a href="#stdio" class="hash-link" aria-label="Direct link to STDIO" title="Direct link to STDIO" translate="no">​</a></h3>
<p>在 STDIO 模式下，当 LLM 决定要使用某个工具时，LLM Client 会直接执行对应的 MCP Server，将输入数据喂进该 Process 的 STDIN，然后从 STDOUT 读取结果并回传给模型。虽然名称叫 MCP Server，但在 STDIO 模式下它其实就是个本地 CLI 程序，可以参考下面这个简化的 Process Tree：</p>
<div class="language-text codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-text codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain">Process Tree:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-----</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">claude desktop (MCP Client)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    └─ npx main.js (MCP Server)</span><br></span></code></pre></div></div>
<p>MCP Client 的配置文件会指定一个 &quot;command&quot;，想跑什么就跑什么，可以包成一个 shell script，甚至可以用 docker 跑。不过一般 python 是用 <code>uvx</code> 跑，而 node.js 则是用 <code>npx</code> 跑，这我们待会再来讲讲。
比如 <a href="https://github.com/modelcontextprotocol/servers/tree/main/src/git" target="_blank" rel="noopener noreferrer" class="">mcp-server-git</a> 的配置文件就长这样：</p>
<div class="language-json codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-json codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;mcpServers&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;git&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;command&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;uv&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;args&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;--directory&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;/&lt;path to mcp-servers&gt;/mcp-servers/src/git&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;run&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token string" style="color:#e3116c">&quot;mcp-server-git&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="sse">SSE<a href="#sse" class="hash-link" aria-label="Direct link to SSE" title="Direct link to SSE" translate="no">​</a></h3>
<p>另一种模式是 SSE，当 LLM 决定要使用某个工具时，MCP Client 会发送 HTTP 请求连接到 MCP Server，这时的 Server 通常是常驻在远端、开了一个 port 的 HTTP 服务，也就是我们传统认知的 &quot;Server&quot;。</p>
<blockquote>
<p><strong>SSE 连不上请看这里</strong></p>
<p>填写配置文件的时候，记得不只要填 domain，url 后面要加上 <code>/sse</code>
用官方的 python-sdk 开发，预设是开在 <code>/sse</code> 路径</p>
</blockquote>
<div class="language-json codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-json codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;mcpServers&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;git&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;url&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;http://192.168.1.200:8000/sse&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>另外这边补充一下：SSE（Server-Sent Events）并不是 MCP 发明的新概念，它是 Web 世界中既有的标准，用来实现一种「单向的、持续的数据推送」机制。Server 可以通过一条长连线，主动推送消息给 Client，而 Client 不需要一直 Long Polling。SSE 和 WebSocket 不同，它是单向的（只有 Server → Client），也不像 Long Polling 需要频繁建立连线。对于 MCP 这种「工具执行完之后，要把结果推回去」的场景来说，使用 SSE 可谓恰到好处。</p>
<p>在 MCP 的实现里，Client 会先对 <code>/sse</code> 发出一个连线请求，建立一个长时间不中断的 stream。之后 MCP Server 执行工具时，不会立刻把结果塞进 HTTP 回应，而是走这个 SSE stream 将数据慢慢传回去。</p>
<p>比如当你调用一个 <code>List Tool</code> 的操作时，可能会先收到一个 HTTP Response 显示 <code>&quot;status&quot;: &quot;Accepted&quot;</code>（打开 F12 的你这时候可能满头问号，啊我的结果呢？），但实际的执行结果则是通过最一开始就建立的 <code>/sse</code> stream 陆续推回来的。</p>
<blockquote>
<p><strong>常见坑</strong></p>
<p>这边要特别注意的是：如果 MCP Server 中途重启了，而 MCP Client 没有重新建立 <code>/sse</code> stream，这时候当 Client 再送请求给 Server，就会发生错误。记得去 MCP Client 点一下重整之类的就好了。</p>
</blockquote>
<div class="language-text codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-text codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain">mcp-test | ERROR: Exception in ASGI application</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mcp-test | + Exception Group Traceback (most recent call last):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mcp-test | | File &quot;/root/.venv/lib/python3.11/site-packages/mcp/server/sse.py&quot;, line 131, in connect_sse</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mcp-test | | yield (read_stream, write_stream)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mcp-test | | RuntimeError: Received request before initialization was complete</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="mcp-server-开发语言与执行方式">MCP Server 开发语言与执行方式<a href="#mcp-server-开发语言与执行方式" class="hash-link" aria-label="Direct link to MCP Server 开发语言与执行方式" title="Direct link to MCP Server 开发语言与执行方式" translate="no">​</a></h2>
<p>目前开发 MCP Server 最主流的语言是 <strong>Python</strong> 和 <strong>TypeScript (Node.js)</strong>。官方的 SDK 也已经支持多种语言，像是 C#、Java、Kotlin 等，未来生态可能会越来越广。</p>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="python">Python<a href="#python" class="hash-link" aria-label="Direct link to Python" title="Direct link to Python" translate="no">​</a></h3>
<p>官方提供的 Python SDK 为 <a href="https://github.com/modelcontextprotocol/python-sdk" target="_blank" rel="noopener noreferrer" class="">modelcontextprotocol/python-sdk</a>，使用方式相当直观，基本上照着范例就可以跑起来。SDK 预设是使用 STDIO 模式，想改用 SSE 模式，需要在启动时加上 <code>mcp.run(transport=&quot;sse&quot;)</code> 的参数来启用。</p>
<p>另一个大家常用的套件是 <a href="https://github.com/jlowin/fastmcp" target="_blank" rel="noopener noreferrer" class="">FastMCP</a>，他其实已经 merge 进去官方的 python-sdk，也就是官方的 python-sdk 用的就是 FastMCP v1。但最近 FastMCP 又推出 v2，感觉要搞事了，可以持续观察。</p>
<p>在不到一年前 <a href="https://github.com/astral-sh/uv" target="_blank" rel="noopener noreferrer" class="">astral-sh/uv</a> 横空出世，迅速在 Python 开发圈掀起一波浪潮，现在新的项目，比如 MCP Server 们都是使用 <code>uv</code> 作为套件与项目管理器。<code>uv</code> 本身是 Rust 开发的，所以标榜速度超快（现在什么都要用 Rust 重写就对了）。以前要用 <code>pyenv</code>, <code>poetry</code>, <code>pipenv</code> 等一堆工具才能做到的事，现在装一个 <code>uv</code> 就全搞定了，超方便，用过都说赞，我也跳槽啦 xD</p>
<p>对 MCP 开发者来说，<code>uv</code> 的其中一个特别实用的工具就是 <code>uvx</code>，它的定位等同于隔壁 js 阵营的 <code>npx</code>，可以直接执行一个外部套件，免安装、免额外环境设定，非常适合用来启动 MCP Server。比如以下就是一个使用 <code>uvx</code> 启动 <code>mcp-server-git</code> 的范例配置：</p>
<div class="language-json codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-json codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;mcpServers&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;git&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;command&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;uvx&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;args&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;mcp-server-git&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;--repository&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;path/to/git/repo&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>这里示范一个简单的范例，将以下程序代码储存为 <code>server.py</code>，然后执行 <code>uv run server.py</code>，预设就会听在 8000 port，要在 MCP Client 上连线时填上 <code>http://your-ip:8000/sse</code>。</p>
<div class="language-python codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-python codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> mcp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">server</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fastmcp </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> FastMCP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create an MCP server</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mcp </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> FastMCP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Demo&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Add an addition tool</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token decorator annotation punctuation" style="color:#393A34">@mcp</span><span class="token decorator annotation punctuation" style="color:#393A34">.</span><span class="token decorator annotation punctuation" style="color:#393A34">tool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin">int</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">&quot;&quot;&quot;Add two numbers&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> a </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;__main__&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mcp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">transport</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;sse&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
<p>我们可以通过 <a href="https://github.com/modelcontextprotocol/inspector" target="_blank" rel="noopener noreferrer" class="">MCP Inspector</a> 去戳 List Tool，接着右键检查封包，就可以看到 MCP 回传的 json 信息。其实，MCP Server 本质上就是一个 REST API，跟 LLM 是完全解耦、独立运作的。最后，是 Cursor 这类的 MCP Client 要负责把这些拿回来的 JSON 信息组装成 prompt 喂给 LLM。</p>
<div class="language-json codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-json codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;jsonrpc&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2.0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;result&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;tools&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;add&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;description&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Add two numbers&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;inputSchema&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;properties&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;a&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;title&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;A&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;integer&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token property" style="color:#36acaa">&quot;b&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;title&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;B&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;integer&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;required&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;a&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;b&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;title&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;addArguments&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token property" style="color:#36acaa">&quot;type&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;object&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="typescript">TypeScript<a href="#typescript" class="hash-link" aria-label="Direct link to TypeScript" title="Direct link to TypeScript" translate="no">​</a></h3>
<p>另一个常见的选择是 TypeScript，官方 SDK 为 <a href="https://github.com/modelcontextprotocol/typescript-sdk" target="_blank" rel="noopener noreferrer" class="">modelcontextprotocol/typescript-sdk</a>。开发方式与 Python 相似，不过这边我自己是用 Python 开发的，TypeScript SDK 我就没实际用过。</p>
<p>Node.js 的套件管理还是照旧使用 <code>npm</code>, <code>pnpm</code> 或 <code>yarn</code>，而 Server 的启动方式则通常使用 <code>npx</code> 指令，这样可以不需要预先安装套件，直接执行远端的 MCP Server。例如下面这段配置，就是用 <code>npx</code> 启动 <code>server-puppeteer</code> 的范例配置：</p>
<div class="language-json codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-json codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;mcpServers&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;puppeteer&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;command&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;npx&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;args&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;-y&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;@modelcontextprotocol/server-puppeteer&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="mcp-server-debug">MCP Server Debug<a href="#mcp-server-debug" class="hash-link" aria-label="Direct link to MCP Server Debug" title="Direct link to MCP Server Debug" translate="no">​</a></h2>
<p>官方提供了一套非常实用的测试工具 <a href="https://github.com/modelcontextprotocol/inspector" target="_blank" rel="noopener noreferrer" class="">modelcontextprotocol/inspector</a>。这个工具可以让你直接与 MCP Server 互动，手动发送请求、查看回应，方便快速 debug。这是纯戳 MCP Server 拿到结果，没有任何 LLM 的部分。</p>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="mcp-server-列表">MCP Server 列表<a href="#mcp-server-列表" class="hash-link" aria-label="Direct link to MCP Server 列表" title="Direct link to MCP Server 列表" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="官方提供的">官方提供的<a href="#官方提供的" class="hash-link" aria-label="Direct link to 官方提供的" title="Direct link to 官方提供的" translate="no">​</a></h3>
<ul>
<li class=""><a href="https://github.com/modelcontextprotocol/servers" target="_blank" rel="noopener noreferrer" class="">modelcontextprotocol/servers</a></li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="第三方列表">第三方列表<a href="#第三方列表" class="hash-link" aria-label="Direct link to 第三方列表" title="Direct link to 第三方列表" translate="no">​</a></h3>
<p>这些第三方网站要格外注意啊，这个没有经过验证的，小心载到有毒的，尤其是 smithery 和 mcp-get 多帮你包一层，你都不知道你跑了什么。最好是有 github 原始码可以看的，自己装。</p>
<ul>
<li class=""><a href="https://github.com/punkpeye/awesome-mcp-servers" target="_blank" rel="noopener noreferrer" class="">punkpeye/awesome-mcp-servers</a></li>
<li class=""><a href="https://mcp.so/" target="_blank" rel="noopener noreferrer" class="">mcp.so</a></li>
<li class=""><a href="https://smithery.ai/" target="_blank" rel="noopener noreferrer" class="">smithery</a>
<ul>
<li class="">他自己多包了一层 <code>@smithery/cli</code> 帮你安装的脚本工具</li>
</ul>
</li>
<li class=""><a href="https://mcp-get.com" target="_blank" rel="noopener noreferrer" class="">mcp-get</a>
<ul>
<li class="">他自己多包了一层 <code>@michaellatman/mcp-get</code> 帮你安装的脚本工具</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="mcp-client-有哪些">MCP Client 有哪些<a href="#mcp-client-有哪些" class="hash-link" aria-label="Direct link to MCP Client 有哪些" title="Direct link to MCP Client 有哪些" translate="no">​</a></h2>
<p>可以参见这个表：<a href="https://modelcontextprotocol.io/clients" target="_blank" rel="noopener noreferrer" class="">Example Clients - Model Context Protocol</a></p>
<p>目前支持 SSE 的 MCP Client 还不多。像 Cursor 是有支持的，但 Claude Desktop 本身还不支持 SSE，只能用 STDIO 模式，也就是要把工具装在本地执行。</p>
<p>至于 Resource 和 Prompt 的功能，各家 Client 的支持状况也不太一致，不一定都有实现。但 Tool 几乎是大家都有支持的，只要有 Tool，其实就够用了。</p>
<hr>
<p><strong>标签：</strong> #mcp #mcp-server #ai #llm #sse</p>
<p><strong>原文作者：</strong> oalieno<br>
<strong>翻译时间：</strong> 2025年7月10日</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_RM2i"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/AI/MCP/MCP开发实战手册：SSE、STDIO、Tool、Resource一次搞懂.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_NBA7" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_Ng_4"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/notes3/docs/AI/MCP/MCP-Python-SDK"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">MCP Python SDK</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/notes3/docs/AI/MCP/什么是MCP以及为什么你应该关注它"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">什么是MCP以及为什么你应该关注它</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_qSfz thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#mcp-到底是什么" class="table-of-contents__link toc-highlight">MCP 到底是什么</a><ul><li><a href="#tool" class="table-of-contents__link toc-highlight">Tool</a></li><li><a href="#resource" class="table-of-contents__link toc-highlight">Resource</a></li><li><a href="#prompt" class="table-of-contents__link toc-highlight">Prompt</a></li><li><a href="#mcp-设计逻辑" class="table-of-contents__link toc-highlight">MCP 设计逻辑</a></li><li><a href="#2025-03-26-mcp-新标准" class="table-of-contents__link toc-highlight">2025-03-26 MCP 新标准</a></li></ul></li><li><a href="#mcp-server-模式" class="table-of-contents__link toc-highlight">MCP Server 模式</a><ul><li><a href="#stdio" class="table-of-contents__link toc-highlight">STDIO</a></li><li><a href="#sse" class="table-of-contents__link toc-highlight">SSE</a></li></ul></li><li><a href="#mcp-server-开发语言与执行方式" class="table-of-contents__link toc-highlight">MCP Server 开发语言与执行方式</a><ul><li><a href="#python" class="table-of-contents__link toc-highlight">Python</a></li><li><a href="#typescript" class="table-of-contents__link toc-highlight">TypeScript</a></li></ul></li><li><a href="#mcp-server-debug" class="table-of-contents__link toc-highlight">MCP Server Debug</a></li><li><a href="#mcp-server-列表" class="table-of-contents__link toc-highlight">MCP Server 列表</a><ul><li><a href="#官方提供的" class="table-of-contents__link toc-highlight">官方提供的</a></li><li><a href="#第三方列表" class="table-of-contents__link toc-highlight">第三方列表</a></li></ul></li><li><a href="#mcp-client-有哪些" class="table-of-contents__link toc-highlight">MCP Client 有哪些</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_EO6u"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_EO6u"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_EO6u"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/notes3/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_EO6u"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>