---
title: '团队模式对比：路由、协调与协作'
description: '详细解析Agno团队三种工作模式的区别与适用场景'
---

# 团队模式对比：路由、协调与协作

在Agno框架中，团队（Team）可以采用三种不同的工作模式：路由（Route）、协调（Coordinate）和协作（Collaborate）。虽然这三种模式都涉及多个智能体共同工作，但它们在任务分配、执行流程和结果合成方面有显著差异。本文将详细对比这三种模式，特别是澄清协调和路由模式之间容易混淆的区别。

## 三种模式概览

简单来说：

- **路由模式（Route）**：团队领导根据查询内容将请求转发给最合适的单个团队成员。
- **协调模式（Coordinate）**：团队领导将任务分解为子任务，分配给不同团队成员，然后合成结果。
- **协作模式（Collaborate）**：所有团队成员同时处理相同的任务，团队领导合成多个结果。

## 路由模式 vs 协调模式：关键区别

虽然路由和协调模式都涉及团队领导分配任务，但它们有几个根本性的区别：

### 1. 任务分配方式

**路由模式**：
- 整个任务被分配给**单个**最合适的团队成员
- 团队领导只做"转发"决策，不分解任务
- 类似于电话接线员或前台接待，将来电转接给合适的部门

**协调模式**：
- 任务被分解为**多个子任务**
- 不同子任务分配给不同团队成员
- 团队领导主动分解任务并协调成员间的工作
- 类似于项目经理，将大项目分解为小任务并分配给团队成员

### 2. 成员参与度

**路由模式**：
- 每个请求只有一个团队成员参与
- 其他团队成员对该请求完全不参与
- 团队成员之间没有协作

**协调模式**：
- 多个团队成员参与同一个请求的不同部分
- 团队成员可能需要相互依赖（一个成员的输出可能是另一个成员的输入）
- 团队成员间存在间接协作

### 3. 结果处理

**路由模式**：
- 选定成员的响应直接返回给用户
- 团队领导不合成或修改响应
- 响应质量完全依赖于被选中的成员

**协调模式**：
- 团队领导合成多个成员的输出
- 最终响应是团队领导基于所有成员输出创建的
- 响应质量依赖于团队领导的合成能力

### 4. 信息流动

**路由模式**：
- 单向流动：用户 → 团队领导 → 单个成员 → 用户
- 成员之间没有信息交换

**协调模式**：
- 复杂流动：用户 → 团队领导 → 多个成员 → 团队领导 → 用户
- 可能包含成员之间的信息传递

## 协作模式与其他模式的区别

协作模式与路由和协调模式有明显区别：

**协作模式**：
- 所有成员同时接收**相同的完整任务**
- 每个成员独立完成整个任务
- 团队领导合成或比较多个完整解决方案
- 类似于多个专家独立解决同一问题，然后比较结果

这与路由模式（单个成员处理整个任务）和协调模式（多个成员处理不同子任务）都不同。

## 三种模式的适用场景

### 路由模式适用于：

- 有明确专业划分的团队（如多语言团队、多领域专家团队）
- 每个查询通常只需一种专业知识
- 需要快速响应的场景
- 示例：多语言客服系统、专业知识分流系统

```python
multi_language_team = Team(
    name="Multi Language Team",
    mode="route",  # 路由模式
    members=[english_agent, chinese_agent, french_agent],
    # 团队领导决定将查询路由给哪个语言代理
)
```

### 协调模式适用于：

- 复杂任务需要多种专业知识协同完成
- 任务可以明确分解为子任务
- 需要综合多方面信息的场景
- 示例：内容创作团队、研究分析团队、产品开发团队

```python
content_team = Team(
    name="Content Team",
    mode="coordinate",  # 协调模式
    members=[researcher, writer, editor],
    # 团队领导将任务分解：研究→撰写→编辑
)
```

### 协作模式适用于：

- 需要多角度观点或验证的任务
- 希望比较不同方法的结果
- 需要达成共识的场景
- 示例：决策委员会、专家小组、辩论团队

```python
expert_panel = Team(
    name="Expert Panel",
    mode="collaborate",  # 协作模式
    members=[expert1, expert2, expert3],
    # 所有专家同时回答相同问题，团队领导合成共识
)
```

## 实际案例对比

为了更清晰地理解三种模式的区别，让我们看一个具体例子：假设用户询问"如何投资加密货币？"

### 路由模式处理流程：

1. 团队领导分析查询，确定这是关于加密货币投资的问题
2. 团队领导将整个查询路由给加密货币专家
3. 加密货币专家提供完整回答
4. 用户收到加密货币专家的回答

### 协调模式处理流程：

1. 团队领导分析查询，将其分解为多个子任务：
   - 研究当前加密货币市场状况
   - 分析不同投资策略的风险和回报
   - 提供适合初学者的具体建议
2. 团队领导将这些子任务分配给不同成员：
   - 市场分析师研究市场状况
   - 风险评估专家分析投资策略
   - 投资顾问提供初学者建议
3. 团队领导收集所有成员的输出，合成一个全面的回答
4. 用户收到综合了多个专家意见的完整回答

### 协作模式处理流程：

1. 团队领导将相同的完整查询发送给所有成员
2. 每个投资专家独立提供关于如何投资加密货币的完整建议
3. 团队领导比较不同专家的建议，找出共识点和分歧点
4. 团队领导合成一个反映多位专家观点的回答
5. 用户收到包含多角度观点的回答

## 技术实现差异

三种模式在代码实现上也有明显差异：

### 路由模式：

```python
team = Team(
    mode="route",
    model=OpenAIChat("gpt-4o"),
    members=[specialist1, specialist2, specialist3],
    # 团队领导只需要决定将查询路由给哪个成员
)
```

### 协调模式：

```python
team = Team(
    mode="coordinate",
    model=OpenAIChat("gpt-4o"),
    members=[specialist1, specialist2, specialist3],
    # 团队领导需要更强的能力来分解任务和合成结果
    enable_agentic_context=True,  # 启用代理上下文以便在成员之间共享信息
)
```

### 协作模式：

```python
team = Team(
    mode="collaborate",
    model=OpenAIChat("gpt-4o"),
    members=[specialist1, specialist2, specialist3],
    # 所有成员同时工作，团队领导合成结果
    success_criteria="The team has reached a consensus.",  # 定义成功标准
)
```

## 总结：三种模式的本质区别

- **路由模式**：**一个任务，一个执行者**。团队领导只做分流决策，将整个任务交给最合适的单个成员。
  
- **协调模式**：**一个任务，多个子任务，多个执行者**。团队领导分解任务，协调多个成员完成不同部分，然后合成结果。
  
- **协作模式**：**一个任务，多个完整方案，多个执行者**。所有成员独立完成相同任务，团队领导合成或比较多个完整方案。

理解这三种模式的区别，可以帮助您根据具体需求选择最合适的团队工作方式，提高智能体团队的效率和输出质量。
