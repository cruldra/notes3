<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/明火离人场景实现方案" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">明火离人场景实现方案 | Cruldra</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-site.example.com/notes3/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-site.example.com/notes3/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-site.example.com/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/明火离人场景实现方案"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="明火离人场景实现方案 | Cruldra"><meta data-rh="true" name="description" content="摘要"><meta data-rh="true" property="og:description" content="摘要"><link data-rh="true" rel="icon" href="/notes3/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-site.example.com/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/明火离人场景实现方案"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/明火离人场景实现方案" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/明火离人场景实现方案" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"明火离人场景实现方案","item":"https://your-docusaurus-site.example.com/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/明火离人场景实现方案"}]}</script><link rel="alternate" type="application/rss+xml" href="/notes3/blog/rss.xml" title="Cruldra RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/notes3/blog/atom.xml" title="Cruldra Atom Feed"><link rel="stylesheet" href="/notes3/assets/css/styles.44875995.css">
<script src="/notes3/assets/js/runtime~main.e67d83d5.js" defer="defer"></script>
<script src="/notes3/assets/js/main.d5cfca97.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),document.documentElement.setAttribute("data-theme-choice","system"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/notes3/img/logo.svg"><style data-mantine-styles="classes">@media (max-width: 35.99375em) {.mantine-visible-from-xs {display: none !important;}}@media (min-width: 36em) {.mantine-hidden-from-xs {display: none !important;}}@media (max-width: 47.99375em) {.mantine-visible-from-sm {display: none !important;}}@media (min-width: 48em) {.mantine-hidden-from-sm {display: none !important;}}@media (max-width: 61.99375em) {.mantine-visible-from-md {display: none !important;}}@media (min-width: 62em) {.mantine-hidden-from-md {display: none !important;}}@media (max-width: 74.99375em) {.mantine-visible-from-lg {display: none !important;}}@media (min-width: 75em) {.mantine-hidden-from-lg {display: none !important;}}@media (max-width: 87.99375em) {.mantine-visible-from-xl {display: none !important;}}@media (min-width: 88em) {.mantine-hidden-from-xl {display: none !important;}}</style><div role="region" aria-label="Skip to main content"><a class="skipToContent_aA1M" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/notes3/"><div class="navbar__logo"><img src="/notes3/img/logo.svg" alt="My Site Logo" class="themedComponent_E3Xm themedComponent--light_DVqC"><img src="/notes3/img/logo.svg" alt="My Site Logo" class="themedComponent_E3Xm themedComponent--dark_B_L3"></div><b class="navbar__title text--truncate">Cruldra</b></a><a class="navbar__item navbar__link" href="/notes3/docs/category/设计模式">JVM</a><a class="navbar__item navbar__link" href="/notes3/docs/category/css">前端</a><a class="navbar__item navbar__link" href="/notes3/docs/category/astrbot">工具</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/notes3/docs/category/ai电竞酒店">个人</a><a class="navbar__item navbar__link" href="/notes3/docs/AI/ACP/架构">AI</a><a class="navbar__item navbar__link" href="/notes3/docs/category/内置模块">Python</a><a class="navbar__item navbar__link" href="/notes3/docs/category/actix-web">Rust</a><a class="navbar__item navbar__link" href="/notes3/docs/category/数据库系统">软件工程</a><a class="navbar__item navbar__link" href="/notes3/docs/category/上古卷轴5">游戏</a><a class="navbar__item navbar__link" href="/notes3/docs/Go/Go-Python-Java三语言全方位对比">Go</a><a class="navbar__item navbar__link" href="/notes3/docs/Hardware/GPU工作原理">硬件</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_PufJ"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_ctfR"><div class="docsWrapper_ByIB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_KwvU" type="button"></button><div class="docRoot_hD6z"><aside class="theme-doc-sidebar-container docSidebarContainer_KuHC"><div class="sidebarViewport_LCjr"><div class="sidebar_L77d"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_VYAF"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist" href="/notes3/docs/category/ai电竞酒店"><span title="AI电竞酒店" class="categoryLinkLabel_FHN4">AI电竞酒店</span></a><button aria-label="Expand sidebar category &#x27;AI电竞酒店&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist" href="/notes3/docs/category/器物搜索小程序"><span title="器物搜索小程序" class="categoryLinkLabel_FHN4">器物搜索小程序</span></a><button aria-label="Expand sidebar category &#x27;器物搜索小程序&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Personal/仿VTN小程序/交付时间"><span title="仿VTN小程序" class="categoryLinkLabel_FHN4">仿VTN小程序</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Personal/其它/AI小先生智能数学出题与批改系统定制成本-专业版"><span title="其它" class="categoryLinkLabel_FHN4">其它</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Personal/创业大师小程序/数字人工作流对接报价"><span title="创业大师小程序" class="categoryLinkLabel_FHN4">创业大师小程序</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Personal/客服/报价"><span title="客服" class="categoryLinkLabel_FHN4">客服</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Personal/智剪/定制报价"><span title="智剪" class="categoryLinkLabel_FHN4">智剪</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/notes3/docs/Personal/智能楼宇消防智能体/EMP20 知识与报表专员/EMP-20 知识与报表专员系统技术及实施方案"><span title="智能楼宇消防智能体" class="categoryLinkLabel_FHN4">智能楼宇消防智能体</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/EMP20 知识与报表专员/EMP-20 知识与报表专员系统技术及实施方案"><span title="EMP20 知识与报表专员" class="categoryLinkLabel_FHN4">EMP20 知识与报表专员</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/商业综合体智能消防解决方案"><span title="商业综合体智能消防解决方案" class="linkLabel__RqX">商业综合体智能消防解决方案</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/商业综合体消防安全管理业务痛点深度分析报告"><span title="商业综合体消防安全管理业务痛点深度分析报告" class="linkLabel__RqX">商业综合体消防安全管理业务痛点深度分析报告</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/系统架构图"><span title="系统架构图" class="linkLabel__RqX">系统架构图</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/L0-数据湖"><span title="餐饮厨房安全监测员系统" class="categoryLinkLabel_FHN4">餐饮厨房安全监测员系统</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/L0-数据湖"><span title="L0-数据湖" class="linkLabel__RqX">L0-数据湖</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/L2-边缘计算"><span title="L2-边缘计算" class="linkLabel__RqX">L2-边缘计算</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/L3-云平台"><span title="L3-云平台" class="linkLabel__RqX">L3-云平台</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/L4-应用"><span title="L4-应用" class="linkLabel__RqX">L4-应用</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/参考/1"><span title="参考" class="categoryLinkLabel_FHN4">参考</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/商用厨房平面图"><span title="商用厨房平面图" class="linkLabel__RqX">商用厨房平面图</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/整体架构"><span title="整体架构" class="linkLabel__RqX">整体架构</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/明火离人场景实现方案"><span title="明火离人场景实现方案" class="linkLabel__RqX">明火离人场景实现方案</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/消防安全餐饮监测员系统-实时推理能力子系统技术及实施方案"><span title="消防安全餐饮监测员系统-实时推理能力子系统技术及实施方案" class="linkLabel__RqX">消防安全餐饮监测员系统-实时推理能力子系统技术及实施方案</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/第四部分核心能力可行性报告、技术方案及成本及周期估算"><span title="第四部分核心能力可行性报告、技术方案及成本及周期估算" class="linkLabel__RqX">第四部分核心能力可行性报告、技术方案及成本及周期估算</span></a></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_WxcZ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Zd2x"><div class="docItemContainer_EEW4"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_xL_w" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/notes3/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_zA1U"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">智能楼宇消防智能体</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">餐饮厨房安全监测员系统</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">明火离人场景实现方案</span></li></ul></nav><div class="tocCollapsible_aZGz theme-doc-toc-mobile tocMobile_ShCt"><button type="button" class="clean-btn tocCollapsibleButton_fxzH">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>明火离人场景实现方案</h1></header><h2 class="anchor anchorTargetStickyNavbar_aDle" id="摘要">摘要<a href="#摘要" class="hash-link" aria-label="Direct link to 摘要" title="Direct link to 摘要" translate="no">​</a></h2>
<table><thead><tr><th>内容维度</th><th>核心阐述</th></tr></thead><tbody><tr><td><strong>项目名称</strong></td><td>餐饮厨房安全监测员系统（明火离人场景）</td></tr><tr><td><strong>技术定位</strong></td><td>餐饮后厨场景下的“AI安全哨兵”，利用边缘计算实现对“明火离人”隐患的毫秒级发现与处置。</td></tr><tr><td><strong>核心创新</strong></td><td><strong>System 1 (脊髓)</strong>：基于状态机的确定性防抖，过滤95%误报；<strong>System 2 (大脑)</strong>：基于VLM大模型的多模态认知，实现“视觉+温度+时间”的综合研判。</td></tr><tr><td><strong>关键成果</strong></td><td>误报率降低至行业领先水平；单路报警响应 &lt; 10s；4路并发报警响应 &lt; 20s；提供完整证据链闭环。</td></tr><tr><td><strong>技术栈概览</strong></td><td><strong>边缘计算</strong>：NVIDIA Orin NX (16GB)；<strong>感知</strong>：OpenCV/RTSP；<strong>逻辑</strong>：Python FSM (System 1)；<strong>推理</strong>：TensorRT-LLM + Qwen-VL-Chat-Int4 (System 2)。</td></tr><tr><td><strong>硬件方案</strong></td><td><strong>利旧+外挂</strong>：复用瑞景视觉盒子(感知) + 新增NVIDIA边缘盒(推理)。</td></tr><tr><td><strong>开发周期</strong></td><td>2个月（8周）敏捷迭代；里程碑：环境搭建→核心构建(S1)→认知升级(S2)→联调交付。</td></tr><tr><td><strong>投资规模</strong></td><td>研发投入预算 <strong>¥220,000</strong>；采用“2+1”敏捷小队模式（架构师+后端/嵌入式+算法/测试）。</td></tr><tr><td><strong>交付物</strong></td><td>软硬一体边缘推理机 + 标准化API接口 + 完整测试报告</td></tr><tr><td><strong>差异竞争力</strong></td><td><strong>极低误报</strong> (双系统协同)；<strong>深度认知</strong> (大模型CoT推理)；<strong>高性价比</strong> (利旧升级)。</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_aDle" id="场景定义与总体架构设计">场景定义与总体架构设计<a href="#场景定义与总体架构设计" class="hash-link" aria-label="Direct link to 场景定义与总体架构设计" title="Direct link to 场景定义与总体架构设计" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="项目综述构建后厨安全的认知防线">项目综述：构建后厨安全的“认知防线”<a href="#项目综述构建后厨安全的认知防线" class="hash-link" aria-label="Direct link to 项目综述：构建后厨安全的“认知防线”" title="Direct link to 项目综述：构建后厨安全的“认知防线”" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="场景背景为何聚焦明火离人">场景背景：为何聚焦“明火离人”？<a href="#场景背景为何聚焦明火离人" class="hash-link" aria-label="Direct link to 场景背景：为何聚焦“明火离人”？" title="Direct link to 场景背景：为何聚焦“明火离人”？" translate="no">​</a></h4>
<p>在餐饮安全管理体系中，<strong>明火离人</strong>（即灶台点火状态下，操作人员违规长时间离开）是导致油锅干烧、引发火灾的头号隐患，也是监管部门检查的重中之重。
然而，传统的技防手段在这一场景下面临严峻挑战：</p>
<ol>
<li class=""><strong>传统视频监控误报率高</strong>：传统算法仅基于像素特征，极易受不锈钢反光、蒸汽、厨师瞬间遮挡等环境因素干扰，频繁产生“狼来了”式的误报，导致管理人员麻痹。</li>
<li class=""><strong>缺乏逻辑归因能力</strong>：传统系统无法区分“正常烹饪中的短暂转身取料”与“违规离岗”，缺乏对场景时空上下文的理解能力。</li>
<li class=""><strong>处置滞后</strong>：依赖人工后台轮巡或事后录像回溯，往往错失黄金处置窗口。</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="建设目标">建设目标<a href="#建设目标" class="hash-link" aria-label="Direct link to 建设目标" title="Direct link to 建设目标" translate="no">​</a></h4>
<p>本次项目旨在利用先进的 <strong>EMP-01 边缘认知架构</strong>，在<strong>2个月</strong>内为客户构建一套具备<strong>L2级认知能力</strong>的智能化监测示范系统。我们的核心目标是实现从“被动监控”到“主动认知”的跨越：</p>
<ul>
<li class=""><strong>架构验证</strong>：验证“感知设施 + 边缘AI大脑”异构架构的落地可行性，在最大化保护现有资产的前提下实现智能化升级。</li>
<li class=""><strong>极致精准</strong>：引入 <strong>System 1（脊髓反射层）</strong>，通过确定性的时空状态机，从机制上过滤掉95%以上的瞬时视觉干扰，解决行业痛点误报问题。</li>
<li class=""><strong>深度认知</strong>：展示 <strong>System 2（认知研判层）</strong> 的大模型推理能力，系统不仅能报警，还能输出包含“隐患现场还原+法规引用+处置建议”的完整分析报告，辅助管理层高效决策。</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="场景数字化定义">场景数字化定义<a href="#场景数字化定义" class="hash-link" aria-label="Direct link to 场景数字化定义" title="Direct link to 场景数字化定义" translate="no">​</a></h3>
<p>为确保系统运行的严谨性与准确性，我们将“明火离人”这一业务场景转化为可计算的<strong>数字化模型</strong>。</p>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="物理空间定义">物理空间定义<a href="#物理空间定义" class="hash-link" aria-label="Direct link to 物理空间定义" title="Direct link to 物理空间定义" translate="no">​</a></h4>
<p><img decoding="async" loading="lazy" src="https://github.com/cruldra/picx-images-hosting/raw/master/image.3ns4g16v1n.png" alt="商用厨房布局标准" class="img_kBI4"></p>
<p>基于商用厨房布局标准，我们将监测范围严格锁定在 <strong>热厨烹饪线（Hot Line）</strong> 核心作业区：</p>
<ul>
<li class=""><strong>有效监测区</strong>：包含猛火灶、炸炉及其正前方 <strong>1.5米 × 3米</strong> 的操作区域。</li>
<li class=""><strong>抗干扰区</strong>：系统将通过算法逻辑自动屏蔽出餐台、切配台及洗消间的人员流动，避免非核心区域活动造成的误判。</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="业务状态定义">业务状态定义<a href="#业务状态定义" class="hash-link" aria-label="Direct link to 业务状态定义" title="Direct link to 业务状态定义" translate="no">​</a></h4>
<!-- -->
<p>系统将基于时序逻辑，精准识别三种核心业务状态：</p>
<ol>
<li class=""><strong>状态A：安全作业</strong>
<ul>
<li class=""><strong>特征</strong>：[视觉] 检测到灶台明火 + [视觉] 有效操作区域内有人体关键点。</li>
<li class=""><strong>系统动作</strong>：判定为合规操作，系统静默守护，重置计时器。</li>
</ul>
</li>
<li class=""><strong>状态B：风险预警</strong>
<ul>
<li class=""><strong>特征</strong>：[视觉] 检测到灶台明火 + [视觉] 操作区域内人员消失。</li>
<li class=""><strong>系统动作</strong>：启动毫秒级计时。若人员在 <strong>30秒</strong>（阈值可配）内返回，判定为正常作业（如转身取料），自动解除预警。</li>
<li class=""><strong>价值</strong>：此机制作为<strong>System 1</strong>的核心功能，可有效过滤掉绝大多数由转身、遮挡、反光引起的瞬时干扰。</li>
</ul>
</li>
<li class=""><strong>状态C：违规确证</strong>
<ul>
<li class=""><strong>特征</strong>：[时序] “有火无人”状态持续时长超过设定阈值（&gt;30s）。</li>
<li class=""><strong>系统动作</strong>：判定为违规离岗，系统立即锁定现场证据，<strong>唤醒</strong> System 2 大模型进行深度研判并生成告警。</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="总体架构设计异构计算与双系统协同">总体架构设计：异构计算与双系统协同<a href="#总体架构设计异构计算与双系统协同" class="hash-link" aria-label="Direct link to 总体架构设计：异构计算与双系统协同" title="Direct link to 总体架构设计：异构计算与双系统协同" translate="no">​</a></h3>
<p>本方案采用 <strong>厚边缘、薄云端</strong> 的技术路线，通过物理上的异构硬件组合与逻辑上的双系统协同，实现高效能与高智能的统一。</p>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="物理架构感知与推理解耦">物理架构：感知与推理解耦<a href="#物理架构感知与推理解耦" class="hash-link" aria-label="Direct link to 物理架构：感知与推理解耦" title="Direct link to 物理架构：感知与推理解耦" translate="no">​</a></h4>
<p>我们将采用 <strong>L0-L1-L2</strong> 的分层处理架构：</p>
<ul>
<li class=""><strong>L0 感知层（眼睛）：瑞景视觉算法 Box</strong>
<ul>
<li class=""><strong>角色</strong>：高频特征提取器。</li>
<li class=""><strong>职责</strong>：复用现场已有的瑞景盒子，开启基础的“明火检测”与“人员检测”算法。它不负责复杂的逻辑判断，仅负责以 <strong>5-10fps</strong> 的频率实时输出结构化元数据（如：<code>{&quot;fire&quot;: true, &quot;person&quot;: false}</code>）。</li>
<li class=""><strong>优势</strong>：利旧现有设备，降低改造成本。</li>
</ul>
</li>
<li class=""><strong>L1/L2 推理层（大脑）：NVIDIA Edge AI Box</strong>
<ul>
<li class=""><strong>角色</strong>：边缘认知中枢。</li>
<li class=""><strong>选型</strong>：<strong>NVIDIA Jetson Orin NX</strong>。选用16GB显存版本是为了支撑 <strong>System 2</strong> 中7B参数量化大模型的运行。</li>
<li class=""><strong>职责</strong>：接收L0层的元数据，运行 System 1 状态机进行过滤；当风险确认时，唤醒 System 2 大模型进行推理。</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="逻辑架构system-1--system-2-双系统协同">逻辑架构：System 1 &amp; System 2 双系统协同<a href="#逻辑架构system-1--system-2-双系统协同" class="hash-link" aria-label="Direct link to 逻辑架构：System 1 &amp; System 2 双系统协同" title="Direct link to 逻辑架构：System 1 &amp; System 2 双系统协同" translate="no">​</a></h4>
<!-- -->
<p>这是本方案的核心差异化竞争力，模仿人类大脑的运作机制，解决“快”与“准”的矛盾：</p>
<ul>
<li class="">
<p><strong>System 1：脊髓反射系统</strong></p>
<ul>
<li class=""><strong>技术栈</strong>：基于 Python/C++ 的防抖动状态机。</li>
<li class=""><strong>运行机制</strong>：处理毫秒级、确定性的规则逻辑。</li>
<li class=""><strong>核心价值</strong>：<strong>极速过滤</strong>。作为第一道防线，它负责处理瑞景Box发来的高频数据，过滤掉 <strong>95%</strong> 的无效信号（如光影闪烁、人员瞬间遮挡）。只有当异常持续满足时间阈值，才生成一个“疑似风险事件”提交给 System 2。</li>
<li class=""><strong>部署位置</strong>：边缘盒 CPU。</li>
</ul>
</li>
<li class="">
<p><strong>System 2：认知研判系统</strong></p>
<ul>
<li class=""><strong>技术栈</strong>：<strong>Qwen-VL-Chat-Int4</strong> 或 <strong>LLaVA</strong> 多模态大模型 + 向量数据库。</li>
<li class=""><strong>运行机制</strong>：基于思维链 的深度推理。</li>
<li class=""><strong>核心价值</strong>：<strong>深度归因</strong>。作为第二道防线，它被 System 1 唤醒后，会像安全专家一样思考：“虽然看起来像火，但周围温度是否异常？人员离开多久了？是否违反具体法规？”最终生成一份有理有据的分析报告，彻底消除误报。</li>
<li class=""><strong>部署位置</strong>：边缘盒 GPU/NPU。</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="实施路线图2个月8周">实施路线图（2个月/8周）<a href="#实施路线图2个月8周" class="hash-link" aria-label="Direct link to 实施路线图（2个月/8周）" title="Direct link to 实施路线图（2个月/8周）" translate="no">​</a></h3>
<p>项目将采用敏捷交付模式，分为四个冲刺阶段（Sprint），确保每一步都有可验证的交付物。</p>
<table><thead><tr><th style="text-align:left">阶段</th><th style="text-align:left">时间周期</th><th style="text-align:left">核心目标</th><th style="text-align:left">关键产出</th></tr></thead><tbody><tr><td style="text-align:left"><strong>第一阶段：环境搭建</strong></td><td style="text-align:left">第1-2周</td><td style="text-align:left"><strong>数据链路打通</strong>：完成硬件部署与网络配置，实现瑞景Box到NVIDIA Box的数据流转。</td><td style="text-align:left">硬件连接完成；MQTT数据接口调通；数据协议标准化文档。</td></tr><tr><td style="text-align:left"><strong>第二阶段：核心构建</strong></td><td style="text-align:left">第3-4周</td><td style="text-align:left"><strong>抗干扰逻辑上线</strong>：部署System 1状态机，针对现场环境微调防抖参数，实现“基础报警不误报”。</td><td style="text-align:left">System 1 FSM 运行版；现场抗干扰测试报告（误报率显著下降）。</td></tr><tr><td style="text-align:left"><strong>第三阶段：认知升级</strong></td><td style="text-align:left">第5-6周</td><td style="text-align:left"><strong>智能推理上线</strong>：部署System 2大模型，注入安全规范知识库，实现分析报告自动生成。</td><td style="text-align:left">大模型推理服务（TensorRT-LLM）；针对厨房场景优化的 Prompt 模板。</td></tr><tr><td style="text-align:left"><strong>第四阶段：联调交付</strong></td><td style="text-align:left">第7-8周</td><td style="text-align:left"><strong>全景演示交付</strong>：完成前端可视化界面开发，进行全流程模拟演练与验收。</td><td style="text-align:left">可视化管理看板；完整演示视频；系统使用手册；验收报告。</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="预期交付成果">预期交付成果<a href="#预期交付成果" class="hash-link" aria-label="Direct link to 预期交付成果" title="Direct link to 预期交付成果" translate="no">​</a></h3>
<p>项目验收时，我们将交付一套完整的软硬件集成系统，达到以下标准：</p>
<ol>
<li class=""><strong>功能指标</strong>：在模拟“点火后人员离开”场景下，系统能在 <strong>35秒内</strong>（含30秒业务计时 + 5秒推理）准确触发报警，并弹窗显示分析报告。</li>
<li class=""><strong>抗干扰指标</strong>：对于人员转身（&lt;10s）、短暂遮挡（&lt;5s）、金属反光等常见干扰，系统应保持静默，<strong>不产生无效打扰</strong>。</li>
<li class=""><strong>证据闭环</strong>：告警信息必须包含完整的<strong>证据链</strong>（事发前后的视频切片 + 关键帧截图 + AI推理分析文字），实现“有图、有数据、有逻辑”。</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_aDle" id="硬件选型与端到端性能承载方案">硬件选型与端到端性能承载方案<a href="#硬件选型与端到端性能承载方案" class="hash-link" aria-label="Direct link to 硬件选型与端到端性能承载方案" title="Direct link to 硬件选型与端到端性能承载方案" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="核心硬件配置清单">核心硬件配置清单<a href="#核心硬件配置清单" class="hash-link" aria-label="Direct link to 核心硬件配置清单" title="Direct link to 核心硬件配置清单" translate="no">​</a></h3>
<p>为实现“利旧感知设施 + 外挂认知大脑”的高性价比架构，本方案仅需在现有监控网络中接入一台边缘计算盒。核心算力单元选用 <strong>NVIDIA Jetson Orin NX Super (16GB)</strong>，这是目前运行7B参数大模型性价比最优的工业级边缘底座。</p>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="边缘ai计算盒配置">边缘AI计算盒配置<a href="#边缘ai计算盒配置" class="hash-link" aria-label="Direct link to 边缘AI计算盒配置" title="Direct link to 边缘AI计算盒配置" translate="no">​</a></h4>
<!-- -->
<table><thead><tr><th style="text-align:left">硬件组件</th><th style="text-align:left">规格参数</th><th style="text-align:left">选型理由</th></tr></thead><tbody><tr><td style="text-align:left"><strong>核心模组</strong></td><td style="text-align:left"><strong>NVIDIA Jetson Orin NX Super 16GB</strong></td><td style="text-align:left"><strong>方案核心</strong>。16GB显存是运行大模型的物理底线（8GB版无法运行），<strong>157 TOPS</strong> 的AI算力保障了多路并发处理能力。</td></tr><tr><td style="text-align:left"><strong>存储</strong></td><td style="text-align:left">512GB NVMe SSD</td><td style="text-align:left">工业级高速存储，用于存放模型权重、Docker容器及报警时的“证据包”缓存。</td></tr><tr><td style="text-align:left"><strong>散热</strong></td><td style="text-align:left">铝合金被动散热机箱</td><td style="text-align:left">无风扇设计，适应后厨油烟、高温环境，防尘防油。</td></tr><tr><td style="text-align:left"><strong>接口</strong></td><td style="text-align:left">双千兆网口 + HDMI</td><td style="text-align:left">实现内外网隔离（数据不出域）及本地大屏直连演示。</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="配套设施感知源">配套设施（感知源）<a href="#配套设施感知源" class="hash-link" aria-label="Direct link to 配套设施（感知源）" title="Direct link to 配套设施（感知源）" translate="no">​</a></h4>
<ul>
<li class=""><strong>L0 感知源</strong>：<strong>瑞景视觉算法盒子</strong>（现有设备）。<!-- -->
<ul>
<li class=""><em>职责</em>：作为并发链路的<strong>发令枪</strong>。负责实时捕捉多路视频流中的明火与人员状态，并向下游发送结构化信号。</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="端到端并发链路分析从看见到看懂">端到端并发链路分析：从“看见”到“看懂”<a href="#端到端并发链路分析从看见到看懂" class="hash-link" aria-label="Direct link to 端到端并发链路分析：从“看见”到“看懂”" title="Direct link to 端到端并发链路分析：从“看见”到“看懂”" translate="no">​</a></h3>
<!-- -->
<p>核心问题是：<strong>如果厨房4个灶台同时发生明火离人，系统反应得过来吗？</strong></p>
<p>答案是肯定的，但必须从<strong>全链路</strong>的视角来拆解这一并发过程。系统整体的响应速度，取决于<strong>源头感知能力</strong>与<strong>后端推理吞吐</strong>的匹配度。</p>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="链路第一环源头瑞景视觉盒子的并发触发能力">链路第一环（源头）：瑞景视觉盒子的并发触发能力<a href="#链路第一环源头瑞景视觉盒子的并发触发能力" class="hash-link" aria-label="Direct link to 链路第一环（源头）：瑞景视觉盒子的并发触发能力" title="Direct link to 链路第一环（源头）：瑞景视觉盒子的并发触发能力" translate="no">​</a></h4>
<p><strong>这是整个并发流程的物理前提。</strong></p>
<ul>
<li class=""><strong>并发瓶颈在源头</strong>：后端（NVIDIA盒子）的并发处理能力再强，也依赖于前端（瑞景盒子）能否在极短时间内同时“看见”4个灶台的异常。</li>
<li class=""><strong>假设场景</strong>：当4个灶台同时起火时，瑞景视觉盒子凭借其成熟的检测算法，能够在 <strong>毫秒级</strong> 并在同一时间窗口内识别出4路视频流中的“火焰”与“人员”目标，并并发向外抛送4条报警数据。</li>
<li class=""><strong>架构意义</strong>：瑞景盒子决定了并发请求的<strong>到达率</strong>。本方案假设前端感知设备具备标准的工业级实时性。</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="链路第二环管道system-1-规则引擎的零延迟透传">链路第二环（管道）：System 1 规则引擎的“零延迟”透传<a href="#链路第二环管道system-1-规则引擎的零延迟透传" class="hash-link" aria-label="Direct link to 链路第二环（管道）：System 1 规则引擎的“零延迟”透传" title="Direct link to 链路第二环（管道）：System 1 规则引擎的“零延迟”透传" translate="no">​</a></h4>
<ul>
<li class=""><strong>极速处理</strong>：数据一旦从瑞景盒子发出，即进入运行在 NVIDIA CPU 上的 System 1 规则引擎。</li>
<li class=""><strong>性能特征</strong>：System 1 仅执行简单的时空状态机逻辑（如：计时是否超过30秒？）。相比于视觉处理，这种逻辑运算的耗时在 <strong>微秒到毫秒级</strong>。</li>
<li class=""><strong>结论</strong>：<strong>此环节在全链路延迟中几乎可以忽略不计</strong>，它不会成为阻塞并发的瓶颈，能够瞬间将前端发来的4路报警请求透传给后端大模型。</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="链路第三环终局system-2-大模型的并行批处理">链路第三环（终局）：System 2 大模型的并行批处理<a href="#链路第三环终局system-2-大模型的并行批处理" class="hash-link" aria-label="Direct link to 链路第三环（终局）：System 2 大模型的并行批处理" title="Direct link to 链路第三环（终局）：System 2 大模型的并行批处理" translate="no">​</a></h4>
<p>当4路报警请求几乎同时穿过规则引擎到达 System 2 时，我们利用 NVIDIA Orin NX 的算力冗余进行<strong>并行承接</strong>：</p>
<ul>
<li class=""><strong>Continuous Batching（连续批处理）技术</strong>：我们摒弃了传统的“排队处理”模式。利用 157 TOPS 的算力盈余，系统不是处理完第1个灶台再看第2个，而是将4路请求打包，<strong>在一次计算周期内同时完成4路推理</strong>。</li>
<li class=""><strong>性能预期</strong>：</li>
</ul>
<table><thead><tr><th style="text-align:left">场景描述</th><th style="text-align:left">处理模式</th><th style="text-align:left">响应延迟 (TTFT)</th><th style="text-align:left">完成时间</th><th style="text-align:left">客户体验</th></tr></thead><tbody><tr><td style="text-align:left"><strong>单路报警</strong></td><td style="text-align:left">极速响应</td><td style="text-align:left">&lt; 1.5 秒</td><td style="text-align:left">~5-8 秒</td><td style="text-align:left"><strong>快速出报告</strong>，低延迟体验。</td></tr><tr><td style="text-align:left"><strong>4路并发</strong></td><td style="text-align:left"><strong>并行批处理</strong></td><td style="text-align:left"><strong>~3.0 秒</strong></td><td style="text-align:left"><strong>~15-18 秒</strong></td><td style="text-align:left"><strong>4个灶台并行生成报告</strong>。相比传统排队模式，效率提升 <strong>显著</strong>。</td></tr></tbody></table>
<p><strong>总结</strong>：系统的并发能力是一个接力赛。<strong>瑞景盒子负责“同时发现”，规则引擎负责“瞬间传递”，NVIDIA盒子负责“并行思考”。</strong> 三者结合，确保在极端情况下实现零阻塞的实时预警。</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="关键技术保障如何把大模型装进边缘盒子">关键技术保障：如何把大模型“装”进边缘盒子？<a href="#关键技术保障如何把大模型装进边缘盒子" class="hash-link" aria-label="Direct link to 关键技术保障：如何把大模型“装”进边缘盒子？" title="Direct link to 关键技术保障：如何把大模型“装”进边缘盒子？" translate="no">​</a></h3>
<p>为了在仅有 16GB 显存的边缘设备上实现上述高性能，我们在软件底层实施了以下两项关键工程优化，保障了的流畅度：</p>
<ol>
<li class="">
<p><strong>INT4 量化加速 (AWQ技术)</strong></p>
<ul>
<li class="">我们将7B参数的大模型体积从 ~14GB 压缩至 <strong>~4GB</strong>，且推理精度几乎无损。</li>
<li class=""><strong>价值</strong>：节省出的 10GB+ 显存被用于扩展 <strong>KV Cache（上下文缓存）</strong>，这是系统能够同时“记住”并处理4路视频流的物理基础。</li>
</ul>
</li>
<li class="">
<p><strong>PagedAttention 显存管理</strong></p>
<ul>
<li class="">采用类似操作系统的虚拟内存分页技术，动态管理显存。</li>
<li class=""><strong>价值</strong>：杜绝了显存碎片，确保在高并发场景下系统<strong>永不崩溃</strong>，保障7x24小时稳定运行。</li>
</ul>
</li>
</ol>
<hr>
<p><strong>本章小结</strong>
基于 <strong>NVIDIA Orin NX Super 16GB</strong> 构建的边缘认知系统，在硬件层面消除了算力瓶颈。通过明确 <strong>前端感知触发 -&gt; 中端规则透传 -&gt; 后端并行推理</strong> 的全链路逻辑，我们向客户证明：只要前端摄像头能拍到，我们的后端大脑就能处理过来，绝不漏报。</p>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="算力需求量化计算">算力需求量化计算<a href="#算力需求量化计算" class="hash-link" aria-label="Direct link to 算力需求量化计算" title="Direct link to 算力需求量化计算" translate="no">​</a></h3>
<p>为了确保系统在极端情况（如4个灶台同时触发离人报警）下依然稳定运行，我们基于<strong>显存容量（空间）</strong> 和<strong>推理吞吐（时间）</strong> 两个维度，对 <strong>NVIDIA Jetson Orin NX 16GB Super</strong> 进行了详细的负荷测算。</p>
<p><strong>基础场景参数：</strong></p>
<ul>
<li class=""><strong>监测对象</strong>：4个灶台（4 x ROIs）。</li>
<li class=""><strong>输入源</strong>：1路高清视频流（由瑞景盒子进行预处理）。</li>
<li class=""><strong>前端并发量</strong>：假设最坏情况，瑞景盒子在 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mn>0</mn></msub></mrow><annotation encoding="application/x-tex">T_0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> 时刻同时检测到4个灶台均出现“明火+无人”状态，并发向边缘计算盒发送4个推理请求。</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="维度一显存容量需求装得下吗">维度一：显存容量需求（“装得下吗？”）<a href="#维度一显存容量需求装得下吗" class="hash-link" aria-label="Direct link to 维度一：显存容量需求（“装得下吗？”）" title="Direct link to 维度一：显存容量需求（“装得下吗？”）" translate="no">​</a></h4>
<p>大模型推理的硬指标不是算力（TOPS），而是显存（VRAM）。我们需要确保在并发处理时，显存不会溢出（OOM）。</p>
<p><strong>计算公式：</strong>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mrow><mi>t</mi><mi>o</mi><mi>t</mi><mi>a</mi><mi>l</mi></mrow></msub><mo>=</mo><msub><mi>M</mi><mrow><mi>s</mi><mi>y</mi><mi>s</mi></mrow></msub><mo>+</mo><msub><mi>M</mi><mrow><mi>m</mi><mi>o</mi><mi>d</mi><mi>e</mi><mi>l</mi></mrow></msub><mo>+</mo><msub><mi>M</mi><mrow><mi>k</mi><mi>v</mi><mi mathvariant="normal">_</mi><mi>c</mi><mi>a</mi><mi>c</mi><mi>h</mi><mi>e</mi></mrow></msub><mo>×</mo><msub><mi>N</mi><mrow><mi>b</mi><mi>a</mi><mi>t</mi><mi>c</mi><mi>h</mi></mrow></msub></mrow><annotation encoding="application/x-tex">M_{total} = M_{sys} + M_{model} + M_{kv\_cache} \times N_{batch}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.01968em">l</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">sys</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.01968em">l</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.0503em;vertical-align:-0.367em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em">k</span><span class="mord mathnormal mtight" style="margin-right:0.03588em">v</span><span class="mord mtight" style="margin-right:0.02778em">_</span><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight">h</span><span class="mord mathnormal mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.367em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ba</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></p>
<ul>
<li class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mrow><mi>s</mi><mi>y</mi><mi>s</mi></mrow></msub></mrow><annotation encoding="application/x-tex">M_{sys}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">sys</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span> (系统开销)：Ubuntu OS + Docker + 中间件 ≈ <strong>1.5 GB</strong>。</li>
<li class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mrow><mi>m</mi><mi>o</mi><mi>d</mi><mi>e</mi><mi>l</mi></mrow></msub></mrow><annotation encoding="application/x-tex">M_{model}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.01968em">l</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> (模型权重)：选用 Qwen-VL-Chat-Int4 (7B量化版) ≈ <strong>5.5 GB</strong> (含运行时Buffer)。</li>
<li class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mrow><mi>k</mi><mi>v</mi><mi mathvariant="normal">_</mi><mi>c</mi><mi>a</mi><mi>c</mi><mi>h</mi><mi>e</mi></mrow></msub></mrow><annotation encoding="application/x-tex">M_{kv\_cache}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0503em;vertical-align:-0.367em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em">k</span><span class="mord mathnormal mtight" style="margin-right:0.03588em">v</span><span class="mord mtight" style="margin-right:0.02778em">_</span><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight">h</span><span class="mord mathnormal mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.367em"><span></span></span></span></span></span></span></span></span></span> (上下文显存)：每个请求生成约 512 Tokens 的报告，FP16精度下约需 256MB/请求。</li>
<li class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>N</mi><mrow><mi>b</mi><mi>a</mi><mi>t</mi><mi>c</mi><mi>h</mi></mrow></msub></mrow><annotation encoding="application/x-tex">N_{batch}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">ba</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">c</span><span class="mord mathnormal mtight">h</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span> (并发数)：<strong>4路</strong>。</li>
</ul>
<p><strong>计算过程：</strong>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>M</mi><mrow><mi>t</mi><mi>o</mi><mi>t</mi><mi>a</mi><mi>l</mi></mrow></msub><mo>=</mo><mn>1.5</mn><mtext>GB</mtext><mo>+</mo><mn>5.5</mn><mtext>GB</mtext><mo>+</mo><mo stretchy="false">(</mo><mn>0.25</mn><mtext>GB</mtext><mo>×</mo><mn>4</mn><mo stretchy="false">)</mo><mo>=</mo><mrow><mn mathvariant="bold">8.0</mn><mtext>GB</mtext></mrow></mrow><annotation encoding="application/x-tex">M_{total} = 1.5\text{GB} + 5.5\text{GB} + (0.25\text{GB} \times 4) = \mathbf{8.0\text{GB}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.109em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.01968em">l</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord">1.5</span><span class="mord text"><span class="mord">GB</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord">5.5</span><span class="mord text"><span class="mord">GB</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord">0.25</span><span class="mord text"><span class="mord">GB</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">4</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord"><span class="mord mathbf">8.0</span><span class="mord text"><span class="mord">GB</span></span></span></span></span></span></p>
<p><strong>结论：</strong></p>
<ul>
<li class=""><strong>Orin NX 8GB版</strong>：可用显存约 6-7GB &lt; 需求 8.0GB <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em"></span><span class="mrel">→</span></span></span></span> <strong>有风险，极易崩溃</strong>。</li>
<li class=""><strong>Orin NX 16GB版</strong>：可用显存 &gt; 14GB <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≫</mo></mrow><annotation encoding="application/x-tex">\gg</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em"></span><span class="mrel">≫</span></span></span></span> 需求 8.0GB <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em"></span><span class="mrel">→</span></span></span></span> <strong>完美承载</strong>。</li>
<li class=""><strong>冗余度</strong>：16GB 版本剩余约 6GB 显存，可用于未来扩展更多灶台或运行更复杂的System 1逻辑。</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="维度二推理吞吐与延迟这就够快吗">维度二：推理吞吐与延迟（“这就够快吗？”）<a href="#维度二推理吞吐与延迟这就够快吗" class="hash-link" aria-label="Direct link to 维度二：推理吞吐与延迟（“这就够快吗？”）" title="Direct link to 维度二：推理吞吐与延迟（“这就够快吗？”）" translate="no">​</a></h4>
<p>4个灶台同时报警如果采用串行处理会卡顿。我们利用<strong>Roofline模型</strong>分析并发处理时间。由于大模型推理是典型的<strong>显存带宽受限</strong>任务，计算时间主要取决于搬运数据的速度。</p>
<p><strong>计算公式：</strong>
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mrow><mi>t</mi><mi>o</mi><mi>t</mi><mi>a</mi><mi>l</mi></mrow></msub><mo>≈</mo><msub><mi>T</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi><mi>f</mi><mi>i</mi><mi>l</mi><mi>l</mi></mrow></msub><mo>+</mo><mfrac><mrow><mi>M</mi><mi>o</mi><mi>d</mi><mi>e</mi><mi>l</mi><mi>S</mi><mi>i</mi><mi>z</mi><mi>e</mi></mrow><mrow><mi>B</mi><mi>a</mi><mi>n</mi><mi>d</mi><mi>w</mi><mi>i</mi><mi>d</mi><mi>t</mi><mi>h</mi></mrow></mfrac><mo>×</mo><msub><mi>L</mi><mrow><mi>o</mi><mi>u</mi><mi>t</mi><mi>p</mi><mi>u</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">T_{total} \approx T_{prefill} + \frac{ModelSize}{Bandwidth} \times L_{output}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.01968em">l</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">re</span><span class="mord mathnormal mtight" style="margin-right:0.10764em">f</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight" style="margin-right:0.01968em">ll</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.2251em;vertical-align:-0.345em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05017em">B</span><span class="mord mathnormal mtight">an</span><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight" style="margin-right:0.02691em">w</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">t</span><span class="mord mathnormal mtight">h</span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.10903em">M</span><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">d</span><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.05764em">lS</span><span class="mord mathnormal mtight">i</span><span class="mord mathnormal mtight">ze</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">tp</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></p>
<ul>
<li class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mi>o</mi><mi>d</mi><mi>e</mi><mi>l</mi><mi>S</mi><mi>i</mi><mi>z</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">ModelSize</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="mord mathnormal">o</span><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.05764em">lS</span><span class="mord mathnormal">i</span><span class="mord mathnormal">ze</span></span></span></span>：模型权重大小 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≈</mo><mn>5.5</mn><mtext>GB</mtext></mrow><annotation encoding="application/x-tex">\approx 5.5 \text{GB}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4831em"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord">5.5</span><span class="mord text"><span class="mord">GB</span></span></span></span></span>。</li>
<li class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mi>a</mi><mi>n</mi><mi>d</mi><mi>w</mi><mi>i</mi><mi>d</mi><mi>t</mi><mi>h</mi></mrow><annotation encoding="application/x-tex">Bandwidth</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="mord mathnormal">an</span><span class="mord mathnormal">d</span><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="mord mathnormal">i</span><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span><span class="mord mathnormal">h</span></span></span></span>：Orin NX 内存带宽 = <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>102.4</mn><mtext>GB/s</mtext></mrow><annotation encoding="application/x-tex">102.4 \text{GB/s}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">102.4</span><span class="mord text"><span class="mord">GB/s</span></span></span></span></span> (实测有效带宽约 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>70</mn><mtext>GB/s</mtext></mrow><annotation encoding="application/x-tex">70 \text{GB/s}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord">70</span><span class="mord text"><span class="mord">GB/s</span></span></span></span></span>)。</li>
<li class=""><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>L</mi><mrow><mi>o</mi><mi>u</mi><mi>t</mi><mi>p</mi><mi>u</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">L_{output}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal">L</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">tp</span><span class="mord mathnormal mtight">u</span><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span>：报告生成的长度（Token数），设为 200 Tokens。</li>
<li class=""><strong>关键技术</strong>：我们采用了 <strong>Continuous Batching（连续批处理）</strong> 技术。这意味着处理4路请求时，GPU只需读取一次权重即可同时计算4个请求。</li>
</ul>
<p><strong>性能测算：</strong></p>
<ol>
<li class="">
<p><strong>串行处理（传统模式，无优化）</strong>：</p>
<ul>
<li class="">单次推理耗时：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>5.5</mn><mtext>GB</mtext><mi mathvariant="normal">/</mi><mn>70</mn><mtext>GB/s</mtext><mo stretchy="false">)</mo><mo>×</mo><mn>200</mn><mo>≈</mo><mn>15.7</mn><mtext>s</mtext></mrow><annotation encoding="application/x-tex">(5.5 \text{GB} / 70 \text{GB/s}) \times 200 \approx 15.7 \text{s}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord">5.5</span><span class="mord text"><span class="mord">GB</span></span><span class="mord">/70</span><span class="mord text"><span class="mord">GB/s</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">200</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">15.7</span><span class="mord text"><span class="mord">s</span></span></span></span></span> (理论上限，实际因优化约 6-8s)。</li>
<li class="">4路排队总耗时：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>8</mn><mtext>s</mtext><mo>×</mo><mn>4</mn><mo>=</mo><mrow><mn mathvariant="bold">32</mn><mtext>s</mtext></mrow></mrow><annotation encoding="application/x-tex">8\text{s} \times 4 = \mathbf{32\text{s}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em"></span><span class="mord">8</span><span class="mord text"><span class="mord">s</span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">4</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord"><span class="mord mathbf">32</span><span class="mord text"><span class="mord">s</span></span></span></span></span></span>。</li>
<li class=""><em>评价：太慢，不可接受。</em></li>
</ul>
</li>
<li class="">
<p><strong>并行处理（本方案，Batch=4）</strong>：</p>
<ul>
<li class="">显存读取：依然只读1次权重。</li>
<li class="">计算算力：157 TOPS 的算力足以支撑 4 倍的矩阵运算（计算利用率从 5% 提升至 20%）。</li>
<li class="">4路并发总耗时：<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>≈</mo><mrow><mn mathvariant="bold">8.5</mn><mtext>s</mtext></mrow></mrow><annotation encoding="application/x-tex">\approx \mathbf{8.5\text{s}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4831em"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord"><span class="mord mathbf">8.5</span><span class="mord text"><span class="mord">s</span></span></span></span></span></span>。</li>
</ul>
</li>
</ol>
<p><strong>结论：</strong>
在最极端的“4灶台同时起火”场景下，系统能够在 <strong>10秒内</strong> 同时生成4份独立的分析报告。相比传统的32秒排队，效率提升 <strong>400%</strong>，完全满足消防应急的实时性要求。</p>
<h2 class="anchor anchorTargetStickyNavbar_aDle" id="system-1-规则引擎设计脊髓反射层">System 1 规则引擎设计（脊髓反射层）<a href="#system-1-规则引擎设计脊髓反射层" class="hash-link" aria-label="Direct link to System 1 规则引擎设计（脊髓反射层）" title="Direct link to System 1 规则引擎设计（脊髓反射层）" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="设计哲学确定性的时空过滤器">设计哲学：确定性的“时空过滤器”<a href="#设计哲学确定性的时空过滤器" class="hash-link" aria-label="Direct link to 设计哲学：确定性的“时空过滤器”" title="Direct link to 设计哲学：确定性的“时空过滤器”" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="核心定位">核心定位<a href="#核心定位" class="hash-link" aria-label="Direct link to 核心定位" title="Direct link to 核心定位" translate="no">​</a></h4>
<!-- -->
<p><strong>System 1 技术栈选型表：</strong></p>
<table><thead><tr><th style="text-align:left">组件</th><th style="text-align:left">选型</th><th style="text-align:left">理由</th></tr></thead><tbody><tr><td style="text-align:left"><strong>开发语言</strong></td><td style="text-align:left"><strong>Python 3.8+</strong></td><td style="text-align:left">快速迭代，利于处理 JSON 数据，性能足够满足 10ms 延迟要求。</td></tr><tr><td style="text-align:left"><strong>状态机库</strong></td><td style="text-align:left"><strong>transitions</strong></td><td style="text-align:left">轻量级、功能强大的 Python FSM 库，支持回调和嵌套状态。</td></tr><tr><td style="text-align:left"><strong>数据验证</strong></td><td style="text-align:left"><strong>Pydantic</strong></td><td style="text-align:left">严格的数据模型定义与校验，防止脏数据导致逻辑崩溃。</td></tr><tr><td style="text-align:left"><strong>进程管理</strong></td><td style="text-align:left"><strong>Systemd</strong></td><td style="text-align:left">确保服务开机自启与崩溃重启，保障 7x24 小时可用性。</td></tr><tr><td style="text-align:left"><strong>通信协议</strong></td><td style="text-align:left"><strong>ZeroMQ (PUB/SUB)</strong></td><td style="text-align:left">极低延迟的进程间通信，用于接收瑞景盒子数据及发送 System 2 请求。</td></tr><tr><td style="text-align:left">System 1 部署在 NVIDIA Orin NX 的 <strong>CPU</strong> 核心上（预留 GPU 给大模型），是一个基于 <strong>有限状态机 (FSM)</strong> 的确定性逻辑引擎。</td><td style="text-align:left"></td><td style="text-align:left"></td></tr></tbody></table>
<ul>
<li class=""><strong>输入</strong>：来自瑞景视觉盒子的结构化高频数据流（JSON, 5-10Hz）。</li>
<li class=""><strong>输出</strong>：高置信度的“疑似风险事件”，作为唤醒 System 2 的触发器。</li>
<li class=""><strong>性能指标</strong>：单帧处理延迟 <strong>&lt; 10ms</strong>。</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="解决的核心痛点">解决的核心痛点<a href="#解决的核心痛点" class="hash-link" aria-label="Direct link to 解决的核心痛点" title="Direct link to 解决的核心痛点" translate="no">​</a></h4>
<p>在厨房实战中，单纯依赖视觉检测（L0）会面临巨大的<strong>瞬时误报</strong>挑战：</p>
<ol>
<li class=""><strong>光影干扰</strong>：不锈钢台面反光、厨师翻炒时的瞬间火苗跃动。</li>
<li class=""><strong>视线遮挡</strong>：厨师经过灶台瞬间遮挡火焰，或转身拿料导致“人体消失”1-2秒。</li>
<li class=""><strong>非违规离开</strong>：厨师转身去身后2米的切配台拿菜，时长仅10秒（合规），不应报警。</li>
</ol>
<p>System 1 的任务就是引入 <strong>时间维度</strong> 的校验，将“瞬间的像素变化”过滤为“持续的行为状态”。</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="核心算法逻辑防抖动状态机">核心算法逻辑：防抖动状态机<a href="#核心算法逻辑防抖动状态机" class="hash-link" aria-label="Direct link to 核心算法逻辑：防抖动状态机" title="Direct link to 核心算法逻辑：防抖动状态机" translate="no">​</a></h3>
<p>我们将“明火离人”场景抽象为四个标准状态，系统在这些状态间流转。</p>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="状态定义">状态定义<a href="#状态定义" class="hash-link" aria-label="Direct link to 状态定义" title="Direct link to 状态定义" translate="no">​</a></h4>
<ol>
<li class=""><strong>S0: IDLE (空闲态)</strong>
<ul>
<li class=""><strong>特征</strong>：瑞景Box未检测到灶台有明火。</li>
<li class=""><strong>动作</strong>：清空所有计时器，系统休眠。</li>
</ul>
</li>
<li class=""><strong>S1: COOKING (正常烹饪态)</strong>
<ul>
<li class=""><strong>特征</strong>：检测到明火 <code>AND</code> (检测到人员 <code>OR</code> 人员消失时间 &lt; 容忍阈值 <code>T_tolerance</code>)。</li>
<li class=""><strong>动作</strong>：重置“离岗计时器”，维持正常监控。</li>
</ul>
</li>
<li class=""><strong>S2: PRE-WARNING (风险预警/抗干扰态)</strong>
<ul>
<li class=""><strong>特征</strong>：检测到明火 <code>AND</code> 未检测到人员。</li>
<li class=""><strong>动作</strong>：启动“离岗计时器” (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mrow><mi>e</mi><mi>l</mi><mi>a</mi><mi>p</mi><mi>s</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">T_{elapsed}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.01968em">l</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">se</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span>)。此状态是<strong>System 1 的核心过滤器</strong>，用于容忍厨师的短暂离开或视觉遮挡。</li>
</ul>
</li>
<li class=""><strong>S3: ALARM (违规确证态)</strong>
<ul>
<li class=""><strong>特征</strong>：检测到明火 <code>AND</code> 未检测到人员 <code>AND</code> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mrow><mi>e</mi><mi>l</mi><mi>a</mi><mi>p</mi><mi>s</mi><mi>e</mi><mi>d</mi></mrow></msub><mo>≥</mo><mn>30</mn><mi>s</mi></mrow><annotation encoding="application/x-tex">T_{elapsed} \ge 30s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.01968em">l</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">se</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">30</span><span class="mord mathnormal">s</span></span></span></span> (法规阈值)。</li>
<li class=""><strong>动作</strong>：锁定当前状态，<strong>唤醒 System 2</strong>，打包上下文数据。</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="状态流转图与防抖逻辑">状态流转图与防抖逻辑<a href="#状态流转图与防抖逻辑" class="hash-link" aria-label="Direct link to 状态流转图与防抖逻辑" title="Direct link to 状态流转图与防抖逻辑" translate="no">​</a></h4>
<!-- -->
<p>为了避免误报，我们在 S1 和 S2 之间设计了 <strong>“宽容度缓冲” (Hysteresis Buffer)</strong>：</p>
<ul>
<li class=""><strong>进入预警 (S1 -&gt; S2)</strong>：当视觉信号显示“无人”时，<strong>立即</strong>进入计时状态。</li>
<li class=""><strong>解除预警 (S2 -&gt; S1)</strong>：<!-- -->
<ul>
<li class=""><strong>普通逻辑</strong>：一旦检测到人，立即重置。</li>
<li class=""><strong>防抖优化</strong>：如果人在画面中只是“闪现”（例如路过的传菜员），不应视为回归。要求人员在 ROI 区域内<strong>持续停留 &gt; 2秒</strong>，才判定为“厨师回归”，重置计时器。</li>
</ul>
</li>
<li class=""><strong>触发报警 (S2 -&gt; S3)</strong>：仅当 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>T</mi><mrow><mi>e</mi><mi>l</mi><mi>a</mi><mi>p</mi><mi>s</mi><mi>e</mi><mi>d</mi></mrow></msub></mrow><annotation encoding="application/x-tex">T_{elapsed}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span><span class="mord mathnormal mtight" style="margin-right:0.01968em">l</span><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight">se</span><span class="mord mathnormal mtight">d</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span> 严格超过 30秒（可配置），且期间无有效回归信号。</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="数据处理管道">数据处理管道<a href="#数据处理管道" class="hash-link" aria-label="Direct link to 数据处理管道" title="Direct link to 数据处理管道" translate="no">​</a></h3>
<!-- -->
<p>System 1 内部的数据处理遵循 <strong>清洗 -&gt; 对齐 -&gt; 匹配</strong> 的流水线。</p>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="空间过滤">空间过滤<a href="#空间过滤" class="hash-link" aria-label="Direct link to 空间过滤" title="Direct link to 空间过滤" translate="no">​</a></h4>
<p>瑞景盒子可能上报全图的检测结果，System 1 必须进行二次空间校验。</p>
<ul>
<li class=""><strong>ROI 映射</strong>：我们在 System 1 配置文件中定义 <code>ROI_Stove</code> (灶头) 和 <code>ROI_Operation</code> (操作区)。</li>
<li class=""><strong>关联逻辑</strong>：<!-- -->
<ul>
<li class="">只有落在 <code>ROI_Stove</code> 内的火才被视为有效火源（排除背景屏幕上的火苗视频）。</li>
<li class="">只有落在 <code>ROI_Operation</code> 内的人才被视为有效看管人（排除远处路过的闲杂人等）。</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="信号对齐与去噪">信号对齐与去噪<a href="#信号对齐与去噪" class="hash-link" aria-label="Direct link to 信号对齐与去噪" title="Direct link to 信号对齐与去噪" translate="no">​</a></h4>
<ul>
<li class=""><strong>信号保持</strong>：如果瑞景盒子因网络波动丢帧，System 1 会维持上一帧的状态最多 <strong>500ms</strong>，避免因传输抖动导致的计时器误重置。</li>
<li class=""><strong>置信度门限</strong>：<!-- -->
<ul>
<li class="">火焰置信度阈值：设为 0.6（宁可误入S2状态，也不漏报）。</li>
<li class="">人员置信度阈值：设为 0.4（只要有疑似人员在，就倾向于认为是安全的，避免误报）。</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="触发接口设计system-1-to-system-2">触发接口设计：System 1 to System 2<a href="#触发接口设计system-1-to-system-2" class="hash-link" aria-label="Direct link to 触发接口设计：System 1 to System 2" title="Direct link to 触发接口设计：System 1 to System 2" translate="no">​</a></h3>
<p>当状态机进入 <strong>S3 (ALARM)</strong> 态时，System 1 不会直接发短信报警，而是构造一个包含<strong>丰富上下文</strong>的请求包，发送给 System 2 进行“专家会诊”。</p>
<h5 class="anchor anchorTargetStickyNavbar_aDle" id="触发协议">触发协议<a href="#触发协议" class="hash-link" aria-label="Direct link to 触发协议" title="Direct link to 触发协议" translate="no">​</a></h5>
<div class="language-json codeBlockContainer_FVab theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oMSL"><pre tabindex="0" class="prism-code language-json codeBlock_MTmK thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_KEkQ"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;trace_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;evt_20240125_1001&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;trigger_reason&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;UNATTENDED_FIRE_TIMEOUT&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;timestamp&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1706148000</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;camera_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;cam_kitchen_01&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 核心：System 1 提供的时空证据链</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;evidence&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;fire_duration&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">450</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// 火焰已持续燃烧时长 (秒)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;person_absent_duration&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">31</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 人员已消失时长 (秒)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;last_seen_person_ts&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1706147969</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 最后一次看到人的时间</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;confidence_scores&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;fire&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.92</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">&quot;person&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.05</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 附件：用于 System 2 视觉分析的素材</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;attachments&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;current_snapshot&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/tmp/shm/snap_current.jpg&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 当前无人画面</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;last_person_snapshot&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/tmp/shm/snap_last_seen.jpg&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// 30秒前有人画面(用于对比)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="为什么需要发送-last_person_snapshot">为什么需要发送 &quot;last_person_snapshot&quot;？<a href="#为什么需要发送-last_person_snapshot" class="hash-link" aria-label="Direct link to 为什么需要发送 &quot;last_person_snapshot&quot;？" title="Direct link to 为什么需要发送 &quot;last_person_snapshot&quot;？" translate="no">​</a></h4>
<p>这是一个架构巧思。System 2（大模型）不仅看当前画面，还可以对比 <strong>30秒前有人</strong> 的画面。</p>
<ul>
<li class=""><strong>Prompt 思路</strong>：“请对比图A（30秒前）和图B（当前）。图A中有厨师在炒菜，图B中同一位置空无一人，且灶台火焰依然在燃烧。这是否构成违规？”</li>
<li class=""><strong>价值</strong>：这种对比极大地提升了大模型判断的准确性，让它理解“离岗”是一个<strong>变化过程</strong>，而不仅仅是一个静态瞬间。</li>
</ul>
<hr>
<p><strong>本章小结：</strong>
System 1 是本方案的<strong>守门员</strong>。它不依赖昂贵的 GPU 算力，仅凭 CPU 运行的逻辑状态机，就能<strong>过滤掉 95% 以上由反光、遮挡、短暂转身引起的瞬时干扰</strong>。它保证了只有真正具备“时空持续性”的风险，才会被提交给 System 2 进行最终裁决，这是我们实现“极低误报率”承诺的技术基石。</p>
<h2 class="anchor anchorTargetStickyNavbar_aDle" id="system-2-认知推理设计大脑研判层">System 2 认知推理设计（大脑研判层）<a href="#system-2-认知推理设计大脑研判层" class="hash-link" aria-label="Direct link to System 2 认知推理设计（大脑研判层）" title="Direct link to System 2 认知推理设计（大脑研判层）" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="设计理念构建全感官认知中枢">设计理念：构建“全感官”认知中枢<a href="#设计理念构建全感官认知中枢" class="hash-link" aria-label="Direct link to 设计理念：构建“全感官”认知中枢" title="Direct link to 设计理念：构建“全感官”认知中枢" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="核心差异化">核心差异化<a href="#核心差异化" class="hash-link" aria-label="Direct link to 核心差异化" title="Direct link to 核心差异化" translate="no">​</a></h4>
<!-- -->
<p><strong>System 2 技术栈选型表：</strong></p>
<table><thead><tr><th style="text-align:left">组件</th><th style="text-align:left">选型</th><th style="text-align:left">理由</th></tr></thead><tbody><tr><td style="text-align:left"><strong>基座模型</strong></td><td style="text-align:left"><strong>Qwen-VL-Chat-Int4</strong></td><td style="text-align:left">阿里通义千问多模态版本，中文理解能力极强，Int4 量化后完美适配 16GB 显存。</td></tr><tr><td style="text-align:left"><strong>推理引擎</strong></td><td style="text-align:left"><strong>TensorRT-LLM</strong></td><td style="text-align:left">NVIDIA 官方高性能推理框架，支持 Continuous Batching 和 PagedAttention，吞吐量是 Python 后端的 4 倍以上。</td></tr><tr><td style="text-align:left"><strong>服务框架</strong></td><td style="text-align:left"><strong>Triton Inference Server</strong></td><td style="text-align:left">工业级 AI 服务框架，支持高并发、动态批处理和模型热更新。</td></tr><tr><td style="text-align:left"><strong>微调框架</strong></td><td style="text-align:left"><strong>LoRA (PEFT)</strong></td><td style="text-align:left">参数高效微调技术，仅需训练少量参数即可注入厨房安全领域的专业知识。</td></tr><tr><td style="text-align:left"><strong>量化工具</strong></td><td style="text-align:left"><strong>AutoGPTQ / AWQ</strong></td><td style="text-align:left">保持高精度的同时将模型体积压缩 75%，是边缘端运行大模型的关键。</td></tr><tr><td style="text-align:left">System 2 不是传统的“看图说话”工具，而是一个具备 <strong>多模态融合（Multi-Modal Fusion）</strong> 能力的认知中枢。</td><td style="text-align:left"></td><td style="text-align:left"></td></tr></tbody></table>
<ul>
<li class=""><strong>传统方案</strong>：视觉算视觉的（检测火），物联网算物联网的（检测温度），两者是割裂的。</li>
<li class=""><strong>本方案</strong>：我们将视觉信号（图像）与非视觉信号（温度、时间、状态）映射到同一个<strong>语义空间</strong>。对于大模型而言，280℃的温度读数与画面中红色的火焰具有等同的语义权重，两者互为验证，彻底解决单模态误报问题。</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="部署架构">部署架构<a href="#部署架构" class="hash-link" aria-label="Direct link to 部署架构" title="Direct link to 部署架构" translate="no">​</a></h4>
<ul>
<li class=""><strong>运行环境</strong>：NVIDIA Jetson Orin NX Super GPU。</li>
<li class=""><strong>核心模型</strong>：<strong>Qwen-VL-Chat-Int4</strong> (经过厨房场景专用 LoRA 微调)。</li>
<li class=""><strong>推理引擎</strong>：<strong>TensorRT-LLM</strong>，支持 FlashAttention-2 加速。</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="核心机制多模态上下文融合">核心机制：多模态上下文融合<a href="#核心机制多模态上下文融合" class="hash-link" aria-label="Direct link to 核心机制：多模态上下文融合" title="Direct link to 核心机制：多模态上下文融合" translate="no">​</a></h3>
<p>大模型无法直接“吃”传感器数据，我们需要设计一套<strong>提示词工程（Prompt Engineering）+ 数据文本化</strong>的标准化管道，将物理世界的异构数据转化为模型可理解的 <strong>Context（上下文）</strong>。</p>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="输入层构造">输入层构造<a href="#输入层构造" class="hash-link" aria-label="Direct link to 输入层构造" title="Direct link to 输入层构造" translate="no">​</a></h4>
<p>System 2 的输入不仅仅是一张图，而是一个包含<strong>三维信息</strong>的复合Prompt：</p>
<ol>
<li class=""><strong>视觉维度</strong>：<!-- -->
<ul>
<li class="">System 1 抓取的“案发时刻”高清截图。</li>
<li class="">通过视觉编码器转化为高维特征向量。</li>
</ul>
</li>
<li class=""><strong>物理维度</strong>：<!-- -->
<ul>
<li class="">将传感器数值转化为自然语言描述。</li>
<li class=""><em>转化逻辑</em>：<code>Temp=280, Rate=+2.5</code> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em"></span><span class="mrel">→</span></span></span></span> &quot;灶台当前温度280℃，且过去30秒内呈急剧上升趋势。&quot;</li>
</ul>
</li>
<li class=""><strong>时间维度</strong>：<!-- -->
<ul>
<li class="">System 1 提供的状态机历史。</li>
<li class=""><em>转化逻辑</em>：<code>Person_Count=0, Duration=35s</code> <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em"></span><span class="mrel">→</span></span></span></span> &quot;操作区域已连续35秒未检测到人员活动。&quot;</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="融合推理-prompt-模板">融合推理 Prompt 模板<a href="#融合推理-prompt-模板" class="hash-link" aria-label="Direct link to 融合推理 Prompt 模板" title="Direct link to 融合推理 Prompt 模板" translate="no">​</a></h4>
<p>我们将上述信息封装进如下标准 Prompt 中，发送给大模型：</p>
<blockquote>
<p><strong>[System Role]</strong>: 你是消防安全专家，负责依据《餐饮服务食品安全操作规范》进行合规研判。</p>
<p><strong>[Input Data]</strong>:</p>
<ul>
<li class=""><strong><code>&lt;Image_Placeholder&gt;</code></strong> (视觉编码器生成的Token)</li>
<li class=""><strong>[环境数据]</strong>: 灶台红外温度读数 <strong>285℃</strong>（已超过食用油烟点）。</li>
<li class=""><strong>[时序状态]</strong>: 视觉传感器显示操作区 <strong>无人</strong>，且该状态已持续 <strong>35秒</strong>。</li>
</ul>
<p><strong>[Reasoning Task]</strong>:
请结合画面中的火焰形态与上述传感器数据进行交叉验证：</p>
<ol>
<li class=""><strong>现象确认</strong>: 画面是否有明火？温度数据是否支持燃烧现象？(排除屏幕视频误报)</li>
<li class=""><strong>逻辑归因</strong>: 既然是猛火烹饪（温度&gt;250℃），为何人员离岗超过30秒？</li>
<li class=""><strong>结论</strong>: 判断风险等级（P0/P1），并给出处置建议。</li>
</ol>
</blockquote>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="深度推理逻辑思维链">深度推理逻辑：思维链<a href="#深度推理逻辑思维链" class="hash-link" aria-label="Direct link to 深度推理逻辑：思维链" title="Direct link to 深度推理逻辑：思维链" translate="no">​</a></h3>
<p>模型将执行一步步的逻辑推演，而非直接猜测结果。这种 <strong>CoT（思维链）</strong> 机制是实现“深度认知”的关键。</p>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="推理过程模拟">推理过程模拟<a href="#推理过程模拟" class="hash-link" aria-label="Direct link to 推理过程模拟" title="Direct link to 推理过程模拟" translate="no">​</a></h4>
<!-- -->
<p>当上述 Prompt 输入后，模型的内部推理过程如下：</p>
<ol>
<li class=""><strong>Step 1: 视觉与物理的交叉验证</strong>
<ul>
<li class=""><em>思考</em>：“我看到画面中有明亮的黄色火焰（视觉），同时传感器读数为 285℃（物理）。视觉与物理信号一致，<strong>确认不是误报</strong>（如排除了反射光或电视画面）。”</li>
</ul>
</li>
<li class=""><strong>Step 2: 时间窗口的合规性判定</strong>
<ul>
<li class=""><em>思考</em>：&quot;当前是猛火状态，风险极高。根据规范，此时必须有人看管。但时序数据显示&#x27;无人持续35秒&#x27;。这超过了正常&#x27;转身拿调料&#x27;（通常&lt;10秒）的合理时间窗口。&quot;</li>
</ul>
</li>
<li class=""><strong>Step 3: 意图与风险定级</strong>
<ul>
<li class=""><em>思考</em>：“高温 + 长时间无人 = 油锅干烧风险极大。这属于违规离岗行为。”</li>
</ul>
</li>
<li class=""><strong>Step 4: 生成最终报告</strong>
<ul>
<li class=""><em>输出</em>：“检测到P0级干烧风险。证据：视觉确认明火且温度达285℃，人员已违规离岗35秒，违反安全规范。建议立即切断气源。”</li>
</ul>
</li>
</ol>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="深度定制优化lora-微调">深度定制优化：LoRA 微调<a href="#深度定制优化lora-微调" class="hash-link" aria-label="Direct link to 深度定制优化：LoRA 微调" title="Direct link to 深度定制优化：LoRA 微调" translate="no">​</a></h3>
<p>通用的 Qwen-VL 模型虽然强大，但它不懂“什么是正常爆炒”、“什么是异常干烧”。我们需要通过 <strong>LoRA (Low-Rank Adaptation)</strong> 技术，让模型从“通才”变成“专才”。</p>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="微调数据集构建">微调数据集构建<a href="#微调数据集构建" class="hash-link" aria-label="Direct link to 微调数据集构建" title="Direct link to 微调数据集构建" translate="no">​</a></h4>
<p>在准备期间，我们构建一个小规模但高质量的<strong>指令微调数据集（约 500-1000 条）</strong>：</p>
<ul>
<li class=""><strong>正样本（教会它报警）</strong>：<!-- -->
<ul>
<li class="">场景：各种角度的灶台起火、不同颜色的火焰（油火、纸火）。</li>
<li class="">指令：输入包含“无人+高温”的数据，要求模型输出“P0报警”。</li>
</ul>
</li>
<li class=""><strong>负样本（教会它不误报 - 核心难点）</strong>：<!-- -->
<ul>
<li class=""><strong>难例1（正常操作）</strong>：厨师在颠勺，火焰很大（有火有人）。<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em"></span><span class="mrel">→</span></span></span></span> 训练目标：判定为“正常烹饪”。</li>
<li class=""><strong>难例2（短暂离开）</strong>：厨师转身拿盘子，离开仅 5 秒。<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em"></span><span class="mrel">→</span></span></span></span> 训练目标：判定为“安全，处于容忍窗口内”。</li>
<li class=""><strong>难例3（蒸汽干扰）</strong>：大量白色蒸汽，温度 90℃。<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.3669em"></span><span class="mrel">→</span></span></span></span> 训练目标：判定为“蒸汽，非火灾”。</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="训练与部署策略">训练与部署策略<a href="#训练与部署策略" class="hash-link" aria-label="Direct link to 训练与部署策略" title="Direct link to 训练与部署策略" translate="no">​</a></h4>
<!-- -->
<ol>
<li class=""><strong>训练方式</strong>：使用云端 A100 GPU，冻结基座模型参数，仅训练 LoRA 适配层，参数量仅占原模型的 1%-2%。</li>
<li class=""><strong>边缘热加载</strong>：将训练好的 LoRA 权重文件（仅几十MB）下发到 Jetson Orin NX。</li>
<li class=""><strong>推理加速</strong>：利用 TensorRT-LLM 将基座模型与 LoRA 权重融合，并量化为 <strong>INT4</strong> 格式。<!-- -->
<ul>
<li class=""><em>收益</em>：显存占用降低至 6GB 以下，推理速度提升至 20 tokens/s 以上，确保在边缘端 <strong>3秒内</strong> 输出结果。</li>
</ul>
</li>
</ol>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="输出接口与应用对接">输出接口与应用对接<a href="#输出接口与应用对接" class="hash-link" aria-label="Direct link to 输出接口与应用对接" title="Direct link to 输出接口与应用对接" translate="no">​</a></h3>
<p>System 2 最终输出的是一个 <strong>结构化 JSON</strong>，而非一段废话。这使得前端 UI 可以直接渲染。</p>
<div class="language-json codeBlockContainer_FVab theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oMSL"><pre tabindex="0" class="prism-code language-json codeBlock_MTmK thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_KEkQ"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;event_id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;evt_20240201_001&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;reasoning_trace&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;visual_check&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;检测到猛火，火焰高度约40cm&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;sensor_check&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;温度285℃，确认物理燃烧&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;temporal_check&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;人员缺失35秒，超出安全阈值&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;conclusion&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;判定为违规离岗导致的干烧风险&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;risk_level&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;P0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;actions&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;cmd&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;alert_sound&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;params&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;alarm_level_1&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token property" style="color:#36acaa">&quot;cmd&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;send_sms&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;target&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;manager&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<hr>
<p><strong>本章小结：</strong>
通过 <strong>多模态融合 + 时间窗口逻辑 + LoRA 专有微调</strong> 三位一体的设计，System 2 彻底超越了传统摄像头的“监控”属性。它不再是一个只会报警的传感器，而是一个懂业务、懂逻辑、有记忆的 <strong>AI 安全专家</strong>。这正是本方案能够实现“极低误报、极高价值”的技术护城河。</p>
<h2 class="anchor anchorTargetStickyNavbar_aDle" id="实施计划与资源保障">实施计划与资源保障<a href="#实施计划与资源保障" class="hash-link" aria-label="Direct link to 实施计划与资源保障" title="Direct link to 实施计划与资源保障" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="实施策略api-first--data-driven">实施策略：API First &amp; Data Driven<a href="#实施策略api-first--data-driven" class="hash-link" aria-label="Direct link to 实施策略：API First &amp; Data Driven" title="Direct link to 实施策略：API First &amp; Data Driven" translate="no">​</a></h3>
<p>本项目不涉及前端界面开发，我们将采用 <strong>后端优先（API First）</strong> 与 <strong>数据驱动验证</strong> 的实施策略。核心展示形式为：通过命令行/Postman触发模拟事件，系统实时输出包含完整思维链的JSON数据包，并在本地文件系统中生成带有标注的证据图片与视频片段。</p>
<p>我们将 <strong>2个月（8周）</strong> 的周期划分为四个冲刺阶段（Sprint），每个阶段2周。</p>
<!-- -->
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="sprint-1基础设施与数据管道构建"><strong>Sprint 1：基础设施与数据管道构建</strong><a href="#sprint-1基础设施与数据管道构建" class="hash-link" aria-label="Direct link to sprint-1基础设施与数据管道构建" title="Direct link to sprint-1基础设施与数据管道构建" translate="no">​</a></h4>
<ul>
<li class=""><strong>目标</strong>：打通从“光信号”到“数字信号”的通路，建立稳定的数据底座。</li>
<li class=""><strong>关键任务</strong>：<!-- -->
<ol>
<li class=""><strong>硬件环境搭建</strong>：完成 NVIDIA Jetson Orin NX Super 的系统刷机、网络配置及远程访问环境。</li>
<li class=""><strong>感知流接入</strong>：编写 Python 服务，通过 RTSP 协议拉取热厨摄像头视频流，并进行关键帧解码。</li>
<li class=""><strong>中间件部署</strong>：部署 MQTT Broker作为内部消息总线，定义标准化的 <code>Topic</code> 结构（如 <code>sensor/camera/01/frame</code>）。</li>
<li class=""><strong>瑞景Box对接</strong>：解析瑞景算法盒子的 HTTP/TCP 推送协议，将其转换为内部统一的 JSON 格式并注入 MQTT。</li>
</ol>
</li>
<li class=""><strong>交付物</strong>：<!-- -->
<ul>
<li class="">硬件环境配置清单。</li>
<li class="">数据接入中间件（Docker容器）。</li>
<li class="">实时视频流解码与帧获取模块。</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="sprint-2system-1-脊髓反射层开发"><strong>Sprint 2：System 1 脊髓反射层开发</strong><a href="#sprint-2system-1-脊髓反射层开发" class="hash-link" aria-label="Direct link to sprint-2system-1-脊髓反射层开发" title="Direct link to sprint-2system-1-脊髓反射层开发" translate="no">​</a></h4>
<ul>
<li class=""><strong>目标</strong>：实现“不依赖大模型”的毫秒级过滤与状态判定。</li>
<li class=""><strong>关键任务</strong>：<!-- -->
<ol>
<li class=""><strong>状态机逻辑</strong>：用 Python/Go 实现 <code>Safe</code> -&gt; <code>Pre-Warning</code> -&gt; <code>Alarm</code> 的状态流转逻辑。</li>
<li class=""><strong>时空对齐算法</strong>：将瑞景Box的视觉检测结果（火、人）在时间轴上进行对齐，处理丢帧或延迟导致的信号抖动。</li>
<li class=""><strong>防抖动规则</strong>：实现“30秒容忍窗口”逻辑，过滤掉人员短暂遮挡、转身拿料等伪离岗行为。</li>
<li class=""><strong>离线告警测试</strong>：验证在断网情况下，System 1 能否独立触发本地日志记录（模拟信号灯或日志输出）。</li>
</ol>
</li>
<li class=""><strong>交付物</strong>：<!-- -->
<ul>
<li class="">System 1 规则引擎源代码。</li>
<li class="">状态机流转日志（证明防抖逻辑生效）。</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="sprint-3system-2-认知大脑集成"><strong>Sprint 3：System 2 认知大脑集成</strong><a href="#sprint-3system-2-认知大脑集成" class="hash-link" aria-label="Direct link to sprint-3system-2-认知大脑集成" title="Direct link to sprint-3system-2-认知大脑集成" translate="no">​</a></h4>
<ul>
<li class=""><strong>目标</strong>：部署多模态大模型，赋予系统“逻辑推理”能力。</li>
<li class=""><strong>关键任务</strong>：<!-- -->
<ol>
<li class=""><strong>模型量化部署</strong>：使用 TensorRT-LLM 将 <strong>Qwen-VL-Chat</strong> 部署在 Orin NX 上，优化显存占用至 6-8GB。</li>
<li class=""><strong>Prompt 工程</strong>：调试针对厨房场景的思维链提示词，强制模型按 JSON 格式输出（观察-&gt;分析-&gt;结论）。</li>
<li class=""><strong>推理服务封装</strong>：将大模型封装为标准 API 服务，供 System 1 调用。</li>
<li class=""><strong>证据包生成器</strong>：开发自动截图、视频切片（前后10秒）并打包上传/存储的功能。</li>
</ol>
</li>
<li class=""><strong>交付物</strong>：<!-- -->
<ul>
<li class="">边缘大模型推理服务（Docker镜像）。</li>
<li class="">标准化 Prompt 模板库。</li>
<li class="">推理性能测试报告（TTFT &lt; 500ms, Total &lt; 5s）。</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="sprint-4全链路联调与验收测试"><strong>Sprint 4：全链路联调与验收测试</strong><a href="#sprint-4全链路联调与验收测试" class="hash-link" aria-label="Direct link to sprint-4全链路联调与验收测试" title="Direct link to sprint-4全链路联调与验收测试" translate="no">​</a></h4>
<ul>
<li class=""><strong>目标</strong>：模拟实战，验证系统闭环能力。</li>
<li class=""><strong>关键任务</strong>：<!-- -->
<ol>
<li class=""><strong>全链路联调</strong>：串联“感知 -&gt; 过滤 -&gt; 推理 -&gt; 证据生成”全流程。</li>
<li class=""><strong>API 接口测试</strong>：验证输出的 JSON 数据结构是否符合规范，字段是否完整（包含 <code>risk_level</code>, <code>reasoning</code>, <code>suggestion</code> 等）。</li>
<li class=""><strong>抗干扰测试</strong>：在现场（或模拟环境）制造人为干扰（如用屏幕播放火焰、人员快速穿梭），验证系统是否误报。</li>
<li class=""><strong>文档编写</strong>：编写接口文档、部署手册及Demo演示脚本。</li>
</ol>
</li>
<li class=""><strong>交付物</strong>：<!-- -->
<ul>
<li class="">完整的“明火离人”边缘推理系统（软硬一体）。</li>
<li class="">API 接口文档。</li>
<li class="">验收测试报告（含误报率/漏报率统计）。</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="资源需求清单">资源需求清单<a href="#资源需求清单" class="hash-link" aria-label="Direct link to 资源需求清单" title="Direct link to 资源需求清单" translate="no">​</a></h3>
<p>为了保障Demo的顺利交付，我们需要精准配置软硬件及人力资源。</p>
<!-- -->
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="硬件资源">硬件资源<a href="#硬件资源" class="hash-link" aria-label="Direct link to 硬件资源" title="Direct link to 硬件资源" translate="no">​</a></h4>
<table><thead><tr><th style="text-align:left">设备名称</th><th style="text-align:left">规格要求</th><th style="text-align:left">数量</th><th style="text-align:left">用途</th><th style="text-align:left">备注</th></tr></thead><tbody><tr><td style="text-align:left"><strong>边缘计算盒</strong></td><td style="text-align:left"><strong>NVIDIA Jetson Orin NX 16GB Super</strong></td><td style="text-align:left">1台</td><td style="text-align:left">核心算力单元</td><td style="text-align:left"><strong>必须 16GB 显存</strong>，否则无法运行 System 2</td></tr><tr><td style="text-align:left"><strong>散热套件</strong></td><td style="text-align:left">被动/主动散热铝合金外壳</td><td style="text-align:left">1套</td><td style="text-align:left">保证持续运行</td><td style="text-align:left">厨房环境需防尘防油</td></tr><tr><td style="text-align:left"><strong>感知设备</strong></td><td style="text-align:left">瑞景视觉算法盒子 (现有)</td><td style="text-align:left">1台</td><td style="text-align:left">L0级基础检测</td><td style="text-align:left">利旧</td></tr><tr><td style="text-align:left"><strong>摄像头</strong></td><td style="text-align:left">支持 RTSP 的 IPC (1080P)</td><td style="text-align:left">1台</td><td style="text-align:left">视频流采集</td><td style="text-align:left">需覆盖灶台区域</td></tr><tr><td style="text-align:left"><strong>网络设备</strong></td><td style="text-align:left">千兆交换机/路由器</td><td style="text-align:left">1台</td><td style="text-align:left">局域网组网</td><td style="text-align:left">保证视频流低延迟</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="人力资源配置">人力资源配置<a href="#人力资源配置" class="hash-link" aria-label="Direct link to 人力资源配置" title="Direct link to 人力资源配置" translate="no">​</a></h4>
<p>采用精简的 <strong>2+1</strong> 敏捷小队模式：</p>
<ul>
<li class=""><strong>系统架构师</strong>：<!-- -->
<ul>
<li class="">负责总体技术架构把控、Prompt 策略调优、技术难点攻关。</li>
<li class="">输出：架构设计文档、Prompt 模板。</li>
</ul>
</li>
<li class=""><strong>后端/嵌入式工程师</strong>：<!-- -->
<ul>
<li class="">负责 System 1 状态机开发、中间件部署、API 接口封装、硬件对接。</li>
<li class="">输出：核心功能代码、Docker 镜像。</li>
</ul>
</li>
<li class=""><strong>算法/测试工程师</strong>：<!-- -->
<ul>
<li class="">负责 TensorRT-LLM 环境搭建、模型量化转换、现场数据采集与系统测试。</li>
<li class="">输出：量化模型文件、测试报告。</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="成本估算与报价">成本估算与报价<a href="#成本估算与报价" class="hash-link" aria-label="Direct link to 成本估算与报价" title="Direct link to 成本估算与报价" translate="no">​</a></h3>
<p>本项目总计研发投入预算为 <strong>22万元</strong>，全部用于核心研发团队的人力投入。</p>
<table><thead><tr><th style="text-align:left">关键角色</th><th style="text-align:left">人员职责</th><th style="text-align:left">月薪 (预估)</th><th style="text-align:left">投入人月</th><th style="text-align:left">总成本 (CNY)</th></tr></thead><tbody><tr><td style="text-align:left"><strong>系统架构师</strong></td><td style="text-align:left">负责总体技术架构把控、Prompt 策略调优、技术难点攻关。</td><td style="text-align:left">¥45,000</td><td style="text-align:left">2.0</td><td style="text-align:left">¥90,000</td></tr><tr><td style="text-align:left"><strong>后端/嵌入式工程师</strong></td><td style="text-align:left">负责 System 1 状态机开发、中间件部署、API 接口封装、硬件对接。</td><td style="text-align:left">¥40,000</td><td style="text-align:left">2.0</td><td style="text-align:left">¥80,000</td></tr><tr><td style="text-align:left"><strong>算法/测试工程师</strong></td><td style="text-align:left">负责 TensorRT-LLM 环境搭建、模型量化转换、现场数据采集与系统测试。</td><td style="text-align:left">¥25,000</td><td style="text-align:left">2.0</td><td style="text-align:left">¥50,000</td></tr><tr><td style="text-align:left"><strong>研发总计</strong></td><td style="text-align:left"><strong>“2+1”敏捷小队</strong></td><td style="text-align:left"></td><td style="text-align:left"><strong>6 人月</strong></td><td style="text-align:left"><strong>¥220,000</strong></td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="交付物标准与验收方式">交付物标准与验收方式<a href="#交付物标准与验收方式" class="hash-link" aria-label="Direct link to 交付物标准与验收方式" title="Direct link to 交付物标准与验收方式" translate="no">​</a></h3>
<p>由于不提供界面，我们的验收将基于 <strong>数据</strong> 和 <strong>日志</strong> 进行“白盒验收”。</p>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="核心交付物">核心交付物<a href="#核心交付物" class="hash-link" aria-label="Direct link to 核心交付物" title="Direct link to 核心交付物" translate="no">​</a></h4>
<ol>
<li class=""><strong>可运行的边缘推理一体机</strong>：预装所有软件环境，开机即用。</li>
<li class=""><strong>API 接口文档</strong>：详细定义了输出的 JSON 结构，方便客户后续对接其自有平台。</li>
<li class=""><strong>推理日志与证据包样本</strong>：提供一组真实的报警记录，包含：<!-- -->
<ul>
<li class=""><code>alarm.json</code>：包含完整的思维链推理文本。</li>
<li class=""><code>evidence.jpg</code>：带有 System 1 标注框（火/人）的现场截图。</li>
<li class=""><code>clip.mp4</code>：事件发生前后的短视频。</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="验收演示流程">验收演示流程<a href="#验收演示流程" class="hash-link" aria-label="Direct link to 验收演示流程" title="Direct link to 验收演示流程" translate="no">​</a></h4>
<p>我们将通过以下方式向客户证明系统能力：</p>
<ol>
<li class=""><strong>场景模拟</strong>：在摄像头前模拟“点火”并“离开画面”的动作。</li>
<li class=""><strong>实时日志展示</strong>：在连接大屏的终端上，使用 <code>tail -f</code> 命令实时滚动显示 System 1 的状态变化：<!-- -->
<ul>
<li class=""><code>[INFO] Fire Detected. Person Count: 1. State: COOKING</code></li>
<li class=""><code>[WARN] Person Left. Timer Started: 1s... 5s... 10s...</code></li>
</ul>
</li>
<li class=""><strong>推理触发</strong>：当计时超过设定阈值（如30秒）：<!-- -->
<ul>
<li class=""><code>[ALERT] Timer &gt; 30s. Triggering System 2...</code></li>
</ul>
</li>
<li class=""><strong>结果验证</strong>：<!-- -->
<ul>
<li class="">展示 System 2 生成的 JSON 输出：“检测到明火且无人值守30秒... 风险等级P0...”。</li>
<li class="">打开生成的文件夹，展示系统自动保存的截图和视频证据。</li>
</ul>
</li>
</ol>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="风险管理与预案">风险管理与预案<a href="#风险管理与预案" class="hash-link" aria-label="Direct link to 风险管理与预案" title="Direct link to 风险管理与预案" translate="no">​</a></h3>
<table><thead><tr><th style="text-align:left">风险点</th><th style="text-align:left">风险描述</th><th style="text-align:left">应对预案</th></tr></thead><tbody><tr><td style="text-align:left"><strong>显存溢出 (OOM)</strong></td><td style="text-align:left">16GB 显存可能不足以同时支撑 System 1 缓冲和 System 2 推理。</td><td style="text-align:left">1. 启用 TensorRT-LLM 的 Int4 量化。<br>2. 限制 System 2 的上下文长度。</td></tr><tr><td style="text-align:left"><strong>推理延迟过高</strong></td><td style="text-align:left">大模型首字生成慢，导致报警滞后。</td><td style="text-align:left">1. 优化 Prompt，减少 Token 输出量。<br>2. 确保 Orin NX 运行在 MAXN (25W) 功耗模式。</td></tr><tr><td style="text-align:left"><strong>瑞景盒子数据抖动</strong></td><td style="text-align:left">视觉检测结果不稳定，导致状态机频繁重置。</td><td style="text-align:left">在 System 1 中增加“信号平滑滤波”逻辑（如：要求连续丢帧超过 3 秒才判定为无人）。</td></tr></tbody></table>
<hr>
<p><strong>本章小结</strong>：
通过移除UI开发环节，我们将所有资源集中在<strong>内核能力</strong>的构建上。本实施计划确保在2个月内，交付一个<strong>逻辑严密、数据详实、接口标准</strong>的边缘认知黑盒，用最硬核的技术指标（准确率、推理速度、证据完整性），证明EMP-01架构的先进性。</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_iDCr"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/明火离人场景实现方案.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_c0mv" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mxtt"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/整体架构"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">整体架构</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/消防安全餐饮监测员系统-实时推理能力子系统技术及实施方案"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">消防安全餐饮监测员系统-实时推理能力子系统技术及实施方案</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_r83r thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#摘要" class="table-of-contents__link toc-highlight">摘要</a></li><li><a href="#场景定义与总体架构设计" class="table-of-contents__link toc-highlight">场景定义与总体架构设计</a><ul><li><a href="#项目综述构建后厨安全的认知防线" class="table-of-contents__link toc-highlight">项目综述：构建后厨安全的“认知防线”</a></li><li><a href="#场景数字化定义" class="table-of-contents__link toc-highlight">场景数字化定义</a></li><li><a href="#总体架构设计异构计算与双系统协同" class="table-of-contents__link toc-highlight">总体架构设计：异构计算与双系统协同</a></li><li><a href="#实施路线图2个月8周" class="table-of-contents__link toc-highlight">实施路线图（2个月/8周）</a></li><li><a href="#预期交付成果" class="table-of-contents__link toc-highlight">预期交付成果</a></li></ul></li><li><a href="#硬件选型与端到端性能承载方案" class="table-of-contents__link toc-highlight">硬件选型与端到端性能承载方案</a><ul><li><a href="#核心硬件配置清单" class="table-of-contents__link toc-highlight">核心硬件配置清单</a></li><li><a href="#端到端并发链路分析从看见到看懂" class="table-of-contents__link toc-highlight">端到端并发链路分析：从“看见”到“看懂”</a></li><li><a href="#关键技术保障如何把大模型装进边缘盒子" class="table-of-contents__link toc-highlight">关键技术保障：如何把大模型“装”进边缘盒子？</a></li><li><a href="#算力需求量化计算" class="table-of-contents__link toc-highlight">算力需求量化计算</a></li></ul></li><li><a href="#system-1-规则引擎设计脊髓反射层" class="table-of-contents__link toc-highlight">System 1 规则引擎设计（脊髓反射层）</a><ul><li><a href="#设计哲学确定性的时空过滤器" class="table-of-contents__link toc-highlight">设计哲学：确定性的“时空过滤器”</a></li><li><a href="#核心算法逻辑防抖动状态机" class="table-of-contents__link toc-highlight">核心算法逻辑：防抖动状态机</a></li><li><a href="#数据处理管道" class="table-of-contents__link toc-highlight">数据处理管道</a></li><li><a href="#触发接口设计system-1-to-system-2" class="table-of-contents__link toc-highlight">触发接口设计：System 1 to System 2</a></li></ul></li><li><a href="#system-2-认知推理设计大脑研判层" class="table-of-contents__link toc-highlight">System 2 认知推理设计（大脑研判层）</a><ul><li><a href="#设计理念构建全感官认知中枢" class="table-of-contents__link toc-highlight">设计理念：构建“全感官”认知中枢</a></li><li><a href="#核心机制多模态上下文融合" class="table-of-contents__link toc-highlight">核心机制：多模态上下文融合</a></li><li><a href="#深度推理逻辑思维链" class="table-of-contents__link toc-highlight">深度推理逻辑：思维链</a></li><li><a href="#深度定制优化lora-微调" class="table-of-contents__link toc-highlight">深度定制优化：LoRA 微调</a></li><li><a href="#输出接口与应用对接" class="table-of-contents__link toc-highlight">输出接口与应用对接</a></li></ul></li><li><a href="#实施计划与资源保障" class="table-of-contents__link toc-highlight">实施计划与资源保障</a><ul><li><a href="#实施策略api-first--data-driven" class="table-of-contents__link toc-highlight">实施策略：API First &amp; Data Driven</a></li><li><a href="#资源需求清单" class="table-of-contents__link toc-highlight">资源需求清单</a></li><li><a href="#成本估算与报价" class="table-of-contents__link toc-highlight">成本估算与报价</a></li><li><a href="#交付物标准与验收方式" class="table-of-contents__link toc-highlight">交付物标准与验收方式</a></li><li><a href="#风险管理与预案" class="table-of-contents__link toc-highlight">风险管理与预案</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_rhIP"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_rhIP"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_rhIP"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/notes3/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_rhIP"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>