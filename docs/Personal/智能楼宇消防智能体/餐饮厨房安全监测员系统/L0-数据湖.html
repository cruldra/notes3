<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/L0-数据湖" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">L0-数据湖 | Cruldra</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-site.example.com/notes3/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-site.example.com/notes3/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-site.example.com/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/L0-数据湖"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="L0-数据湖 | Cruldra"><meta data-rh="true" name="description" content="EMP-01的数据湖设计核心在于厚边缘、轻云端。通过在边缘端完成初步的数据清洗和推理，仅将高价值的证据包上传至云端数据湖。这不仅大幅降低了传输和存储成本（90%以上），还保证了核心告警数据的完整性（有图有真相）。技术上采用开源的 MinIO + PostgreSQL + Milvus 组合，既满足了多模态数据存储需求，又保证了架构的开放性和可扩展性。"><meta data-rh="true" property="og:description" content="EMP-01的数据湖设计核心在于厚边缘、轻云端。通过在边缘端完成初步的数据清洗和推理，仅将高价值的证据包上传至云端数据湖。这不仅大幅降低了传输和存储成本（90%以上），还保证了核心告警数据的完整性（有图有真相）。技术上采用开源的 MinIO + PostgreSQL + Milvus 组合，既满足了多模态数据存储需求，又保证了架构的开放性和可扩展性。"><link data-rh="true" rel="icon" href="/notes3/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-site.example.com/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/L0-数据湖"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/L0-数据湖" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/L0-数据湖" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"L0-数据湖","item":"https://your-docusaurus-site.example.com/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/L0-数据湖"}]}</script><link rel="alternate" type="application/rss+xml" href="/notes3/blog/rss.xml" title="Cruldra RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/notes3/blog/atom.xml" title="Cruldra Atom Feed"><link rel="stylesheet" href="/notes3/assets/css/styles.48a6e6d2.css">
<script src="/notes3/assets/js/runtime~main.04368516.js" defer="defer"></script>
<script src="/notes3/assets/js/main.dcb0ce96.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),document.documentElement.setAttribute("data-theme-choice","system"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/notes3/img/logo.svg"><style data-mantine-styles="classes">@media (max-width: 35.99375em) {.mantine-visible-from-xs {display: none !important;}}@media (min-width: 36em) {.mantine-hidden-from-xs {display: none !important;}}@media (max-width: 47.99375em) {.mantine-visible-from-sm {display: none !important;}}@media (min-width: 48em) {.mantine-hidden-from-sm {display: none !important;}}@media (max-width: 61.99375em) {.mantine-visible-from-md {display: none !important;}}@media (min-width: 62em) {.mantine-hidden-from-md {display: none !important;}}@media (max-width: 74.99375em) {.mantine-visible-from-lg {display: none !important;}}@media (min-width: 75em) {.mantine-hidden-from-lg {display: none !important;}}@media (max-width: 87.99375em) {.mantine-visible-from-xl {display: none !important;}}@media (min-width: 88em) {.mantine-hidden-from-xl {display: none !important;}}</style><div role="region" aria-label="Skip to main content"><a class="skipToContent_aA1M" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/notes3/"><div class="navbar__logo"><img src="/notes3/img/logo.svg" alt="My Site Logo" class="themedComponent_E3Xm themedComponent--light_DVqC"><img src="/notes3/img/logo.svg" alt="My Site Logo" class="themedComponent_E3Xm themedComponent--dark_B_L3"></div><b class="navbar__title text--truncate">Cruldra</b></a><a class="navbar__item navbar__link" href="/notes3/docs/category/设计模式">JVM</a><a class="navbar__item navbar__link" href="/notes3/docs/category/css">前端</a><a class="navbar__item navbar__link" href="/notes3/docs/category/astrbot">工具</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/notes3/docs/category/ai电竞酒店">个人</a><a class="navbar__item navbar__link" href="/notes3/docs/AI/ACP/架构">AI</a><a class="navbar__item navbar__link" href="/notes3/docs/category/内置模块">Python</a><a class="navbar__item navbar__link" href="/notes3/docs/category/actix-web">Rust</a><a class="navbar__item navbar__link" href="/notes3/docs/category/数据库系统">软件工程</a><a class="navbar__item navbar__link" href="/notes3/docs/category/上古卷轴5">游戏</a><a class="navbar__item navbar__link" href="/notes3/docs/Go/Go-Python-Java三语言全方位对比">Go</a><a class="navbar__item navbar__link" href="/notes3/docs/Hardware/GPU工作原理">硬件</a><a class="navbar__item navbar__link" href="/notes3/docs/Godot/功能列表">Godot</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_PufJ"><div class="navbar__search searchBarContainer_r6C1" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_G4_y" value=""><div class="loadingRing__Zfe searchBarLoadingRing_f0pn"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_ctfR"><div class="docsWrapper_ByIB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_KwvU" type="button"></button><div class="docRoot_hD6z"><aside class="theme-doc-sidebar-container docSidebarContainer_KuHC"><div class="sidebarViewport_LCjr"><div class="sidebar_L77d"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_VYAF"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist" href="/notes3/docs/category/ai电竞酒店"><span title="AI电竞酒店" class="categoryLinkLabel_FHN4">AI电竞酒店</span></a><button aria-label="Expand sidebar category &#x27;AI电竞酒店&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Personal/华坤AI销售系统/示例/AB效果对比实验室"><span title="华坤AI销售系统" class="categoryLinkLabel_FHN4">华坤AI销售系统</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist" href="/notes3/docs/category/器物搜索小程序"><span title="器物搜索小程序" class="categoryLinkLabel_FHN4">器物搜索小程序</span></a><button aria-label="Expand sidebar category &#x27;器物搜索小程序&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Personal/仿VTN小程序/交付时间"><span title="仿VTN小程序" class="categoryLinkLabel_FHN4">仿VTN小程序</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Personal/其它/AI小先生智能数学出题与批改系统定制成本-专业版"><span title="其它" class="categoryLinkLabel_FHN4">其它</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Personal/创业大师小程序/数字人工作流对接报价"><span title="创业大师小程序" class="categoryLinkLabel_FHN4">创业大师小程序</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Personal/客服/报价"><span title="客服" class="categoryLinkLabel_FHN4">客服</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Personal/智剪/定制报价"><span title="智剪" class="categoryLinkLabel_FHN4">智剪</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/notes3/docs/Personal/智能楼宇消防智能体/1月30号视频会议准备"><span title="智能楼宇消防智能体" class="categoryLinkLabel_FHN4">智能楼宇消防智能体</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/1月30号视频会议准备"><span title="1月30号视频会议准备" class="linkLabel__RqX">1月30号视频会议准备</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/EMP20 知识与报表专员/EMP-20 知识与报表专员系统技术及实施方案"><span title="EMP20 知识与报表专员" class="categoryLinkLabel_FHN4">EMP20 知识与报表专员</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/商业综合体智能消防解决方案"><span title="商业综合体智能消防解决方案" class="linkLabel__RqX">商业综合体智能消防解决方案</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/商业综合体消防安全管理业务痛点深度分析报告"><span title="商业综合体消防安全管理业务痛点深度分析报告" class="linkLabel__RqX">商业综合体消防安全管理业务痛点深度分析报告</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/系统架构图"><span title="系统架构图" class="linkLabel__RqX">系统架构图</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/L0-数据湖"><span title="餐饮厨房安全监测员系统" class="categoryLinkLabel_FHN4">餐饮厨房安全监测员系统</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/L0-数据湖"><span title="L0-数据湖" class="linkLabel__RqX">L0-数据湖</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/L2-边缘计算"><span title="L2-边缘计算" class="linkLabel__RqX">L2-边缘计算</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/L3-云平台"><span title="L3-云平台" class="linkLabel__RqX">L3-云平台</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/L4-应用"><span title="L4-应用" class="linkLabel__RqX">L4-应用</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/参考/1"><span title="参考" class="categoryLinkLabel_FHN4">参考</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/商用厨房平面图"><span title="商用厨房平面图" class="linkLabel__RqX">商用厨房平面图</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/整体架构"><span title="整体架构" class="linkLabel__RqX">整体架构</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/明火离人场景实现方案"><span title="明火离人场景实现方案" class="linkLabel__RqX">明火离人场景实现方案</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/消防安全餐饮监测员系统-实时推理能力子系统技术及实施方案"><span title="消防安全餐饮监测员系统-实时推理能力子系统技术及实施方案" class="linkLabel__RqX">消防安全餐饮监测员系统-实时推理能力子系统技术及实施方案</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/第四部分核心能力可行性报告、技术方案及成本及周期估算"><span title="第四部分核心能力可行性报告、技术方案及成本及周期估算" class="linkLabel__RqX">第四部分核心能力可行性报告、技术方案及成本及周期估算</span></a></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_WxcZ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Zd2x"><div class="docItemContainer_EEW4"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_xL_w" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/notes3/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_zA1U"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">智能楼宇消防智能体</span></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">餐饮厨房安全监测员系统</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">L0-数据湖</span></li></ul></nav><div class="tocCollapsible_aZGz theme-doc-toc-mobile tocMobile_ShCt"><button type="button" class="clean-btn tocCollapsibleButton_fxzH">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>L0-数据湖</h1></header><p>EMP-01的数据湖设计核心在于<strong>厚边缘、轻云端</strong>。通过在边缘端完成初步的数据清洗和推理，仅将高价值的<strong>证据包</strong>上传至云端数据湖。这不仅大幅降低了传输和存储成本（90%以上），还保证了核心告警数据的完整性（有图有真相）。技术上采用开源的 <strong>MinIO + PostgreSQL + Milvus</strong> 组合，既满足了多模态数据存储需求，又保证了架构的开放性和可扩展性。</p>
<p>数据湖位于<strong>L4 数据服务层</strong>，是整个云端平台（L3）的基石，负责汇聚从边缘端（L2）上传的海量异构数据，并为上层的数智主管（推理）、组织记忆（知识库）和业务应用（报表）提供数据支撑。</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_aDle" id="一-数据湖分层架构设计">一、 数据湖分层架构设计<a href="#一-数据湖分层架构设计" class="hash-link" aria-label="Direct link to 一、 数据湖分层架构设计" title="Direct link to 一、 数据湖分层架构设计" translate="no">​</a></h2>
<p>为应对非结构化视频数据与结构化传感数据的混合存储需求，采用<strong>ODS-DWD-DWS-ADS</strong>四层架构设计。</p>
<table><thead><tr><th style="text-align:left">层级</th><th style="text-align:left">名称</th><th style="text-align:left">核心职责</th><th style="text-align:left">数据类型</th><th style="text-align:left">存储周期</th><th style="text-align:left">技术载体</th></tr></thead><tbody><tr><td style="text-align:left"><strong>ODS</strong></td><td style="text-align:left"><strong>原始数据层</strong></td><td style="text-align:left">接收边缘端上传的原始数据，不做处理</td><td style="text-align:left">H.264/H.265视频流、原始JPEG截图、传感器原始JSON、系统日志</td><td style="text-align:left">7天 (热数据)</td><td style="text-align:left">MinIO (SSD)<br>Kafka</td></tr><tr><td style="text-align:left"><strong>DWD</strong></td><td style="text-align:left"><strong>明细数据层</strong></td><td style="text-align:left">数据清洗、去重、格式转换、结构化</td><td style="text-align:left">清洗后的图像、结构化的传感器数值、标准化的告警事件记录</td><td style="text-align:left">90天 (温数据)</td><td style="text-align:left">MinIO (HDD)<br>PostgreSQL</td></tr><tr><td style="text-align:left"><strong>DWS</strong></td><td style="text-align:left"><strong>汇总数据层</strong></td><td style="text-align:left">按主题进行聚合、统计、特征提取</td><td style="text-align:left">小时级告警统计、设备健康度日报、风险分析周报</td><td style="text-align:left">1年 (冷数据)</td><td style="text-align:left">PostgreSQL<br>InfluxDB</td></tr><tr><td style="text-align:left"><strong>ADS</strong></td><td style="text-align:left"><strong>应用数据层</strong></td><td style="text-align:left">面向业务应用的数据组织，提供API查询</td><td style="text-align:left">大屏展示数据、报表数据、API接口缓存</td><td style="text-align:left">永久 (归档)</td><td style="text-align:left">Redis<br>PostgreSQL</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="数据湖架构图">数据湖架构图<a href="#数据湖架构图" class="hash-link" aria-label="Direct link to 数据湖架构图" title="Direct link to 数据湖架构图" translate="no">​</a></h3>
<!-- -->
<hr>
<h2 class="anchor anchorTargetStickyNavbar_aDle" id="二-核心技术选型">二、 核心技术选型<a href="#二-核心技术选型" class="hash-link" aria-label="Direct link to 二、 核心技术选型" title="Direct link to 二、 核心技术选型" translate="no">​</a></h2>
<p>数据湖采用<strong>混合存储技术栈</strong>以平衡性能与成本,。</p>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="1-存储组件">1. 存储组件<a href="#1-存储组件" class="hash-link" aria-label="Direct link to 1. 存储组件" title="Direct link to 1. 存储组件" translate="no">​</a></h3>
<ul>
<li class=""><strong>对象存储 (Object Storage): MinIO</strong>
<ul>
<li class=""><strong>用途</strong>：存储非结构化数据，包括告警视频切片（前后30秒）、关键帧截图、完整的“证据包”文件。</li>
<li class=""><strong>选型理由</strong>：兼容S3协议，高性能，适合海量小文件存储。</li>
</ul>
</li>
<li class=""><strong>关系型数据库 (RDBMS): PostgreSQL 15</strong>
<ul>
<li class=""><strong>用途</strong>：存储告警元数据（时间、地点、类型）、设备台账、工单记录、用户信息。</li>
<li class=""><strong>选型理由</strong>：支持复杂查询，插件丰富（如PostGIS处理空间数据）。</li>
</ul>
</li>
<li class=""><strong>时序数据库 (TSDB): InfluxDB</strong>
<ul>
<li class=""><strong>用途</strong>：存储高频传感器数据（温度曲线、燃气浓度趋势）。</li>
<li class=""><strong>选型理由</strong>：高写入吞吐量，擅长处理时间序列数据查询。</li>
</ul>
</li>
<li class=""><strong>向量数据库 (Vector DB): Milvus 2.3</strong>
<ul>
<li class=""><strong>用途</strong>：存储非结构化数据的特征向量（如历史火灾案例的Embedding），用于RAG（检索增强生成）知识检索。</li>
</ul>
</li>
<li class=""><strong>图数据库 (Graph DB): Neo4j 5.0</strong>
<ul>
<li class=""><strong>用途</strong>：构建厨房-设备-隐患-预案的知识图谱，支持因果推理。</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="2-数据管道组件">2. 数据管道组件<a href="#2-数据管道组件" class="hash-link" aria-label="Direct link to 2. 数据管道组件" title="Direct link to 2. 数据管道组件" translate="no">​</a></h3>
<ul>
<li class=""><strong>消息队列: Kafka</strong>
<ul>
<li class=""><strong>用途</strong>：作为边缘端数据的统一接入入口，削峰填谷，解耦边缘与云端。</li>
</ul>
</li>
<li class=""><strong>流式计算: Flink</strong>
<ul>
<li class=""><strong>用途</strong>：实时处理ODS层数据流，进行清洗和实时聚合，写入DWD/DWS层。</li>
</ul>
</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_aDle" id="三-存储策略与成本优化">三、 存储策略与成本优化<a href="#三-存储策略与成本优化" class="hash-link" aria-label="Direct link to 三、 存储策略与成本优化" title="Direct link to 三、 存储策略与成本优化" translate="no">​</a></h2>
<p>数据湖最大的挑战是存储成本，需采用<strong>分级存储</strong>与<strong>按需落盘</strong>策略。</p>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="1-冷热分离策略">1. 冷热分离策略<a href="#1-冷热分离策略" class="hash-link" aria-label="Direct link to 1. 冷热分离策略" title="Direct link to 1. 冷热分离策略" translate="no">​</a></h3>
<ul>
<li class=""><strong>热数据 (0-7天)</strong>：存放在高性能SSD（MinIO）和Redis中，供实时大屏和数智主管快速研判。</li>
<li class=""><strong>温数据 (7-90天)</strong>：存放在低成本HDD（MinIO）和PostgreSQL中，供短期回溯和工单处理。</li>
<li class=""><strong>冷数据 (&gt;90天)</strong>：转存至云端低频对象存储（OSS/S3 Archive），用于合规审计和长期趋势分析。</li>
<li class=""><strong>归档数据 (&gt;1年)</strong>：核心告警记录永久保存，普通日志删除。</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="2-按需落盘机制-save-on-event">2. 按需落盘机制 (Save-on-Event)<a href="#2-按需落盘机制-save-on-event" class="hash-link" aria-label="Direct link to 2. 按需落盘机制 (Save-on-Event)" title="Direct link to 2. 按需落盘机制 (Save-on-Event)" translate="no">​</a></h3>
<ul>
<li class=""><strong>视频数据</strong>：<strong>不进行7×24小时全量录像上传</strong>。</li>
<li class=""><strong>边缘自治</strong>：仅当边缘AI推理置信度&gt;0.8或触发告警时，才上传前后30秒视频切片和关键帧。</li>
<li class=""><strong>效果</strong>：相比全量上传，带宽和存储需求降低 <strong>90%</strong> 以上。</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_aDle" id="四-容量规划与预算估计">四、 容量规划与预算估计<a href="#四-容量规划与预算估计" class="hash-link" aria-label="Direct link to 四、 容量规划与预算估计" title="Direct link to 四、 容量规划与预算估计" translate="no">​</a></h2>
<p>基于<strong>100个标准厨房</strong>的规模进行估算。</p>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="1-容量预估-日增量">1. 容量预估 (日增量)<a href="#1-容量预估-日增量" class="hash-link" aria-label="Direct link to 1. 容量预估 (日增量)" title="Direct link to 1. 容量预估 (日增量)" translate="no">​</a></h3>
<ul>
<li class=""><strong>视频流 (H.265)</strong>：仅上传告警片段，约 50GB/天。</li>
<li class=""><strong>图像 (告警抓拍)</strong>：约 2GB/天。</li>
<li class=""><strong>传感器数据</strong>：100个厨房 × 25个传感器/厨房，约 100MB/天。</li>
<li class=""><strong>总量</strong>：约 <strong>53GB/天</strong> (压缩去重后)。</li>
<li class=""><strong>年增量</strong>：约 <strong>19TB/年</strong>。</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="2-预算估计-公有云模式参考">2. 预算估计 (公有云模式参考)<a href="#2-预算估计-公有云模式参考" class="hash-link" aria-label="Direct link to 2. 预算估计 (公有云模式参考)" title="Direct link to 2. 预算估计 (公有云模式参考)" translate="no">​</a></h3>
<p>如果采用公有云（如阿里云/腾讯云）构建数据湖，月度费用估算如下：</p>
<table><thead><tr><th style="text-align:left">资源类型</th><th style="text-align:left">配置说明</th><th style="text-align:left">预估费用 (CNY/月)</th><th style="text-align:left">备注</th></tr></thead><tbody><tr><td style="text-align:left"><strong>云盘 (ESSD)</strong></td><td style="text-align:left">10TB (用于数据库、热数据)</td><td style="text-align:left">10,000</td><td style="text-align:left">高IO性能</td></tr><tr><td style="text-align:left"><strong>对象存储 (OSS)</strong></td><td style="text-align:left">50TB (用于视频归档、冷数据)</td><td style="text-align:left">6,000</td><td style="text-align:left">低频存储单价低</td></tr><tr><td style="text-align:left"><strong>数据库实例</strong></td><td style="text-align:left">RDS PostgreSQL (主备)</td><td style="text-align:left">2,500</td><td style="text-align:left">16核 128GB</td></tr><tr><td style="text-align:left"><strong>中间件</strong></td><td style="text-align:left">Redis + Kafka</td><td style="text-align:left">5,000</td><td style="text-align:left">集群版</td></tr><tr><td style="text-align:left"><strong>数据湖总计</strong></td><td style="text-align:left"></td><td style="text-align:left"><strong>~23,500 元/月</strong></td><td style="text-align:left">摊销到100个厨房约235元/店/月</td></tr></tbody></table>
<p><em>注：若采用私有云自建，需采购约2台组织记忆服务器（配置大容量HDD），硬件成本约11万元。</em></p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_aDle" id="五-开发实施周期">五、 开发实施周期<a href="#五-开发实施周期" class="hash-link" aria-label="Direct link to 五、 开发实施周期" title="Direct link to 五、 开发实施周期" translate="no">​</a></h2>
<p>数据湖的搭建通常包含在云端平台建设中，预计周期为 <strong>2周</strong>。</p>
<ol>
<li class=""><strong>环境准备 (Day 1-3)</strong>：<!-- -->
<ul>
<li class="">部署Kubernetes集群，安装MinIO、PostgreSQL、Milvus等基础组件（Helm Chart部署）。</li>
</ul>
</li>
<li class=""><strong>数据模型设计 (Day 4-6)</strong>：<!-- -->
<ul>
<li class="">设计PostgreSQL表结构（告警表、设备表）。</li>
<li class="">设计MinIO存储桶结构（Bucket策略）。</li>
<li class="">定义Milvus向量索引结构。</li>
</ul>
</li>
<li class=""><strong>管道开发 (Day 7-10)</strong>：<!-- -->
<ul>
<li class="">开发数据接入服务（Data Ingestion Service），对接边缘MQTT数据。</li>
<li class="">开发ETL任务，实现ODS到DWD/DWS的数据清洗与聚合。</li>
</ul>
</li>
<li class=""><strong>联调测试 (Day 11-14)</strong>：<!-- -->
<ul>
<li class="">模拟边缘端发送数据，验证数据写入、分层流转和查询性能。</li>
<li class="">验证数据过期自动清理（TTL）策略。</li>
</ul>
</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_iDCr"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/L0-数据湖.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_c0mv" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mxtt"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/notes3/docs/Personal/智能楼宇消防智能体/系统架构图"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">系统架构图</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/notes3/docs/Personal/智能楼宇消防智能体/餐饮厨房安全监测员系统/L2-边缘计算"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">L2-边缘计算</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_r83r thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#一-数据湖分层架构设计" class="table-of-contents__link toc-highlight">一、 数据湖分层架构设计</a><ul><li><a href="#数据湖架构图" class="table-of-contents__link toc-highlight">数据湖架构图</a></li></ul></li><li><a href="#二-核心技术选型" class="table-of-contents__link toc-highlight">二、 核心技术选型</a><ul><li><a href="#1-存储组件" class="table-of-contents__link toc-highlight">1. 存储组件</a></li><li><a href="#2-数据管道组件" class="table-of-contents__link toc-highlight">2. 数据管道组件</a></li></ul></li><li><a href="#三-存储策略与成本优化" class="table-of-contents__link toc-highlight">三、 存储策略与成本优化</a><ul><li><a href="#1-冷热分离策略" class="table-of-contents__link toc-highlight">1. 冷热分离策略</a></li><li><a href="#2-按需落盘机制-save-on-event" class="table-of-contents__link toc-highlight">2. 按需落盘机制 (Save-on-Event)</a></li></ul></li><li><a href="#四-容量规划与预算估计" class="table-of-contents__link toc-highlight">四、 容量规划与预算估计</a><ul><li><a href="#1-容量预估-日增量" class="table-of-contents__link toc-highlight">1. 容量预估 (日增量)</a></li><li><a href="#2-预算估计-公有云模式参考" class="table-of-contents__link toc-highlight">2. 预算估计 (公有云模式参考)</a></li></ul></li><li><a href="#五-开发实施周期" class="table-of-contents__link toc-highlight">五、 开发实施周期</a></li></ul></div></div></div></div></main></div></div></div></div>
</body>
</html>