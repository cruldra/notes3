---
sidebar_position: 1
---
[Remotion](https://www.remotion.dev/) 是一个使用 React 编程式创建视频的库。它允许你利用熟悉的前端技术栈（HTML, CSS, React, TypeScript）来制作真正的 MP4 视频。

## 核心理念

Remotion 的核心思想是：**视频是时间的函数**。

它为你提供了一个帧号（frame number）和一个空白画布，你利用 React 组件根据当前帧号渲染出相应的内容。如果内容随帧号变化，就产生了动画。

## 关键概念

### 1. Composition (组合)
组合是视频的基本单元，它结合了 React 组件和视频元数据。在 `src/Root.tsx` 中注册。

主要属性：
*   `width` / `height`: 视频分辨率（像素）。
*   `fps`: 帧率（每秒帧数）。
*   `durationInFrames`: 视频总长度（帧数）。
*   `component`: 用于渲染视频内容的 React 组件。

### 2. Hooks
Remotion 提供了一系列 Hooks 来控制动画和获取状态：

*   **`useCurrentFrame()`**: 获取当前渲染的帧号。这是驱动动画的核心。
*   **`useVideoConfig()`**: 获取当前视频的配置（如 FPS、时长、尺寸）。

### 3. 动画 (Animation)
你可以使用 `interpolate()` 函数将帧号映射到具体的动画属性（如不透明度、位置、缩放等）。

## 示例代码

### 定义组件 (`MyComposition.tsx`)
这是一个显示当前帧号的简单组件：

```tsx
import { AbsoluteFill, useCurrentFrame } from "remotion";

export const MyComposition = () => {
  const frame = useCurrentFrame();
  
  return (
    <AbsoluteFill
      style={{
        justifyContent: "center",
        alignItems: "center",
        fontSize: 100,
        backgroundColor: "white",
      }}
    >
      Current frame: {frame}
    </AbsoluteFill>
  );
};
```

### 注册组合 (`Root.tsx`)
在根文件中注册你的视频：

```tsx
import { Composition } from "remotion";
import { MyComposition } from "./MyComposition";

export const RemotionRoot: React.FC = () => {
  return (
    <Composition
      id="MyExample"
      durationInFrames={150} // 5秒 (30fps * 5)
      fps={30}
      width={1920}
      height={1080}
      component={MyComposition}
    />
  );
};
```

## 工作流

1.  **开发与预览 (Remotion Studio)**
    使用 `npx remotion preview` 启动本地服务器。Remotion Studio 提供了一个可视化的播放器，支持实时预览、逐帧调试和参数调整。

2.  **渲染 (Rendering)**
    *   **本地渲染**: 使用 CLI `npx remotion render` 直接生成 MP4 文件。
    *   **服务端渲染**: 支持 Node.js API 和 Docker，适合集成到后端服务中。
    *   **Remotion Lambda**: 利用 AWS Lambda 进行大规模并发渲染，显著缩短渲染时间。

## 适用场景

*   **动态数据视频**: 如“Spotify Wrapped”风格的用户年度回顾。
*   **批量内容生产**: 自动化生成社交媒体视频、营销素材。
*   **程序化动画**: 利用 React 生态（如 D3.js, Three.js）制作复杂的可视化视频。
*   **SaaS 应用**: 构建基于 Web 的视频编辑器或生成器。

## 相关资源

*   [官方文档 (Docs)](https://www.remotion.dev/docs)
*   [GitHub 仓库](https://github.com/remotion-dev/remotion)
*   [官方示例 (Templates)](https://www.remotion.dev/templates)
