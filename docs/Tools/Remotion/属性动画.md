# 属性动画

动画的工作原理是随时间改变属性。  
让我们创建一个简单的淡入动画。

如果我们想要在 60 帧内淡入文本,我们需要逐渐改变 `opacity` 使其从 0 变为 1。

```tsx
export const FadeIn = () => {
  const frame = useCurrentFrame();
  const opacity = Math.min(1, frame / 60);
  return (
    <AbsoluteFill
      style={{
        justifyContent: "center",
        alignItems: "center",
        backgroundColor: "white",
        fontSize: 80,
      }}
    >
      <div style={{ opacity: opacity }}>Hello World!</div>
    </AbsoluteFill>
  );
};
```

## 使用 interpolate 辅助函数

使用 [`interpolate()`](https://www.remotion.dev/docs/interpolate) 函数可以使动画更具可读性。上面的动画也可以写成:

```tsx
import { interpolate } from "remotion";

const opacity = interpolate(frame, [0, 60], [0, 1], {
  /*                        ^^^^^   ^^^^^    ^^^^
    要插值的变量 --------------|       |       |
    输入范围 ------------------------|       |
    输出范围 -------------------------------|
  */
  extrapolateRight: "clamp",
});
```

在这个例子中,我们将帧数 0 到 60 映射到它们的不透明度值 `(0, 0.0166, 0.033, 0.05 ...)`,并使用 [`extrapolateRight`](https://www.remotion.dev/docs/interpolate#extrapolateright) 设置来限制输出,使其永远不会大于 1。

## 使用弹簧动画

弹簧动画是一种自然的动画原语。默认情况下,它们随时间从 0 动画到 1。这次,让我们为文本的缩放添加动画。

```tsx
import { spring, useCurrentFrame, useVideoConfig } from "remotion";

export const MyVideo = () => {
  const frame = useCurrentFrame();
  const { fps } = useVideoConfig();
  const scale = spring({
    fps,
    frame,
  });
  return (
    <div
      style={{
        flex: 1,
        textAlign: "center",
        fontSize: "7em",
      }}
    >
      <div style={{ transform: `scale(${scale})` }}>Hello World!</div>
    </div>
  );
};
```

你应该会看到文本弹跳进入。

默认的弹簧配置会导致一点点过冲,意味着文本会略微反弹。查看 [`spring()`](https://www.remotion.dev/docs/spring) 文档页面了解如何自定义它。

## 始终使用 `useCurrentFrame()` 进行动画

注意避免在渲染过程中出现闪烁问题,这些问题通常出现在你编写的动画不是由 [`useCurrentFrame()`](https://www.remotion.dev/docs/use-current-frame) 驱动时 —— 例如 CSS 过渡。

[了解更多关于 Remotion 渲染工作原理](https://www.remotion.dev/docs/flickering) - 理解它将帮助你避免未来的问题。
