<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Tools/Comfyui/ComfyUI安装指南" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">ComfyUI 安装指南 | Cruldra</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-site.example.com/notes3/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-site.example.com/notes3/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-site.example.com/notes3/docs/Tools/Comfyui/ComfyUI安装指南"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ComfyUI 安装指南 | Cruldra"><meta data-rh="true" name="description" content="本指南将详细介绍如何在不同操作系统和硬件配置上安装ComfyUI。"><meta data-rh="true" property="og:description" content="本指南将详细介绍如何在不同操作系统和硬件配置上安装ComfyUI。"><link data-rh="true" rel="icon" href="/notes3/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-site.example.com/notes3/docs/Tools/Comfyui/ComfyUI安装指南"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/notes3/docs/Tools/Comfyui/ComfyUI安装指南" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/notes3/docs/Tools/Comfyui/ComfyUI安装指南" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"ComfyUI 安装指南","item":"https://your-docusaurus-site.example.com/notes3/docs/Tools/Comfyui/ComfyUI安装指南"}]}</script><link rel="alternate" type="application/rss+xml" href="/notes3/blog/rss.xml" title="Cruldra RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/notes3/blog/atom.xml" title="Cruldra Atom Feed"><link rel="stylesheet" href="/notes3/assets/css/styles.f3dc2d00.css">
<script src="/notes3/assets/js/runtime~main.e901aa12.js" defer="defer"></script>
<script src="/notes3/assets/js/main.679052ac.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),document.documentElement.setAttribute("data-theme-choice","system"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/notes3/img/logo.svg"><style data-mantine-styles="classes">@media (max-width: 35.99375em) {.mantine-visible-from-xs {display: none !important;}}@media (min-width: 36em) {.mantine-hidden-from-xs {display: none !important;}}@media (max-width: 47.99375em) {.mantine-visible-from-sm {display: none !important;}}@media (min-width: 48em) {.mantine-hidden-from-sm {display: none !important;}}@media (max-width: 61.99375em) {.mantine-visible-from-md {display: none !important;}}@media (min-width: 62em) {.mantine-hidden-from-md {display: none !important;}}@media (max-width: 74.99375em) {.mantine-visible-from-lg {display: none !important;}}@media (min-width: 75em) {.mantine-hidden-from-lg {display: none !important;}}@media (max-width: 87.99375em) {.mantine-visible-from-xl {display: none !important;}}@media (min-width: 88em) {.mantine-hidden-from-xl {display: none !important;}}</style><div role="region" aria-label="Skip to main content"><a class="skipToContent_kJiJ" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/notes3/"><div class="navbar__logo"><img src="/notes3/img/logo.svg" alt="My Site Logo" class="themedComponent_NrnZ themedComponent--light_kIco"><img src="/notes3/img/logo.svg" alt="My Site Logo" class="themedComponent_NrnZ themedComponent--dark_HCTy"></div><b class="navbar__title text--truncate">Cruldra</b></a><a class="navbar__item navbar__link" href="/notes3/docs/category/设计模式">JVM</a><a class="navbar__item navbar__link" href="/notes3/docs/category/css">前端</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/notes3/docs/category/astrbot">工具</a><a class="navbar__item navbar__link" href="/notes3/docs/category/ai电竞酒店">个人</a><a class="navbar__item navbar__link" href="/notes3/docs/AI/Agno/介绍">AI</a><a class="navbar__item navbar__link" href="/notes3/docs/category/内置模块">Python</a><a class="navbar__item navbar__link" href="/notes3/docs/category/actix-web">Rust</a><a class="navbar__item navbar__link" href="/notes3/docs/category/数据库系统">软件工程</a><a class="navbar__item navbar__link" href="/notes3/docs/category/上古卷轴5">游戏</a><a class="navbar__item navbar__link" href="/notes3/docs/Go/Go-Python-Java三语言全方位对比">Go</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_V3q0"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_YMCn"><div class="docsWrapper_UDzO"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_OA9t" type="button"></button><div class="docRoot_zblS"><aside class="theme-doc-sidebar-container docSidebarContainer_utvl"><div class="sidebarViewport_uicj"><div class="sidebar_wSJP"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_xz03"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OIbK menu__link menu__link--sublist" href="/notes3/docs/category/astrbot"><span title="AstrBot" class="categoryLinkLabel_5XjO">AstrBot</span></a><button aria-label="Expand sidebar category &#x27;AstrBot&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OIbK menu__link menu__link--sublist" href="/notes3/docs/category/dify"><span title="Dify" class="categoryLinkLabel_5XjO">Dify</span></a><button aria-label="Expand sidebar category &#x27;Dify&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Tools/OpenAI"><span title="OpenAI" class="linkLabel_VeW_">OpenAI</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OIbK menu__link menu__link--sublist" href="/notes3/docs/category/rpa"><span title="RPA" class="categoryLinkLabel_5XjO">RPA</span></a><button aria-label="Expand sidebar category &#x27;RPA&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OIbK menu__link menu__link--sublist" href="/notes3/docs/category/内网穿透"><span title="内网穿透" class="categoryLinkLabel_5XjO">内网穿透</span></a><button aria-label="Expand sidebar category &#x27;内网穿透&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OIbK menu__link menu__link--sublist" href="/notes3/docs/category/操作系统"><span title="操作系统" class="categoryLinkLabel_5XjO">操作系统</span></a><button aria-label="Expand sidebar category &#x27;操作系统&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OIbK menu__link menu__link--sublist" href="/notes3/docs/category/数据库"><span title="数据库" class="categoryLinkLabel_5XjO">数据库</span></a><button aria-label="Expand sidebar category &#x27;数据库&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OIbK menu__link menu__link--sublist" href="/notes3/docs/category/版本控制"><span title="版本控制" class="categoryLinkLabel_5XjO">版本控制</span></a><button aria-label="Expand sidebar category &#x27;版本控制&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OIbK menu__link menu__link--sublist" href="/notes3/docs/category/编程"><span title="编程" class="categoryLinkLabel_5XjO">编程</span></a><button aria-label="Expand sidebar category &#x27;编程&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OIbK menu__link menu__link--sublist" href="/notes3/docs/category/虚拟化和容器"><span title="虚拟化和容器" class="categoryLinkLabel_5XjO">虚拟化和容器</span></a><button aria-label="Expand sidebar category &#x27;虚拟化和容器&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OIbK menu__link menu__link--sublist" href="/notes3/docs/category/证书"><span title="证书" class="categoryLinkLabel_5XjO">证书</span></a><button aria-label="Expand sidebar category &#x27;证书&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OIbK menu__link menu__link--sublist" href="/notes3/docs/category/集成开发环境"><span title="集成开发环境" class="categoryLinkLabel_5XjO">集成开发环境</span></a><button aria-label="Expand sidebar category &#x27;集成开发环境&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OIbK menu__link menu__link--sublist" href="/notes3/docs/category/音视频"><span title="音视频" class="categoryLinkLabel_5XjO">音视频</span></a><button aria-label="Expand sidebar category &#x27;音视频&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_OIbK menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/notes3/docs/Tools/Comfyui/AI模型文件分发策略差异分析"><span title="Comfyui" class="categoryLinkLabel_5XjO">Comfyui</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Tools/Comfyui/AI模型文件分发策略差异分析"><span title="AI模型文件分发策略差异分析" class="linkLabel_VeW_">AI模型文件分发策略差异分析</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Tools/Comfyui/CLIPTextEncode节点详细分析"><span title="CLIPTextEncode 节点详细分析" class="linkLabel_VeW_">CLIPTextEncode 节点详细分析</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Tools/Comfyui/CheckpointLoaderSimple节点分析"><span title="CheckpointLoaderSimple 节点详细分析" class="linkLabel_VeW_">CheckpointLoaderSimple 节点详细分析</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Tools/Comfyui/ComfyUI与Qwen-Image模型完整教程口播文案"><span title="ComfyUI与Qwen-Image模型完整教程口播文案" class="linkLabel_VeW_">ComfyUI与Qwen-Image模型完整教程口播文案</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Tools/Comfyui/ComfyUI介绍口播文稿"><span title="ComfyUI介绍口播文稿" class="linkLabel_VeW_">ComfyUI介绍口播文稿</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/notes3/docs/Tools/Comfyui/ComfyUI安装指南"><span title="ComfyUI 安装指南" class="linkLabel_VeW_">ComfyUI 安装指南</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Tools/Comfyui/ComfyUI架构详解"><span title="ComfyUI 架构详解" class="linkLabel_VeW_">ComfyUI 架构详解</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Tools/Comfyui/ComfyUI模型路径配置指南"><span title="ComfyUI 模型路径配置指南" class="linkLabel_VeW_">ComfyUI 模型路径配置指南</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Tools/Comfyui/ComfyUI项目目录结构"><span title="ComfyUI 项目目录结构" class="linkLabel_VeW_">ComfyUI 项目目录结构</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Tools/Comfyui/EmptyLatentImage节点详细分析"><span title="EmptyLatentImage 节点详细分析" class="linkLabel_VeW_">EmptyLatentImage 节点详细分析</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Tools/Comfyui/KSampler节点详细分析"><span title="KSampler 节点详细分析" class="linkLabel_VeW_">KSampler 节点详细分析</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Tools/Comfyui/LoraLoaderModelOnly节点详细分析"><span title="LoraLoaderModelOnly 节点详细分析" class="linkLabel_VeW_">LoraLoaderModelOnly 节点详细分析</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Tools/Comfyui/MMDiT模型详解"><span title="MMDiT (Multimodal Diffusion Transformer) 模型详解" class="linkLabel_VeW_">MMDiT (Multimodal Diffusion Transformer) 模型详解</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Tools/Comfyui/UNETLoader节点详细分析"><span title="UNETLoader 节点详细分析" class="linkLabel_VeW_">UNETLoader 节点详细分析</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Tools/Comfyui/VAEDecode节点详细分析"><span title="VAEDecode 节点详细分析" class="linkLabel_VeW_">VAEDecode 节点详细分析</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Tools/Comfyui/端口配置指南"><span title="ComfyUI 端口配置指南" class="linkLabel_VeW_">ComfyUI 端口配置指南</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Tools/Docusaurus"><span title="Docusaurus" class="linkLabel_VeW_">Docusaurus</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OIbK menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Tools/Gitea/TEAM"><span title="Gitea" class="categoryLinkLabel_5XjO">Gitea</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OIbK menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Tools/Github/高级搜索语法"><span title="Github" class="categoryLinkLabel_5XjO">Github</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Tools/Jenkins"><span title="Jenkins" class="linkLabel_VeW_">Jenkins</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Tools/Ollama"><span title="Ollama" class="linkLabel_VeW_">Ollama</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OIbK menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Tools/figma/Figma原型交互"><span title="figma" class="categoryLinkLabel_5XjO">figma</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_e2u6"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_y0g3"><div class="docItemContainer_PZbB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_I1XV" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/notes3/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_ZIEp"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Comfyui</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">ComfyUI 安装指南</span></li></ul></nav><div class="tocCollapsible_UUJj theme-doc-toc-mobile tocMobile_b9MH"><button type="button" class="clean-btn tocCollapsibleButton_zQap">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>ComfyUI 安装指南</h1></header>
<p>本指南将详细介绍如何在不同操作系统和硬件配置上安装ComfyUI。</p>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="目录">目录<a href="#目录" class="hash-link" aria-label="Direct link to 目录" title="Direct link to 目录" translate="no">​</a></h2>
<ul>
<li class=""><a href="#%E7%B3%BB%E7%BB%9F%E8%A6%81%E6%B1%82" class="">系统要求</a></li>
<li class=""><a href="#%E5%AE%89%E8%A3%85%E6%96%B9%E5%BC%8F%E9%80%89%E6%8B%A9" class="">安装方式选择</a></li>
<li class=""><a href="#%E5%BF%AB%E9%80%9F%E5%AE%89%E8%A3%85" class="">快速安装</a></li>
<li class=""><a href="#%E6%89%8B%E5%8A%A8%E5%AE%89%E8%A3%85" class="">手动安装</a></li>
<li class=""><a href="#gpu%E7%89%B9%E5%AE%9A%E5%AE%89%E8%A3%85" class="">GPU特定安装</a></li>
<li class=""><a href="#%E9%AA%8C%E8%AF%81%E5%AE%89%E8%A3%85" class="">验证安装</a></li>
<li class=""><a href="#%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98" class="">常见问题</a></li>
<li class=""><a href="#%E9%AB%98%E7%BA%A7%E9%85%8D%E7%BD%AE" class="">高级配置</a></li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="系统要求">系统要求<a href="#系统要求" class="hash-link" aria-label="Direct link to 系统要求" title="Direct link to 系统要求" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="基本要求">基本要求<a href="#基本要求" class="hash-link" aria-label="Direct link to 基本要求" title="Direct link to 基本要求" translate="no">​</a></h3>
<ul>
<li class=""><strong>Python</strong>: 3.9+ (推荐 3.12 或 3.13)</li>
<li class=""><strong>操作系统</strong>: Windows 10+, Linux, macOS 10.15+</li>
<li class=""><strong>内存</strong>: 最低 8GB RAM (推荐 16GB+)</li>
<li class=""><strong>存储</strong>: 最低 10GB 可用空间 (模型文件需要额外空间)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="gpu要求">GPU要求<a href="#gpu要求" class="hash-link" aria-label="Direct link to GPU要求" title="Direct link to GPU要求" translate="no">​</a></h3>
<table><thead><tr><th>GPU类型</th><th>最低VRAM</th><th>推荐VRAM</th><th>支持状态</th></tr></thead><tbody><tr><td>NVIDIA</td><td>4GB</td><td>8GB+</td><td>✅ 完全支持</td></tr><tr><td>AMD (Linux)</td><td>6GB</td><td>12GB+</td><td>✅ ROCm支持</td></tr><tr><td>Intel Arc</td><td>8GB</td><td>16GB+</td><td>✅ XPU支持</td></tr><tr><td>Apple Silicon</td><td>8GB</td><td>16GB+</td><td>✅ MPS支持</td></tr><tr><td>CPU Only</td><td>-</td><td>-</td><td>✅ 支持但较慢</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="安装方式选择">安装方式选择<a href="#安装方式选择" class="hash-link" aria-label="Direct link to 安装方式选择" title="Direct link to 安装方式选择" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="安装方式决策树">安装方式决策树<a href="#安装方式决策树" class="hash-link" aria-label="Direct link to 安装方式决策树" title="Direct link to 安装方式决策树" translate="no">​</a></h3>
<!-- -->
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="1-桌面应用程序-推荐新手">1. 桌面应用程序 (推荐新手)<a href="#1-桌面应用程序-推荐新手" class="hash-link" aria-label="Direct link to 1. 桌面应用程序 (推荐新手)" title="Direct link to 1. 桌面应用程序 (推荐新手)" translate="no">​</a></h3>
<p><strong>优点</strong>: 一键安装，自动更新，用户友好
<strong>缺点</strong>: 功能可能有限制
<strong>适用</strong>: Windows, macOS</p>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 下载地址</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://www.comfy.org/download</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="2-windows便携包">2. Windows便携包<a href="#2-windows便携包" class="hash-link" aria-label="Direct link to 2. Windows便携包" title="Direct link to 2. Windows便携包" translate="no">​</a></h3>
<p><strong>优点</strong>: 免安装，完全便携，包含最新功能
<strong>缺点</strong>: 仅支持Windows
<strong>适用</strong>: Windows + NVIDIA GPU</p>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 直接下载链接</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">https://github.com/comfyanonymous/ComfyUI/releases/latest/download/ComfyUI_windows_portable_nvidia.7z</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="3-comfy-cli-推荐开发者">3. comfy-cli (推荐开发者)<a href="#3-comfy-cli-推荐开发者" class="hash-link" aria-label="Direct link to 3. comfy-cli (推荐开发者)" title="Direct link to 3. comfy-cli (推荐开发者)" translate="no">​</a></h3>
<p><strong>优点</strong>: 命令行管理，版本控制，环境隔离
<strong>缺点</strong>: 需要命令行知识
<strong>适用</strong>: 所有平台</p>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain">pip install comfy-cli</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">comfy install</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="4-手动安装-最灵活">4. 手动安装 (最灵活)<a href="#4-手动安装-最灵活" class="hash-link" aria-label="Direct link to 4. 手动安装 (最灵活)" title="Direct link to 4. 手动安装 (最灵活)" translate="no">​</a></h3>
<p><strong>优点</strong>: 完全控制，支持所有功能，可自定义
<strong>缺点</strong>: 配置复杂
<strong>适用</strong>: 所有平台和GPU类型</p>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="快速安装">快速安装<a href="#快速安装" class="hash-link" aria-label="Direct link to 快速安装" title="Direct link to 快速安装" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="windows用户">Windows用户<a href="#windows用户" class="hash-link" aria-label="Direct link to Windows用户" title="Direct link to Windows用户" translate="no">​</a></h3>
<div class="language-powershell codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-powershell codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 方法1: 桌面应用 (最简单)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 访问 https://www.comfy.org/download 下载安装</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 方法2: 便携包</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 1. 下载 ComfyUI_windows_portable_nvidia.7z</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 2. 用7-Zip解压</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 3. 运行 run_nvidia_gpu.bat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 方法3: comfy-cli</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install comfy-cli</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">comfy install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">comfy launch</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="macos用户">macOS用户<a href="#macos用户" class="hash-link" aria-label="Direct link to macOS用户" title="Direct link to macOS用户" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 方法1: 桌面应用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 访问 https://www.comfy.org/download 下载安装</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 方法2: comfy-cli</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install comfy-cli</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">comfy install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">comfy launch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 方法3: 手动安装 (见下文详细步骤)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="linux用户">Linux用户<a href="#linux用户" class="hash-link" aria-label="Direct link to Linux用户" title="Direct link to Linux用户" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 推荐使用comfy-cli或手动安装</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install comfy-cli</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">comfy install</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">comfy launch</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="手动安装">手动安装<a href="#手动安装" class="hash-link" aria-label="Direct link to 手动安装" title="Direct link to 手动安装" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="安装流程图">安装流程图<a href="#安装流程图" class="hash-link" aria-label="Direct link to 安装流程图" title="Direct link to 安装流程图" translate="no">​</a></h3>
<!-- -->
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="第一步准备环境">第一步：准备环境<a href="#第一步准备环境" class="hash-link" aria-label="Direct link to 第一步：准备环境" title="Direct link to 第一步：准备环境" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="1-安装python">1. 安装Python<a href="#1-安装python" class="hash-link" aria-label="Direct link to 1. 安装Python" title="Direct link to 1. 安装Python" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 检查Python版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python --version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 如果版本低于3.9，请升级Python</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Windows: 从 python.org 下载安装</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># macOS: brew install python@3.12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Linux: sudo apt install python3.12 python3.12-pip</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="2-创建虚拟环境-推荐">2. 创建虚拟环境 (推荐)<a href="#2-创建虚拟环境-推荐" class="hash-link" aria-label="Direct link to 2. 创建虚拟环境 (推荐)" title="Direct link to 2. 创建虚拟环境 (推荐)" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 创建虚拟环境</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python -m venv comfyui_env</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 激活虚拟环境</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Windows:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">comfyui_env\Scripts\activate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># macOS/Linux:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">source comfyui_env/bin/activate</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="第二步获取源码">第二步：获取源码<a href="#第二步获取源码" class="hash-link" aria-label="Direct link to 第二步：获取源码" title="Direct link to 第二步：获取源码" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 克隆仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone https://github.com/comfyanonymous/ComfyUI.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cd ComfyUI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 或下载ZIP包并解压</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="第三步安装pytorch">第三步：安装PyTorch<a href="#第三步安装pytorch" class="hash-link" aria-label="Direct link to 第三步：安装PyTorch" title="Direct link to 第三步：安装PyTorch" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="nvidia-gpu-推荐">NVIDIA GPU (推荐)<a href="#nvidia-gpu-推荐" class="hash-link" aria-label="Direct link to NVIDIA GPU (推荐)" title="Direct link to NVIDIA GPU (推荐)" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 稳定版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install torch torchvision torchaudio --extra-index-url https://download.pytorch.org/whl/cu129</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 夜间版本 (可能有性能改进)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install --pre torch torchvision torchaudio --index-url https://download.pytorch.org/whl/nightly/cu129</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="amd-gpu-仅linux">AMD GPU (仅Linux)<a href="#amd-gpu-仅linux" class="hash-link" aria-label="Direct link to AMD GPU (仅Linux)" title="Direct link to AMD GPU (仅Linux)" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># ROCm 6.4 稳定版</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/rocm6.4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># ROCm 6.4 夜间版</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install --pre torch torchvision torchaudio --index-url https://download.pytorch.org/whl/nightly/rocm6.4</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="intel-gpu">Intel GPU<a href="#intel-gpu" class="hash-link" aria-label="Direct link to Intel GPU" title="Direct link to Intel GPU" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># Intel XPU支持</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/xpu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 夜间版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install --pre torch torchvision torchaudio --index-url https://download.pytorch.org/whl/nightly/xpu</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="apple-silicon-m1m2m3">Apple Silicon (M1/M2/M3)<a href="#apple-silicon-m1m2m3" class="hash-link" aria-label="Direct link to Apple Silicon (M1/M2/M3)" title="Direct link to Apple Silicon (M1/M2/M3)" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 安装PyTorch nightly (推荐)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install --pre torch torchvision torchaudio --extra-index-url https://download.pytorch.org/whl/nightly/cpu</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="cpu-only">CPU Only<a href="#cpu-only" class="hash-link" aria-label="Direct link to CPU Only" title="Direct link to CPU Only" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># CPU版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cpu</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="第四步安装依赖">第四步：安装依赖<a href="#第四步安装依赖" class="hash-link" aria-label="Direct link to 第四步：安装依赖" title="Direct link to 第四步：安装依赖" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 安装ComfyUI依赖</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install -r requirements.txt</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="第五步准备模型目录">第五步：准备模型目录<a href="#第五步准备模型目录" class="hash-link" aria-label="Direct link to 第五步：准备模型目录" title="Direct link to 第五步：准备模型目录" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 创建模型目录结构 (如果不存在)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p models/checkpoints</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p models/vae</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p models/loras</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p models/controlnet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p models/clip_vision</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p models/upscale_models</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 下载基础模型 (示例)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 将SD模型文件放入 models/checkpoints/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 将VAE文件放入 models/vae/</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="第六步启动comfyui">第六步：启动ComfyUI<a href="#第六步启动comfyui" class="hash-link" aria-label="Direct link to 第六步：启动ComfyUI" title="Direct link to 第六步：启动ComfyUI" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 基本启动</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python main.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 指定端口</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python main.py --port 8080</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 允许外部访问</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python main.py --listen 0.0.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 自动打开浏览器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python main.py --auto-launch</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="gpu特定安装">GPU特定安装<a href="#gpu特定安装" class="hash-link" aria-label="Direct link to GPU特定安装" title="Direct link to GPU特定安装" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="gpu配置选择图">GPU配置选择图<a href="#gpu配置选择图" class="hash-link" aria-label="Direct link to GPU配置选择图" title="Direct link to GPU配置选择图" translate="no">​</a></h3>
<!-- -->
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="nvidia-gpu优化">NVIDIA GPU优化<a href="#nvidia-gpu优化" class="hash-link" aria-label="Direct link to NVIDIA GPU优化" title="Direct link to NVIDIA GPU优化" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 检查CUDA版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nvidia-smi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 如果遇到CUDA错误，重新安装PyTorch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip uninstall torch torchvision torchaudio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install torch torchvision torchaudio --extra-index-url https://download.pytorch.org/whl/cu129</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 启动时的优化选项</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python main.py --force-fp16  # 强制使用FP16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python main.py --bf16-unet   # 使用BF16 (RTX 30/40系列)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="amd-gpu-linux">AMD GPU (Linux)<a href="#amd-gpu-linux" class="hash-link" aria-label="Direct link to AMD GPU (Linux)" title="Direct link to AMD GPU (Linux)" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 检查ROCm安装</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rocm-smi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 对于不支持的AMD卡</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># RDNA2 (6700, 6600等)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HSA_OVERRIDE_GFX_VERSION=10.3.0 python main.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># RDNA3 (7600等)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HSA_OVERRIDE_GFX_VERSION=11.0.0 python main.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 启用实验性优化</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">TORCH_ROCM_AOTRITON_ENABLE_EXPERIMENTAL=1 python main.py --use-pytorch-cross-attention</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="intel-gpu-1">Intel GPU<a href="#intel-gpu-1" class="hash-link" aria-label="Direct link to Intel GPU" title="Direct link to Intel GPU" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 检查Intel GPU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">intel_gpu_top</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 启动选项</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python main.py --force-fp16</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="apple-silicon">Apple Silicon<a href="#apple-silicon" class="hash-link" aria-label="Direct link to Apple Silicon" title="Direct link to Apple Silicon" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 检查Metal支持</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python -c &quot;import torch; print(torch.backends.mps.is_available())&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 启动选项</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python main.py --force-fp16</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="验证安装">验证安装<a href="#验证安装" class="hash-link" aria-label="Direct link to 验证安装" title="Direct link to 验证安装" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="1-基本功能测试">1. 基本功能测试<a href="#1-基本功能测试" class="hash-link" aria-label="Direct link to 1. 基本功能测试" title="Direct link to 1. 基本功能测试" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 启动ComfyUI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python main.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 检查控制台输出，应该看到:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># &quot;To see the GUI go to: http://127.0.0.1:8188&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="2-web界面测试">2. Web界面测试<a href="#2-web界面测试" class="hash-link" aria-label="Direct link to 2. Web界面测试" title="Direct link to 2. Web界面测试" translate="no">​</a></h3>
<ol>
<li class="">打开浏览器访问 <code>http://127.0.0.1:8188</code></li>
<li class="">应该看到ComfyUI的节点编辑界面</li>
<li class="">尝试加载默认工作流</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="3-gpu测试">3. GPU测试<a href="#3-gpu测试" class="hash-link" aria-label="Direct link to 3. GPU测试" title="Direct link to 3. GPU测试" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 在Python中检查GPU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python -c &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import torch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print(f&#x27;CUDA available: {torch.cuda.is_available()}&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print(f&#x27;MPS available: {torch.backends.mps.is_available()}&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print(f&#x27;Device count: {torch.cuda.device_count()}&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if torch.cuda.is_available():</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(f&#x27;Current device: {torch.cuda.current_device()}&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(f&#x27;Device name: {torch.cuda.get_device_name()}&#x27;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="常见问题">常见问题<a href="#常见问题" class="hash-link" aria-label="Direct link to 常见问题" title="Direct link to 常见问题" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="故障排除流程">故障排除流程<a href="#故障排除流程" class="hash-link" aria-label="Direct link to 故障排除流程" title="Direct link to 故障排除流程" translate="no">​</a></h3>
<!-- -->
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="1-pytorch-cuda错误">1. PyTorch CUDA错误<a href="#1-pytorch-cuda错误" class="hash-link" aria-label="Direct link to 1. PyTorch CUDA错误" title="Direct link to 1. PyTorch CUDA错误" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 错误: &quot;Torch not compiled with CUDA enabled&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 解决方案:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip uninstall torch torchvision torchaudio</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install torch torchvision torchaudio --extra-index-url https://download.pytorch.org/whl/cu129</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="2-内存不足错误">2. 内存不足错误<a href="#2-内存不足错误" class="hash-link" aria-label="Direct link to 2. 内存不足错误" title="Direct link to 2. 内存不足错误" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 启用低VRAM模式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python main.py --lowvram</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 或使用CPU</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python main.py --cpu</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="3-端口被占用">3. 端口被占用<a href="#3-端口被占用" class="hash-link" aria-label="Direct link to 3. 端口被占用" title="Direct link to 3. 端口被占用" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 更换端口</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python main.py --port 8080</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 检查端口占用</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Windows: netstat -ano | findstr :8188</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Linux/macOS: lsof -i :8188</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="4-模型加载失败">4. 模型加载失败<a href="#4-模型加载失败" class="hash-link" aria-label="Direct link to 4. 模型加载失败" title="Direct link to 4. 模型加载失败" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 检查模型路径</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ls models/checkpoints/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 检查模型格式 (支持 .ckpt, .safetensors, .pt)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 确保模型文件完整且未损坏</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="5-权限问题-linuxmacos">5. 权限问题 (Linux/macOS)<a href="#5-权限问题-linuxmacos" class="hash-link" aria-label="Direct link to 5. 权限问题 (Linux/macOS)" title="Direct link to 5. 权限问题 (Linux/macOS)" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 给予执行权限</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod +x main.py</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 或使用sudo (不推荐)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo python main.py --port 80</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="高级配置">高级配置<a href="#高级配置" class="hash-link" aria-label="Direct link to 高级配置" title="Direct link to 高级配置" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="1-环境变量配置">1. 环境变量配置<a href="#1-环境变量配置" class="hash-link" aria-label="Direct link to 1. 环境变量配置" title="Direct link to 1. 环境变量配置" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 设置模型路径</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export COMFYUI_MODEL_PATH=&quot;/path/to/models&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 设置临时目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export COMFYUI_TEMP_PATH=&quot;/path/to/temp&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 设置输出目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export COMFYUI_OUTPUT_PATH=&quot;/path/to/output&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="2-配置文件设置">2. 配置文件设置<a href="#2-配置文件设置" class="hash-link" aria-label="Direct link to 2. 配置文件设置" title="Direct link to 2. 配置文件设置" translate="no">​</a></h3>
<div class="language-yaml codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-yaml codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># extra_model_paths.yaml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">base_path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /path/to/models/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">checkpoints</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> checkpoints/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">vae</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> vae/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">loras</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> loras/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">controlnet</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> controlnet/</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="3-性能优化">3. 性能优化<a href="#3-性能优化" class="hash-link" aria-label="Direct link to 3. 性能优化" title="Direct link to 3. 性能优化" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 启用所有优化</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python main.py --fast</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 启用特定优化</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python main.py --bf16-unet --attention-pytorch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 内存优化</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python main.py --lowvram --cpu-vae</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="4-开发模式">4. 开发模式<a href="#4-开发模式" class="hash-link" aria-label="Direct link to 4. 开发模式" title="Direct link to 4. 开发模式" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 启用详细日志</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python main.py --verbose</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 禁用自定义节点</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python main.py --disable-all-custom-nodes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 启用前端开发模式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">python main.py --front-end-version Comfy-Org/ComfyUI_frontend@latest</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="更新和维护">更新和维护<a href="#更新和维护" class="hash-link" aria-label="Direct link to 更新和维护" title="Direct link to 更新和维护" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="1-更新comfyui">1. 更新ComfyUI<a href="#1-更新comfyui" class="hash-link" aria-label="Direct link to 1. 更新ComfyUI" title="Direct link to 1. 更新ComfyUI" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># Git方式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git pull origin master</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># comfy-cli方式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">comfy update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 手动下载新版本</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="2-更新依赖">2. 更新依赖<a href="#2-更新依赖" class="hash-link" aria-label="Direct link to 2. 更新依赖" title="Direct link to 2. 更新依赖" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 更新所有依赖</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install -r requirements.txt --upgrade</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 更新特定包</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pip install torch --upgrade</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="3-清理缓存">3. 清理缓存<a href="#3-清理缓存" class="hash-link" aria-label="Direct link to 3. 清理缓存" title="Direct link to 3. 清理缓存" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 清理Python缓存</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">find . -type d -name &quot;__pycache__&quot; -delete</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 清理临时文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rm -rf temp/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 清理模型缓存</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rm -rf models/.cache/</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="总结">总结<a href="#总结" class="hash-link" aria-label="Direct link to 总结" title="Direct link to 总结" translate="no">​</a></h2>
<p>ComfyUI提供了多种安装方式以适应不同用户的需求：</p>
<ol>
<li class=""><strong>新手用户</strong>: 推荐使用桌面应用程序或Windows便携包</li>
<li class=""><strong>开发者</strong>: 推荐使用comfy-cli进行环境管理</li>
<li class=""><strong>高级用户</strong>: 推荐手动安装以获得最大灵活性</li>
</ol>
<p>选择适合您的安装方式，按照本指南的步骤操作，即可成功安装并运行ComfyUI。如遇问题，请参考常见问题部分或访问官方社区寻求帮助。</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_RM2i"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Tools/Comfyui/ComfyUI安装指南.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_NBA7" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_Ng_4"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/notes3/docs/Tools/Comfyui/ComfyUI介绍口播文稿"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">ComfyUI介绍口播文稿</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/notes3/docs/Tools/Comfyui/ComfyUI架构详解"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ComfyUI 架构详解</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_qSfz thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#目录" class="table-of-contents__link toc-highlight">目录</a></li><li><a href="#系统要求" class="table-of-contents__link toc-highlight">系统要求</a><ul><li><a href="#基本要求" class="table-of-contents__link toc-highlight">基本要求</a></li><li><a href="#gpu要求" class="table-of-contents__link toc-highlight">GPU要求</a></li></ul></li><li><a href="#安装方式选择" class="table-of-contents__link toc-highlight">安装方式选择</a><ul><li><a href="#安装方式决策树" class="table-of-contents__link toc-highlight">安装方式决策树</a></li><li><a href="#1-桌面应用程序-推荐新手" class="table-of-contents__link toc-highlight">1. 桌面应用程序 (推荐新手)</a></li><li><a href="#2-windows便携包" class="table-of-contents__link toc-highlight">2. Windows便携包</a></li><li><a href="#3-comfy-cli-推荐开发者" class="table-of-contents__link toc-highlight">3. comfy-cli (推荐开发者)</a></li><li><a href="#4-手动安装-最灵活" class="table-of-contents__link toc-highlight">4. 手动安装 (最灵活)</a></li></ul></li><li><a href="#快速安装" class="table-of-contents__link toc-highlight">快速安装</a><ul><li><a href="#windows用户" class="table-of-contents__link toc-highlight">Windows用户</a></li><li><a href="#macos用户" class="table-of-contents__link toc-highlight">macOS用户</a></li><li><a href="#linux用户" class="table-of-contents__link toc-highlight">Linux用户</a></li></ul></li><li><a href="#手动安装" class="table-of-contents__link toc-highlight">手动安装</a><ul><li><a href="#安装流程图" class="table-of-contents__link toc-highlight">安装流程图</a></li><li><a href="#第一步准备环境" class="table-of-contents__link toc-highlight">第一步：准备环境</a></li><li><a href="#第二步获取源码" class="table-of-contents__link toc-highlight">第二步：获取源码</a></li><li><a href="#第三步安装pytorch" class="table-of-contents__link toc-highlight">第三步：安装PyTorch</a></li><li><a href="#第四步安装依赖" class="table-of-contents__link toc-highlight">第四步：安装依赖</a></li><li><a href="#第五步准备模型目录" class="table-of-contents__link toc-highlight">第五步：准备模型目录</a></li><li><a href="#第六步启动comfyui" class="table-of-contents__link toc-highlight">第六步：启动ComfyUI</a></li></ul></li><li><a href="#gpu特定安装" class="table-of-contents__link toc-highlight">GPU特定安装</a><ul><li><a href="#gpu配置选择图" class="table-of-contents__link toc-highlight">GPU配置选择图</a></li><li><a href="#nvidia-gpu优化" class="table-of-contents__link toc-highlight">NVIDIA GPU优化</a></li><li><a href="#amd-gpu-linux" class="table-of-contents__link toc-highlight">AMD GPU (Linux)</a></li><li><a href="#intel-gpu-1" class="table-of-contents__link toc-highlight">Intel GPU</a></li><li><a href="#apple-silicon" class="table-of-contents__link toc-highlight">Apple Silicon</a></li></ul></li><li><a href="#验证安装" class="table-of-contents__link toc-highlight">验证安装</a><ul><li><a href="#1-基本功能测试" class="table-of-contents__link toc-highlight">1. 基本功能测试</a></li><li><a href="#2-web界面测试" class="table-of-contents__link toc-highlight">2. Web界面测试</a></li><li><a href="#3-gpu测试" class="table-of-contents__link toc-highlight">3. GPU测试</a></li></ul></li><li><a href="#常见问题" class="table-of-contents__link toc-highlight">常见问题</a><ul><li><a href="#故障排除流程" class="table-of-contents__link toc-highlight">故障排除流程</a></li><li><a href="#1-pytorch-cuda错误" class="table-of-contents__link toc-highlight">1. PyTorch CUDA错误</a></li><li><a href="#2-内存不足错误" class="table-of-contents__link toc-highlight">2. 内存不足错误</a></li><li><a href="#3-端口被占用" class="table-of-contents__link toc-highlight">3. 端口被占用</a></li><li><a href="#4-模型加载失败" class="table-of-contents__link toc-highlight">4. 模型加载失败</a></li><li><a href="#5-权限问题-linuxmacos" class="table-of-contents__link toc-highlight">5. 权限问题 (Linux/macOS)</a></li></ul></li><li><a href="#高级配置" class="table-of-contents__link toc-highlight">高级配置</a><ul><li><a href="#1-环境变量配置" class="table-of-contents__link toc-highlight">1. 环境变量配置</a></li><li><a href="#2-配置文件设置" class="table-of-contents__link toc-highlight">2. 配置文件设置</a></li><li><a href="#3-性能优化" class="table-of-contents__link toc-highlight">3. 性能优化</a></li><li><a href="#4-开发模式" class="table-of-contents__link toc-highlight">4. 开发模式</a></li></ul></li><li><a href="#更新和维护" class="table-of-contents__link toc-highlight">更新和维护</a><ul><li><a href="#1-更新comfyui" class="table-of-contents__link toc-highlight">1. 更新ComfyUI</a></li><li><a href="#2-更新依赖" class="table-of-contents__link toc-highlight">2. 更新依赖</a></li><li><a href="#3-清理缓存" class="table-of-contents__link toc-highlight">3. 清理缓存</a></li></ul></li><li><a href="#总结" class="table-of-contents__link toc-highlight">总结</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_EO6u"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_EO6u"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_EO6u"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/notes3/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_EO6u"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>