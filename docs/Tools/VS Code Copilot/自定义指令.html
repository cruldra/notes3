<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Tools/VS Code Copilot/自定义指令" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">自定义指令 | Cruldra</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-site.example.com/notes3/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-site.example.com/notes3/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-site.example.com/notes3/docs/Tools/VS Code Copilot/自定义指令"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="自定义指令 | Cruldra"><meta data-rh="true" name="description" content="自定义指令允许您定义通用的准则和规则，自动影响 AI 生成代码和处理其他开发任务的方式。您无需在每次聊天提示中手动包含上下文，而是在 Markdown 文件中指定自定义指令，以确 AI 的回复始终符合您的编码实践和项目要求。"><meta data-rh="true" property="og:description" content="自定义指令允许您定义通用的准则和规则，自动影响 AI 生成代码和处理其他开发任务的方式。您无需在每次聊天提示中手动包含上下文，而是在 Markdown 文件中指定自定义指令，以确 AI 的回复始终符合您的编码实践和项目要求。"><link data-rh="true" rel="icon" href="/notes3/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-site.example.com/notes3/docs/Tools/VS Code Copilot/自定义指令"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/notes3/docs/Tools/VS Code Copilot/自定义指令" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/notes3/docs/Tools/VS Code Copilot/自定义指令" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"自定义指令","item":"https://your-docusaurus-site.example.com/notes3/docs/Tools/VS Code Copilot/自定义指令"}]}</script><link rel="alternate" type="application/rss+xml" href="/notes3/blog/rss.xml" title="Cruldra RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/notes3/blog/atom.xml" title="Cruldra Atom Feed"><link rel="stylesheet" href="/notes3/assets/css/styles.44875995.css">
<script src="/notes3/assets/js/runtime~main.e67d83d5.js" defer="defer"></script>
<script src="/notes3/assets/js/main.d5cfca97.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),document.documentElement.setAttribute("data-theme-choice","system"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/notes3/img/logo.svg"><style data-mantine-styles="classes">@media (max-width: 35.99375em) {.mantine-visible-from-xs {display: none !important;}}@media (min-width: 36em) {.mantine-hidden-from-xs {display: none !important;}}@media (max-width: 47.99375em) {.mantine-visible-from-sm {display: none !important;}}@media (min-width: 48em) {.mantine-hidden-from-sm {display: none !important;}}@media (max-width: 61.99375em) {.mantine-visible-from-md {display: none !important;}}@media (min-width: 62em) {.mantine-hidden-from-md {display: none !important;}}@media (max-width: 74.99375em) {.mantine-visible-from-lg {display: none !important;}}@media (min-width: 75em) {.mantine-hidden-from-lg {display: none !important;}}@media (max-width: 87.99375em) {.mantine-visible-from-xl {display: none !important;}}@media (min-width: 88em) {.mantine-hidden-from-xl {display: none !important;}}</style><div role="region" aria-label="Skip to main content"><a class="skipToContent_aA1M" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/notes3/"><div class="navbar__logo"><img src="/notes3/img/logo.svg" alt="My Site Logo" class="themedComponent_E3Xm themedComponent--light_DVqC"><img src="/notes3/img/logo.svg" alt="My Site Logo" class="themedComponent_E3Xm themedComponent--dark_B_L3"></div><b class="navbar__title text--truncate">Cruldra</b></a><a class="navbar__item navbar__link" href="/notes3/docs/category/设计模式">JVM</a><a class="navbar__item navbar__link" href="/notes3/docs/category/css">前端</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/notes3/docs/category/astrbot">工具</a><a class="navbar__item navbar__link" href="/notes3/docs/category/ai电竞酒店">个人</a><a class="navbar__item navbar__link" href="/notes3/docs/AI/ACP/架构">AI</a><a class="navbar__item navbar__link" href="/notes3/docs/category/内置模块">Python</a><a class="navbar__item navbar__link" href="/notes3/docs/category/actix-web">Rust</a><a class="navbar__item navbar__link" href="/notes3/docs/category/数据库系统">软件工程</a><a class="navbar__item navbar__link" href="/notes3/docs/category/上古卷轴5">游戏</a><a class="navbar__item navbar__link" href="/notes3/docs/Go/Go-Python-Java三语言全方位对比">Go</a><a class="navbar__item navbar__link" href="/notes3/docs/Hardware/GPU工作原理">硬件</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_PufJ"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_ctfR"><div class="docsWrapper_ByIB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_KwvU" type="button"></button><div class="docRoot_hD6z"><aside class="theme-doc-sidebar-container docSidebarContainer_KuHC"><div class="sidebarViewport_LCjr"><div class="sidebar_L77d"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_VYAF"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist" href="/notes3/docs/category/astrbot"><span title="AstrBot" class="categoryLinkLabel_FHN4">AstrBot</span></a><button aria-label="Expand sidebar category &#x27;AstrBot&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist" href="/notes3/docs/category/dify"><span title="Dify" class="categoryLinkLabel_FHN4">Dify</span></a><button aria-label="Expand sidebar category &#x27;Dify&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Tools/OpenAI"><span title="OpenAI" class="linkLabel__RqX">OpenAI</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist" href="/notes3/docs/category/rpa"><span title="RPA" class="categoryLinkLabel_FHN4">RPA</span></a><button aria-label="Expand sidebar category &#x27;RPA&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist" href="/notes3/docs/category/内网穿透"><span title="内网穿透" class="categoryLinkLabel_FHN4">内网穿透</span></a><button aria-label="Expand sidebar category &#x27;内网穿透&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist" href="/notes3/docs/category/操作系统"><span title="操作系统" class="categoryLinkLabel_FHN4">操作系统</span></a><button aria-label="Expand sidebar category &#x27;操作系统&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist" href="/notes3/docs/category/数据库"><span title="数据库" class="categoryLinkLabel_FHN4">数据库</span></a><button aria-label="Expand sidebar category &#x27;数据库&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist" href="/notes3/docs/category/版本控制"><span title="版本控制" class="categoryLinkLabel_FHN4">版本控制</span></a><button aria-label="Expand sidebar category &#x27;版本控制&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist" href="/notes3/docs/category/编程"><span title="编程" class="categoryLinkLabel_FHN4">编程</span></a><button aria-label="Expand sidebar category &#x27;编程&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist" href="/notes3/docs/category/虚拟化和容器"><span title="虚拟化和容器" class="categoryLinkLabel_FHN4">虚拟化和容器</span></a><button aria-label="Expand sidebar category &#x27;虚拟化和容器&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist" href="/notes3/docs/category/证书"><span title="证书" class="categoryLinkLabel_FHN4">证书</span></a><button aria-label="Expand sidebar category &#x27;证书&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist" href="/notes3/docs/category/集成开发环境"><span title="集成开发环境" class="categoryLinkLabel_FHN4">集成开发环境</span></a><button aria-label="Expand sidebar category &#x27;集成开发环境&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist" href="/notes3/docs/category/音视频"><span title="音视频" class="categoryLinkLabel_FHN4">音视频</span></a><button aria-label="Expand sidebar category &#x27;音视频&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Tools/Comfyui/AI模型文件分发策略差异分析"><span title="Comfyui" class="categoryLinkLabel_FHN4">Comfyui</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Tools/Docusaurus/Front Matter"><span title="Docusaurus" class="categoryLinkLabel_FHN4">Docusaurus</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Tools/GeminiCLI/介绍"><span title="GeminiCLI" class="categoryLinkLabel_FHN4">GeminiCLI</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Tools/Gitea/TEAM"><span title="Gitea" class="categoryLinkLabel_FHN4">Gitea</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Tools/Github/高级搜索语法"><span title="Github" class="categoryLinkLabel_FHN4">Github</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Tools/Jenkins"><span title="Jenkins" class="linkLabel__RqX">Jenkins</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Tools/Kiro/Steering"><span title="Kiro" class="categoryLinkLabel_FHN4">Kiro</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Tools/MCP服务器/Serena - 语义代码检索与编辑工具"><span title="MCP服务器" class="categoryLinkLabel_FHN4">MCP服务器</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Tools/Ollama"><span title="Ollama" class="linkLabel__RqX">Ollama</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Tools/OpenCode/快捷键绑定"><span title="OpenCode" class="categoryLinkLabel_FHN4">OpenCode</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Tools/Powershell/自定义命令"><span title="Powershell" class="categoryLinkLabel_FHN4">Powershell</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Tools/QGIS/三国地图制作"><span title="QGIS" class="categoryLinkLabel_FHN4">QGIS</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Tools/Remotion/简介"><span title="Remotion" class="categoryLinkLabel_FHN4">Remotion</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Tools/Unity/Api/Appllication"><span title="Unity" class="categoryLinkLabel_FHN4">Unity</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/notes3/docs/Tools/VS Code Copilot/自定义指令"><span title="VS Code Copilot" class="categoryLinkLabel_FHN4">VS Code Copilot</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/notes3/docs/Tools/VS Code Copilot/自定义指令"><span title="自定义指令" class="linkLabel__RqX">自定义指令</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_NhDl menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Tools/figma/Figma原型交互"><span title="figma" class="categoryLinkLabel_FHN4">figma</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_WxcZ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Zd2x"><div class="docItemContainer_EEW4"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_xL_w" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/notes3/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_zA1U"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">VS Code Copilot</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">自定义指令</span></li></ul></nav><div class="tocCollapsible_aZGz theme-doc-toc-mobile tocMobile_ShCt"><button type="button" class="clean-btn tocCollapsibleButton_fxzH">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>自定义指令</h1></header><p>自定义指令允许您定义通用的准则和规则，自动影响 AI 生成代码和处理其他开发任务的方式。您无需在每次聊天提示中手动包含上下文，而是在 Markdown 文件中指定自定义指令，以确 AI 的回复始终符合您的编码实践和项目要求。</p>
<p>您可以配置自定义指令，使其自动应用于所有聊天请求，或仅应用于特定文件。或者，您也可以手动将自定义指令附加到特定的聊天提示中。</p>
<blockquote>
<p><strong>注意</strong>：在编辑器中输入时，<strong>行内建议</strong>不会考虑自定义指令。</p>
</blockquote>
<h2 class="anchor anchorTargetStickyNavbar_aDle" id="指令文件的类型">[指令文件的类型]<a href="#指令文件的类型" class="hash-link" aria-label="Direct link to [指令文件的类型]" title="Direct link to [指令文件的类型]" translate="no">​</a></h2>
<p>VS Code 支持多种基于 Markdown 的指令文件类型。如果在您的项目中有多种类型的指令文件，VS Code 会将它们合并并添加到聊天上下文中，不保证特定的顺序。</p>
<ul>
<li class=""><strong>单个 <code>.github/copilot-instructions.md</code> 文件</strong>
<ul>
<li class="">自动应用于工作区中的所有聊天请求</li>
<li class="">存储在工作区内</li>
</ul>
</li>
<li class=""><strong>一个或多个 <code>.instructions.md</code> 文件</strong>
<ul>
<li class="">通过使用 glob 模式，根据文件类型或位置有条件地应用指令</li>
<li class="">存储在工作区或用户配置文件中</li>
</ul>
</li>
<li class=""><strong>一个或多个 <code>AGENTS.md</code> 文件</strong>
<ul>
<li class="">如果您在工作区中使用多个 AI 代理，这非常有用</li>
<li class="">自动应用于工作区中的所有聊天请求，或特定子文件夹（实验性）</li>
<li class="">存储在工作区根目录或子文件夹中（实验性）</li>
</ul>
</li>
</ul>
<p>指令之间的空格会被忽略，因此为了可读性，指令可以写成一个段落，每行一条，或者用空行分隔。</p>
<p>要在指令中引用特定的上下文（如文件或 URL），可以使用 Markdown 链接。</p>
<h2 class="anchor anchorTargetStickyNavbar_aDle" id="自定义指令示例">[自定义指令示例]<a href="#自定义指令示例" class="hash-link" aria-label="Direct link to [自定义指令示例]" title="Direct link to [自定义指令示例]" translate="no">​</a></h2>
<p>以下示例演示了如何使用自定义指令。更多社区贡献的示例，请参阅 <a href="https://github.com/github/awesome-copilot/tree/main" target="_blank" rel="noopener noreferrer" class="">Awesome Copilot 仓库</a>。</p>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="示例通用编码准则">示例：通用编码准则<a href="#示例通用编码准则" class="hash-link" aria-label="Direct link to 示例：通用编码准则" title="Direct link to 示例：通用编码准则" translate="no">​</a></h3>
<div class="language-markdown codeBlockContainer_FVab theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oMSL"><pre tabindex="0" class="prism-code language-markdown codeBlock_MTmK thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_KEkQ"><span class="token-line" style="color:#393A34"><span class="token front-matter-block punctuation" style="color:#393A34">---</span><span class="token front-matter-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token front-matter-block"></span><span class="token front-matter-block front-matter yaml language-yaml key atrule" style="color:#00a4db">applyTo</span><span class="token front-matter-block front-matter yaml language-yaml punctuation" style="color:#393A34">:</span><span class="token front-matter-block front-matter yaml language-yaml"> </span><span class="token front-matter-block front-matter yaml language-yaml string" style="color:#e3116c">&quot;**&quot;</span><span class="token front-matter-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token front-matter-block"></span><span class="token front-matter-block punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">#</span><span class="token title important"> 项目通用编码标准</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> 命名约定</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 组件名称、接口和类型别名使用 PascalCase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 变量、函数和方法使用 camelCase</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 私有类成员加下划线前缀 (_)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 常量使用 ALL_CAPS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> 错误处理</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 异步操作使用 try/catch 块</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 在 React 组件中实现适当的错误边界</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 始终记录带有上下文信息的错误</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="示例特定语言的编码准则">示例：特定语言的编码准则<a href="#示例特定语言的编码准则" class="hash-link" aria-label="Direct link to 示例：特定语言的编码准则" title="Direct link to 示例：特定语言的编码准则" translate="no">​</a></h3>
<p>请注意这些指令是如何引用通用编码准则文件的。您可以将指令分成多个文件，以保持组织性并专注于特定主题。</p>
<div class="language-markdown codeBlockContainer_FVab theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oMSL"><pre tabindex="0" class="prism-code language-markdown codeBlock_MTmK thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_KEkQ"><span class="token-line" style="color:#393A34"><span class="token front-matter-block punctuation" style="color:#393A34">---</span><span class="token front-matter-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token front-matter-block"></span><span class="token front-matter-block front-matter yaml language-yaml key atrule" style="color:#00a4db">applyTo</span><span class="token front-matter-block front-matter yaml language-yaml punctuation" style="color:#393A34">:</span><span class="token front-matter-block front-matter yaml language-yaml"> </span><span class="token front-matter-block front-matter yaml language-yaml string" style="color:#e3116c">&quot;**/*.ts,**/*.tsx&quot;</span><span class="token front-matter-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token front-matter-block"></span><span class="token front-matter-block punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">#</span><span class="token title important"> TypeScript 和 React 的项目编码标准</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">将 </span><span class="token url" style="color:#36acaa">[</span><span class="token url content" style="color:#36acaa">通用编码准则</span><span class="token url" style="color:#36acaa">](</span><span class="token url" style="color:#36acaa">./general-coding.instructions.md</span><span class="token url" style="color:#36acaa">)</span><span class="token plain"> 应用于所有代码。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> TypeScript 准则</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 所有新代码使用 TypeScript</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 尽可能遵循函数式编程原则</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 使用接口进行数据结构和类型定义</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 优先使用不可变数据 (const, readonly)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 使用可选链 (?.) 和空值合并 (??) 运算符</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> React 准则</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 使用带 Hook 的函数组件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 遵循 React Hook 规则（无条件 Hook）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 对于带有子组件的组件使用 React.FC 类型</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 保持组件小而专注</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 使用 CSS 模块进行组件样式设计</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="示例文档编写准则">示例：文档编写准则<a href="#示例文档编写准则" class="hash-link" aria-label="Direct link to 示例：文档编写准则" title="Direct link to 示例：文档编写准则" translate="no">​</a></h3>
<p>您可以为不同类型的任务创建指令文件，包括非开发活动，如编写文档。</p>
<div class="language-markdown codeBlockContainer_FVab theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oMSL"><pre tabindex="0" class="prism-code language-markdown codeBlock_MTmK thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_KEkQ"><span class="token-line" style="color:#393A34"><span class="token front-matter-block punctuation" style="color:#393A34">---</span><span class="token front-matter-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token front-matter-block"></span><span class="token front-matter-block front-matter yaml language-yaml key atrule" style="color:#00a4db">applyTo</span><span class="token front-matter-block front-matter yaml language-yaml punctuation" style="color:#393A34">:</span><span class="token front-matter-block front-matter yaml language-yaml"> </span><span class="token front-matter-block front-matter yaml language-yaml string" style="color:#e3116c">&quot;docs/**/*.md&quot;</span><span class="token front-matter-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token front-matter-block"></span><span class="token front-matter-block punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">#</span><span class="token title important"> 项目文档编写准则</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> 通用准则</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 编写清晰简洁的文档。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 使用一致的术语和风格。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 在适用的地方包含代码示例。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> 语法</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 使用现在时动词 (is, open) 而不是过去时 (was, opened)。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 编写陈述句和直接命令。避免使用 &quot;could&quot; 或 &quot;would&quot; 等假设性词语。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 使用主动语态，主语执行动作。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 使用第二人称 (you) 直接与读者对话。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">##</span><span class="token title important"> Markdown 准则</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 使用标题组织内容。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 列表使用项目符号。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 包含相关资源的链接。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 代码片段使用代码块。</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_aDle" id="使用-githubcopilot-instructionsmd-文件">[使用 <code>.github/copilot-instructions.md</code> 文件]<a href="#使用-githubcopilot-instructionsmd-文件" class="hash-link" aria-label="Direct link to 使用-githubcopilot-instructionsmd-文件" title="Direct link to 使用-githubcopilot-instructionsmd-文件" translate="no">​</a></h2>
<p>在工作区根目录下的单个 <code>.github/copilot-instructions.md</code> Markdown 文件中定义您的自定义指令。VS Code 会自动将此文件中的指令应用于该工作区内的所有聊天请求。</p>
<p>要使用 <code>.github/copilot-instructions.md</code> 文件：</p>
<ol>
<li class="">启用 <code>github.copilot.chat.codeGeneration.useInstructionFiles</code> 设置。</li>
<li class="">在工作区根目录下创建一个 <code>.github/copilot-instructions.md</code> 文件。如果需要，先创建一个 <code>.github</code> 目录。</li>
<li class="">使用自然语言和 Markdown 格式描述您的指令。</li>
</ol>
<blockquote>
<p><strong>注意</strong>：Visual Studio 和 GitHub.com 中的 GitHub Copilot 也会检测 <code>.github/copilot-instructions.md</code> 文件。如果您有一个在 VS Code 和 Visual Studio 中都使用的工作区，可以使用同一个文件为两个编辑器定义自定义指令。</p>
</blockquote>
<h2 class="anchor anchorTargetStickyNavbar_aDle" id="使用-instructionsmd-文件">[使用 <code>.instructions.md</code> 文件]<a href="#使用-instructionsmd-文件" class="hash-link" aria-label="Direct link to 使用-instructionsmd-文件" title="Direct link to 使用-instructionsmd-文件" translate="no">​</a></h2>
<p>除了使用应用于所有聊天请求的单个指令文件外，您还可以创建多个应用于特定文件类型或任务的 <code>.instructions.md</code> 文件。例如，您可以为不同的编程语言、框架或项目类型创建指令文件。</p>
<p>通过在指令文件头中使用 <code>applyTo</code> frontmatter 属性，您可以指定 glob 模式来定义指令应自动应用于哪些文件。指令文件在创建或修改文件时使用，通常不用于读取操作。</p>
<p>或者，您可以通过在聊天视图中使用 <strong>Add Context</strong> &gt; <strong>Instructions</strong> 选项，手动将指令文件附加到特定的聊天提示中。</p>
<ul>
<li class=""><strong>工作区指令文件</strong>：仅在工作区内可用，存储在工作区的 <code>.github/instructions</code> 文件夹中。</li>
<li class=""><strong>用户指令文件</strong>：可在多个工作区中使用，存储在当前的 <a href="https://code.visualstudio.com/docs/configure/profiles" target="_blank" rel="noopener noreferrer" class="">VS Code 配置文件</a>中。</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="指令文件格式">[指令文件格式]<a href="#指令文件格式" class="hash-link" aria-label="Direct link to [指令文件格式]" title="Direct link to [指令文件格式]" translate="no">​</a></h3>
<p>指令文件是 Markdown 文件，使用 <code>.instructions.md</code> 扩展名，并具有以下结构：</p>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="头部-可选">[头部 (可选)]<a href="#头部-可选" class="hash-link" aria-label="Direct link to [头部 (可选)]" title="Direct link to [头部 (可选)]" translate="no">​</a></h4>
<p>头部格式为 YAML frontmatter，包含以下字段：</p>
<table><thead><tr><th>字段</th><th>描述</th></tr></thead><tbody><tr><td><code>description</code></td><td>指令文件的简短描述。</td></tr><tr><td><code>name</code></td><td>指令文件的名称，在 UI 中使用。如果未指定，则使用文件名。</td></tr><tr><td><code>applyTo</code></td><td>可选的 glob 模式，定义指令应自动应用于哪些文件（相对于工作区根目录）。使用 <code>**</code> 应用于所有文件。如果未指定值，指令不会自动应用 - 您仍然可以手动将其添加到聊天请求中。</td></tr></tbody></table>
<h4 class="anchor anchorTargetStickyNavbar_aDle" id="正文">[正文]<a href="#正文" class="hash-link" aria-label="Direct link to [正文]" title="Direct link to [正文]" translate="no">​</a></h4>
<p>指令文件正文包含在应用指令时发送给 LLM 的自定义指令。提供您希望 AI 遵循的具体准则、规则或任何其他相关信息。</p>
<p>要在正文中引用代理工具，请使用 <code>#tool:&lt;tool-name&gt;</code> 语法。例如，要引用 <code>githubRepo</code> 工具，请使用 <code>#tool:githubRepo</code>。</p>
<p>示例：</p>
<div class="language-markdown codeBlockContainer_FVab theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oMSL"><pre tabindex="0" class="prism-code language-markdown codeBlock_MTmK thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_KEkQ"><span class="token-line" style="color:#393A34"><span class="token front-matter-block punctuation" style="color:#393A34">---</span><span class="token front-matter-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token front-matter-block"></span><span class="token front-matter-block front-matter yaml language-yaml key atrule" style="color:#00a4db">applyTo</span><span class="token front-matter-block front-matter yaml language-yaml punctuation" style="color:#393A34">:</span><span class="token front-matter-block front-matter yaml language-yaml"> </span><span class="token front-matter-block front-matter yaml language-yaml string" style="color:#e3116c">&quot;**/*.py&quot;</span><span class="token front-matter-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token front-matter-block"></span><span class="token front-matter-block punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token title important punctuation" style="color:#393A34">#</span><span class="token title important"> Python 项目编码标准</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 遵循 Python 的 PEP 8 风格指南。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 始终优先考虑可读性和清晰度。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 为每个函数编写清晰简洁的注释。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 确保函数具有描述性名称并包含类型提示。</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token list punctuation" style="color:#393A34">-</span><span class="token plain"> 保持适当的缩进（每一级缩进使用 4 个空格）。</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="创建指令文件">[创建指令文件]<a href="#创建指令文件" class="hash-link" aria-label="Direct link to [创建指令文件]" title="Direct link to [创建指令文件]" translate="no">​</a></h3>
<p>创建指令文件时，请选择是将其存储在工作区还是用户配置文件中。工作区指令文件仅应用于该工作区，而用户指令文件可在多个工作区中使用。</p>
<p>要创建指令文件：</p>
<ol>
<li class="">在聊天视图中，选择 <strong>Configure Chat</strong> (齿轮图标) &gt; <strong>Chat Instructions</strong>，然后选择 <strong>New instruction file</strong>。
或者，从命令面板 (⇧⌘P (Windows, Linux Ctrl+Shift+P)) 使用 <strong>Chat: New Instructions File</strong> 命令。</li>
<li class="">选择创建指令文件的位置。<!-- -->
<ul>
<li class=""><strong>工作区</strong>：在工作区的 <code>.github/instructions</code> 文件夹中创建指令文件，仅在该工作区内使用。通过 <code>chat.instructionsFilesLocations</code> 设置为您的工作区添加更多指令文件夹。</li>
<li class=""><strong>用户配置文件</strong>：在当前配置文件文件夹中创建指令文件，以便在所有工作区中使用。</li>
</ul>
</li>
<li class="">输入指令文件的文件名。这是 UI 中使用的默认名称。</li>
<li class="">使用 Markdown 格式编写自定义指令。<!-- -->
<ul>
<li class="">在文件顶部填写 YAML frontmatter，以配置指令的描述、名称和应用时间。</li>
<li class="">在文件正文中添加指令。</li>
</ul>
</li>
</ol>
<p>要修改现有的指令文件，在聊天视图中，选择 <strong>Configure Chat</strong> (齿轮图标) &gt; <strong>Chat Instructions</strong>，然后从列表中选择一个指令文件。或者，从命令面板使用 <strong>Chat: Configure Instructions</strong> 命令，并从快速选择中选择指令文件。</p>
<h2 class="anchor anchorTargetStickyNavbar_aDle" id="使用-agentsmd-文件">[使用 <code>AGENTS.md</code> 文件]<a href="#使用-agentsmd-文件" class="hash-link" aria-label="Direct link to 使用-agentsmd-文件" title="Direct link to 使用-agentsmd-文件" translate="no">​</a></h2>
<p>如果您在工作区中使用多个 AI 代理，可以在工作区根目录下的 <code>AGENTS.md</code> Markdown 文件中为所有代理定义自定义指令。VS Code 会自动将此文件中的指令应用于该工作区内的所有聊天请求。</p>
<p>要启用或禁用对 <code>AGENTS.md</code> 文件的支持，请配置 <code>chat.useAgentsMdFile</code> 设置。</p>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="使用多个-agentsmd-文件-实验性">[使用多个 <code>AGENTS.md</code> 文件 (实验性)]<a href="#使用多个-agentsmd-文件-实验性" class="hash-link" aria-label="Direct link to 使用多个-agentsmd-文件-实验性" title="Direct link to 使用多个-agentsmd-文件-实验性" translate="no">​</a></h3>
<p>如果希望将不同的指令应用于项目的不同部分，在子文件夹中使用多个 <code>AGENTS.md</code> 文件非常有用。例如，您可以为前端代码使用一个 <code>AGENTS.md</code> 文件，为后端代码使用另一个。</p>
<p>使用实验性的 <code>chat.useNestedAgentsMdFiles</code> 设置来启用或禁用对工作区中嵌套 <code>AGENTS.md</code> 文件的支持。</p>
<p>启用后，VS Code 会递归搜索工作区所有子文件夹中的 <code>AGENTS.md</code> 文件，并将其相对路径添加到聊天上下文中。代理可以根据正在编辑的文件决定使用哪些指令。</p>
<blockquote>
<p><strong>提示</strong>：对于特定于文件夹的指令，您也可以使用多个具有不同 <code>applyTo</code> 模式（匹配文件夹结构）的 <code>.instructions.md</code> 文件。</p>
</blockquote>
<h2 class="anchor anchorTargetStickyNavbar_aDle" id="在设置中指定自定义指令">[在设置中指定自定义指令]<a href="#在设置中指定自定义指令" class="hash-link" aria-label="Direct link to [在设置中指定自定义指令]" title="Direct link to [在设置中指定自定义指令]" translate="no">​</a></h2>
<p>您可以使用 VS Code 用户或工作区设置，为特定场景配置自定义指令。</p>
<table><thead><tr><th>指令类型</th><th>设置名称</th></tr></thead><tbody><tr><td>代码审查</td><td><code>github.copilot.chat.reviewSelection.instructions</code></td></tr><tr><td>提交信息生成</td><td><code>github.copilot.chat.commitMessageGeneration.instructions</code></td></tr><tr><td>Pull Request 标题和描述生成</td><td><code>github.copilot.chat.pullRequestDescriptionGeneration.instructions</code></td></tr><tr><td>代码生成 (已弃用)*</td><td><code>github.copilot.chat.codeGeneration.instructions</code></td></tr><tr><td>测试生成 (已弃用)*</td><td><code>github.copilot.chat.testGeneration.instructions</code></td></tr></tbody></table>
<p><em>* <code>codeGeneration</code> 和 <code>testGeneration</code> 设置在 VS Code 1.102 中已弃用。建议改用指令文件 (<code>.github/copilot-instructions.md</code> 或 <code>*.instructions.md</code>)。</em></p>
<p>您可以在设置值中将自定义指令定义为文本（<code>text</code> 属性），或引用工作区中的外部文件（<code>file</code> 属性）。</p>
<p>以下代码片段展示了如何在 <code>settings.json</code> 文件中定义一组指令。</p>
<div class="language-json codeBlockContainer_FVab theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_oMSL"><pre tabindex="0" class="prism-code language-json codeBlock_MTmK thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_KEkQ"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;github.copilot.chat.pullRequestDescriptionGeneration.instructions&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;text&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Always include a list of key changes.&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;github.copilot.chat.reviewSelection.instructions&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;file&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;guidance/backend-review-guidelines.md&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token property" style="color:#36acaa">&quot;file&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;guidance/frontend-review-guidelines.md&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_aDle" id="为工作区生成指令文件">[为工作区生成指令文件]<a href="#为工作区生成指令文件" class="hash-link" aria-label="Direct link to [为工作区生成指令文件]" title="Direct link to [为工作区生成指令文件]" translate="no">​</a></h2>
<p>VS Code 可以分析您的工作区，并生成一个匹配的 <code>.github/copilot-instructions.md</code> 文件，其中包含符合您编码实践和项目结构的自定义指令。</p>
<p>要为工作区生成指令文件：</p>
<ol>
<li class="">在聊天视图中，选择 <strong>Configure Chat</strong> (齿轮图标) &gt; <strong>Generate Chat Instructions</strong>。</li>
<li class="">查看生成的指令文件并进行必要的编辑。</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_aDle" id="跨设备同步用户指令文件">[跨设备同步用户指令文件]<a href="#跨设备同步用户指令文件" class="hash-link" aria-label="Direct link to [跨设备同步用户指令文件]" title="Direct link to [跨设备同步用户指令文件]" translate="no">​</a></h2>
<p>VS Code 可以使用设置同步跨多个设备同步您的用户指令文件。</p>
<p>要同步用户指令文件，请为提示和指令文件启用设置同步：</p>
<ol>
<li class="">确保已启用设置同步。</li>
<li class="">从命令面板运行 <strong>Settings Sync: Configure</strong>。</li>
<li class="">从要同步的设置列表中选择 <strong>Prompts and Instructions</strong>。</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_aDle" id="定义自定义指令的技巧">[定义自定义指令的技巧]<a href="#定义自定义指令的技巧" class="hash-link" aria-label="Direct link to [定义自定义指令的技巧]" title="Direct link to [定义自定义指令的技巧]" translate="no">​</a></h2>
<ul>
<li class="">保持指令简短且独立。每条指令应是一个简单的陈述。如果需要提供多条信息，请使用多条指令。</li>
<li class="">对于任务或特定语言的指令，每个主题使用多个 <code>*.instructions.md</code> 文件，并使用 <code>applyTo</code> 属性选择性地应用它们。</li>
<li class="">将特定于项目的指令存储在工作区中，以便与其他团队成员共享并将其包含在版本控制中。</li>
<li class="">在提示文件和自定义代理中重用和引用指令文件，以保持它们的整洁和专注，并避免重复指令。</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_aDle" id="常见问题">[常见问题]<a href="#常见问题" class="hash-link" aria-label="Direct link to [常见问题]" title="Direct link to [常见问题]" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="为什么我的指令文件没有被应用">[为什么我的指令文件没有被应用？]<a href="#为什么我的指令文件没有被应用" class="hash-link" aria-label="Direct link to [为什么我的指令文件没有被应用？]" title="Direct link to [为什么我的指令文件没有被应用？]" translate="no">​</a></h3>
<p>如果您的指令文件没有被应用，请检查以下内容：</p>
<ol>
<li class="">验证指令文件的位置是否正确：<!-- -->
<ul>
<li class="">对于 <code>.github/copilot-instructions.md</code> 文件，必须位于工作区根目录的 <code>.github</code> 文件夹中，并且必须启用 <code>github.copilot.chat.codeGeneration.useInstructionFiles</code> 设置。</li>
<li class="">对于 <code>*.instructions.md</code> 文件，必须位于 <code>chat.instructionsFilesLocations</code> 设置指定的文件夹之一（默认文件夹：<code>.github/instructions</code>）或用户配置文件中。</li>
<li class="">对于 <code>AGENTS.md</code> 文件，确保启用了 <code>chat.useAgentsMdFile</code> 设置，并且文件位于工作区根目录；如果启用了 <code>chat.useNestedAgentsMdFiles</code>，则位于工作区的子文件夹中。</li>
<li class="">对于 <code>SKILLS.md</code> 文件，确保启用了 <code>chat.useAgentSkills</code> 设置，并且技能文件位于 <code>~/.claude/skills/*/</code> 或工作区根目录的 <code>.claude/skills/</code> 文件夹中。</li>
</ul>
</li>
<li class="">对于 <code>*.instructions.md</code> 文件，检查 <code>applyTo</code> glob 模式是否与您正在处理的文件匹配。如果未指定 <code>applyTo</code> 属性，指令文件不会自动应用。检查聊天回复中的 <code>References</code> 部分，查看您的请求使用了哪些指令文件。</li>
<li class="">验证聊天日志，查看哪些指令文件包含在聊天请求中或被代理加载：<!-- -->
<ul>
<li class="">使用 Chat Debug 视图检查语言模型请求。</li>
<li class="">调试 <code>applyTo</code> 匹配逻辑。</li>
</ul>
</li>
</ol>
<p>如果您的指令未包含在聊天请求中，请在 vscode 仓库中创建 issue，并分享请求日志和您的指令文件以便我们复现。</p>
<p>如果 LLM 没有请求您的按需指令，请尝试完善指令。您也可以尝试通过告诉 LLM 不要忘记使用特定指令来引导它。旧模型可能在利用按需指令方面更困难，需要更多指导。</p>
<h3 class="anchor anchorTargetStickyNavbar_aDle" id="我如何知道自定义指令文件来自哪里">[我如何知道自定义指令文件来自哪里？]<a href="#我如何知道自定义指令文件来自哪里" class="hash-link" aria-label="Direct link to [我如何知道自定义指令文件来自哪里？]" title="Direct link to [我如何知道自定义指令文件来自哪里？]" translate="no">​</a></h3>
<p>自定义指令文件可以来自不同的来源：内置、在配置文件中定义的用户自定义、当前工作区中定义的工作区指令，或扩展贡献的指令。</p>
<p>要识别自定义指令文件的来源：</p>
<ol>
<li class="">从命令面板选择 <strong>Chat: Configure Instructions</strong>。</li>
<li class="">将鼠标悬停在列表中的指令文件上。源位置显示在工具提示中。</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_iDCr"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Tools/VS Code Copilot/自定义指令.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_c0mv" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mxtt"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/notes3/docs/Tools/Unity/编辑器扩展"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">编辑器扩展</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/notes3/docs/Tools/figma/Figma原型交互"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Figma原型交互</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_r83r thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#指令文件的类型" class="table-of-contents__link toc-highlight">[指令文件的类型]</a></li><li><a href="#自定义指令示例" class="table-of-contents__link toc-highlight">[自定义指令示例]</a><ul><li><a href="#示例通用编码准则" class="table-of-contents__link toc-highlight">示例：通用编码准则</a></li><li><a href="#示例特定语言的编码准则" class="table-of-contents__link toc-highlight">示例：特定语言的编码准则</a></li><li><a href="#示例文档编写准则" class="table-of-contents__link toc-highlight">示例：文档编写准则</a></li></ul></li><li><a href="#使用-githubcopilot-instructionsmd-文件" class="table-of-contents__link toc-highlight">[使用 <code>.github/copilot-instructions.md</code> 文件]</a></li><li><a href="#使用-instructionsmd-文件" class="table-of-contents__link toc-highlight">[使用 <code>.instructions.md</code> 文件]</a><ul><li><a href="#指令文件格式" class="table-of-contents__link toc-highlight">[指令文件格式]</a></li><li><a href="#创建指令文件" class="table-of-contents__link toc-highlight">[创建指令文件]</a></li></ul></li><li><a href="#使用-agentsmd-文件" class="table-of-contents__link toc-highlight">[使用 <code>AGENTS.md</code> 文件]</a><ul><li><a href="#使用多个-agentsmd-文件-实验性" class="table-of-contents__link toc-highlight">[使用多个 <code>AGENTS.md</code> 文件 (实验性)]</a></li></ul></li><li><a href="#在设置中指定自定义指令" class="table-of-contents__link toc-highlight">[在设置中指定自定义指令]</a></li><li><a href="#为工作区生成指令文件" class="table-of-contents__link toc-highlight">[为工作区生成指令文件]</a></li><li><a href="#跨设备同步用户指令文件" class="table-of-contents__link toc-highlight">[跨设备同步用户指令文件]</a></li><li><a href="#定义自定义指令的技巧" class="table-of-contents__link toc-highlight">[定义自定义指令的技巧]</a></li><li><a href="#常见问题" class="table-of-contents__link toc-highlight">[常见问题]</a><ul><li><a href="#为什么我的指令文件没有被应用" class="table-of-contents__link toc-highlight">[为什么我的指令文件没有被应用？]</a></li><li><a href="#我如何知道自定义指令文件来自哪里" class="table-of-contents__link toc-highlight">[我如何知道自定义指令文件来自哪里？]</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_rhIP"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_rhIP"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_rhIP"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/notes3/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_rhIP"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>