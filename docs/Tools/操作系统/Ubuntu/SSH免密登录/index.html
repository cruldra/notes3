<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Tools/操作系统/Ubuntu/SSH免密登录" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">SSH免密登录 | Cruldra</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-site.example.com/notes3/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-site.example.com/notes3/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-site.example.com/notes3/docs/Tools/操作系统/Ubuntu/SSH免密登录"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="SSH免密登录 | Cruldra"><meta data-rh="true" name="description" content="SSH免密登录(SSH Passwordless Login)是一种基于公钥密码学的认证方式，它使用非对称加密算法让用户无需输入密码即可安全登录远程服务器。这种方式不仅提高了操作效率，还增强了安全性。"><meta data-rh="true" property="og:description" content="SSH免密登录(SSH Passwordless Login)是一种基于公钥密码学的认证方式，它使用非对称加密算法让用户无需输入密码即可安全登录远程服务器。这种方式不仅提高了操作效率，还增强了安全性。"><link data-rh="true" rel="icon" href="/notes3/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-site.example.com/notes3/docs/Tools/操作系统/Ubuntu/SSH免密登录"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/notes3/docs/Tools/操作系统/Ubuntu/SSH免密登录" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/notes3/docs/Tools/操作系统/Ubuntu/SSH免密登录" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"操作系统","item":"https://your-docusaurus-site.example.com/notes3/docs/category/操作系统"},{"@type":"ListItem","position":2,"name":"Ubuntu","item":"https://your-docusaurus-site.example.com/notes3/docs/category/ubuntu"},{"@type":"ListItem","position":3,"name":"SSH免密登录","item":"https://your-docusaurus-site.example.com/notes3/docs/Tools/操作系统/Ubuntu/SSH免密登录"}]}</script><link rel="alternate" type="application/rss+xml" href="/notes3/blog/rss.xml" title="Cruldra RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/notes3/blog/atom.xml" title="Cruldra Atom Feed"><link rel="stylesheet" href="/notes3/assets/css/styles.da241bce.css">
<script src="/notes3/assets/js/runtime~main.983dbf1a.js" defer="defer"></script>
<script src="/notes3/assets/js/main.50610574.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),document.documentElement.setAttribute("data-theme-choice","system"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/notes3/img/logo.svg"><style data-mantine-styles="classes">@media (max-width: 35.99375em) {.mantine-visible-from-xs {display: none !important;}}@media (min-width: 36em) {.mantine-hidden-from-xs {display: none !important;}}@media (max-width: 47.99375em) {.mantine-visible-from-sm {display: none !important;}}@media (min-width: 48em) {.mantine-hidden-from-sm {display: none !important;}}@media (max-width: 61.99375em) {.mantine-visible-from-md {display: none !important;}}@media (min-width: 62em) {.mantine-hidden-from-md {display: none !important;}}@media (max-width: 74.99375em) {.mantine-visible-from-lg {display: none !important;}}@media (min-width: 75em) {.mantine-hidden-from-lg {display: none !important;}}@media (max-width: 87.99375em) {.mantine-visible-from-xl {display: none !important;}}@media (min-width: 88em) {.mantine-hidden-from-xl {display: none !important;}}</style><div role="region" aria-label="Skip to main content"><a class="skipToContent_HuOE" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/notes3/"><div class="navbar__logo"><img src="/notes3/img/logo.svg" alt="My Site Logo" class="themedComponent_E0TY themedComponent--light_oQTo"><img src="/notes3/img/logo.svg" alt="My Site Logo" class="themedComponent_E0TY themedComponent--dark_xnBK"></div><b class="navbar__title text--truncate">Cruldra</b></a><a class="navbar__item navbar__link" href="/notes3/docs/category/设计模式">JVM</a><a class="navbar__item navbar__link" href="/notes3/docs/category/css">前端</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/notes3/docs/category/astrbot">工具</a><a class="navbar__item navbar__link" href="/notes3/docs/category/ai电竞酒店">个人</a><a class="navbar__item navbar__link" href="/notes3/docs/AI/Agno/介绍">AI</a><a class="navbar__item navbar__link" href="/notes3/docs/category/内置模块">Python</a><a class="navbar__item navbar__link" href="/notes3/docs/category/actix-web">Rust</a><a class="navbar__item navbar__link" href="/notes3/docs/category/数据库系统">软件工程</a><a class="navbar__item navbar__link" href="/notes3/docs/category/上古卷轴5">游戏</a><a class="navbar__item navbar__link" href="/notes3/docs/Go/Go语言常用语法">Go</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_lmNG"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_ec9K"><div class="docsWrapper_T_Kj"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_U0vv" type="button"></button><div class="docRoot_n2jZ"><aside class="theme-doc-sidebar-container docSidebarContainer_BcoR"><div class="sidebarViewport_Cc21"><div class="sidebar_OHx_"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_n4En"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_smok menu__link menu__link--sublist" href="/notes3/docs/category/astrbot"><span title="AstrBot" class="categoryLinkLabel_X2zX">AstrBot</span></a><button aria-label="Expand sidebar category &#x27;AstrBot&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_smok menu__link menu__link--sublist" href="/notes3/docs/category/dify"><span title="Dify" class="categoryLinkLabel_X2zX">Dify</span></a><button aria-label="Expand sidebar category &#x27;Dify&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Tools/OpenAI"><span title="OpenAI" class="linkLabel_j3lx">OpenAI</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_smok menu__link menu__link--sublist" href="/notes3/docs/category/rpa"><span title="RPA" class="categoryLinkLabel_X2zX">RPA</span></a><button aria-label="Expand sidebar category &#x27;RPA&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_smok menu__link menu__link--sublist" href="/notes3/docs/category/内网穿透"><span title="内网穿透" class="categoryLinkLabel_X2zX">内网穿透</span></a><button aria-label="Expand sidebar category &#x27;内网穿透&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_smok menu__link menu__link--sublist menu__link--active" href="/notes3/docs/category/操作系统"><span title="操作系统" class="categoryLinkLabel_X2zX">操作系统</span></a><button aria-label="Collapse sidebar category &#x27;操作系统&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_smok menu__link menu__link--sublist menu__link--active" tabindex="0" href="/notes3/docs/category/ubuntu"><span title="Ubuntu" class="categoryLinkLabel_X2zX">Ubuntu</span></a><button aria-label="Collapse sidebar category &#x27;Ubuntu&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Tools/操作系统/Ubuntu/Fishshell"><span title="Fishshell" class="linkLabel_j3lx">Fishshell</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/notes3/docs/Tools/操作系统/Ubuntu/SSH免密登录"><span title="SSH免密登录" class="linkLabel_j3lx">SSH免密登录</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Tools/操作系统/Ubuntu/apt"><span title="apt" class="linkLabel_j3lx">apt</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Tools/操作系统/Ubuntu/使用公钥登录"><span title="使用公钥登录" class="linkLabel_j3lx">使用公钥登录</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Tools/操作系统/Ubuntu/内存管理"><span title="内存管理" class="linkLabel_j3lx">内存管理</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Tools/操作系统/Ubuntu/字体管理"><span title="Ubuntu 字体管理及中文字体安装" class="linkLabel_j3lx">Ubuntu 字体管理及中文字体安装</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_smok menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/notes3/docs/Tools/操作系统/Ubuntu/桌面版/Chrome"><span title="桌面版" class="categoryLinkLabel_X2zX">桌面版</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Tools/操作系统/Ubuntu/网络管理"><span title="网络管理" class="linkLabel_j3lx">网络管理</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Tools/操作系统/Ubuntu/账户认证"><span title="账户认证" class="linkLabel_j3lx">账户认证</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_smok menu__link menu__link--sublist" tabindex="0" href="/notes3/docs/category/windows"><span title="Windows" class="categoryLinkLabel_X2zX">Windows</span></a><button aria-label="Expand sidebar category &#x27;Windows&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/notes3/docs/Tools/操作系统/SSH免密登录"><span title="SSH免密登录" class="linkLabel_j3lx">SSH免密登录</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_smok menu__link menu__link--sublist" href="/notes3/docs/category/数据库"><span title="数据库" class="categoryLinkLabel_X2zX">数据库</span></a><button aria-label="Expand sidebar category &#x27;数据库&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_smok menu__link menu__link--sublist" href="/notes3/docs/category/版本控制"><span title="版本控制" class="categoryLinkLabel_X2zX">版本控制</span></a><button aria-label="Expand sidebar category &#x27;版本控制&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_smok menu__link menu__link--sublist" href="/notes3/docs/category/编程"><span title="编程" class="categoryLinkLabel_X2zX">编程</span></a><button aria-label="Expand sidebar category &#x27;编程&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_smok menu__link menu__link--sublist" href="/notes3/docs/category/虚拟化和容器"><span title="虚拟化和容器" class="categoryLinkLabel_X2zX">虚拟化和容器</span></a><button aria-label="Expand sidebar category &#x27;虚拟化和容器&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_smok menu__link menu__link--sublist" href="/notes3/docs/category/证书"><span title="证书" class="categoryLinkLabel_X2zX">证书</span></a><button aria-label="Expand sidebar category &#x27;证书&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_smok menu__link menu__link--sublist" href="/notes3/docs/category/集成开发环境"><span title="集成开发环境" class="categoryLinkLabel_X2zX">集成开发环境</span></a><button aria-label="Expand sidebar category &#x27;集成开发环境&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_smok menu__link menu__link--sublist" href="/notes3/docs/category/音视频"><span title="音视频" class="categoryLinkLabel_X2zX">音视频</span></a><button aria-label="Expand sidebar category &#x27;音视频&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_smok menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Tools/Comfyui/AI模型文件分发策略差异分析"><span title="Comfyui" class="categoryLinkLabel_X2zX">Comfyui</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Tools/Docusaurus"><span title="Docusaurus" class="linkLabel_j3lx">Docusaurus</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_smok menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Tools/Gitea/TEAM"><span title="Gitea" class="categoryLinkLabel_X2zX">Gitea</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_smok menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Tools/Github/高级搜索语法"><span title="Github" class="categoryLinkLabel_X2zX">Github</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Tools/Jenkins"><span title="Jenkins" class="linkLabel_j3lx">Jenkins</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Tools/Ollama"><span title="Ollama" class="linkLabel_j3lx">Ollama</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_smok menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Tools/figma/Figma原型交互"><span title="figma" class="categoryLinkLabel_X2zX">figma</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_vrpX"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_WIWH"><div class="docItemContainer_zhTd"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_kL0w" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/notes3/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_y6sH"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/notes3/docs/category/操作系统"><span>操作系统</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/notes3/docs/category/ubuntu"><span>Ubuntu</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">SSH免密登录</span></li></ul></nav><div class="tocCollapsible_sNig theme-doc-toc-mobile tocMobile_AD9K"><button type="button" class="clean-btn tocCollapsibleButton_dkdr">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>SSH免密登录</h1></header><p>SSH免密登录(SSH Passwordless Login)是一种基于公钥密码学的认证方式，它使用非对称加密算法让用户无需输入密码即可安全登录远程服务器。这种方式不仅提高了操作效率，还增强了安全性。</p>
<h2 class="anchor anchorWithStickyNavbar_qHQm" id="工作原理">工作原理<a href="#工作原理" class="hash-link" aria-label="Direct link to 工作原理" title="Direct link to 工作原理" translate="no">​</a></h2>
<p>SSH免密登录基于<strong>公钥-私钥对</strong>的非对称加密原理：</p>
<ul>
<li><strong>私钥</strong> - 保存在客户端，用于身份认证，需要严格保密</li>
<li><strong>公钥</strong> - 可以公开，保存在服务端的授权密钥文件中</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_qHQm" id="认证流程">认证流程<a href="#认证流程" class="hash-link" aria-label="Direct link to 认证流程" title="Direct link to 认证流程" translate="no">​</a></h3>
<p><img decoding="async" loading="lazy" src="https://github.com/cruldra/picx-images-hosting/raw/master/image.1e8ua9fsfi.webp" alt="image" class="img_XBXe"></p>
<h2 class="anchor anchorWithStickyNavbar_qHQm" id="具体实现步骤">具体实现步骤<a href="#具体实现步骤" class="hash-link" aria-label="Direct link to 具体实现步骤" title="Direct link to 具体实现步骤" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_qHQm" id="步骤1-生成ssh密钥对">步骤1: 生成SSH密钥对<a href="#步骤1-生成ssh密钥对" class="hash-link" aria-label="Direct link to 步骤1: 生成SSH密钥对" title="Direct link to 步骤1: 生成SSH密钥对" translate="no">​</a></h3>
<p>在客户端机器上生成公钥-私钥对：</p>
<div class="language-bash codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-bash codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain"># 生成RSA密钥对（推荐4096位）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ssh-keygen -t rsa -b 4096 -C &quot;your_email@example.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 或者生成Ed25519密钥对（更现代，更安全）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ssh-keygen -t ed25519 -C &quot;your_email@example.com&quot;</span><br></span></code></pre></div></div>
<p><strong>参数说明：</strong></p>
<ul>
<li><code>-t rsa</code>: 指定密钥类型为RSA</li>
<li><code>-b 4096</code>: 设置密钥长度为4096位（更安全）</li>
<li><code>-t ed25519</code>: 使用Ed25519算法（性能更好，安全性更高）</li>
<li><code>-C</code>: 添加注释，通常使用邮箱地址</li>
</ul>
<p>执行后会提示：</p>
<div class="language-text codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-text codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain">Generating public/private rsa key pair.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Enter file in which to save the key (/home/user/.ssh/id_rsa): [按回车使用默认路径]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Enter passphrase (empty for no passphrase): [可选：设置私钥密码短语]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Enter same passphrase again: [确认密码短语]</span><br></span></code></pre></div></div>
<p>生成的文件：</p>
<ul>
<li><code>~/.ssh/id_rsa</code> - 私钥文件（需要严格保密）</li>
<li><code>~/.ssh/id_rsa.pub</code> - 公钥文件（可以公开）</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_qHQm" id="步骤2-复制公钥到目标服务器">步骤2: 复制公钥到目标服务器<a href="#步骤2-复制公钥到目标服务器" class="hash-link" aria-label="Direct link to 步骤2: 复制公钥到目标服务器" title="Direct link to 步骤2: 复制公钥到目标服务器" translate="no">​</a></h3>
<p>有多种方式将公钥复制到服务端：</p>
<h4 class="anchor anchorWithStickyNavbar_qHQm" id="方式1-使用ssh-copy-id命令推荐">方式1: 使用ssh-copy-id命令（推荐）<a href="#方式1-使用ssh-copy-id命令推荐" class="hash-link" aria-label="Direct link to 方式1: 使用ssh-copy-id命令（推荐）" title="Direct link to 方式1: 使用ssh-copy-id命令（推荐）" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-bash codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain">ssh-copy-id -i ~/.ssh/id_rsa.pub username@remote_host</span><br></span></code></pre></div></div>
<div class="language-powershell codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-powershell codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain">cat ~/.ssh/id_rsa.pub | ssh root@45.249.244.101 &quot;mkdir -p ~/.ssh &amp;&amp; touch ~/.ssh/authorized_keys &amp;&amp; chmod 700 ~/.ssh &amp;&amp; chmod 600 ~/.ssh/authorized_keys &amp;&amp; cat &gt;&gt; ~/.ssh/authorized_keys&quot;</span><br></span></code></pre></div></div>
<p>这个命令会：</p>
<ol>
<li>自动将公钥内容追加到远程主机的<code>~/.ssh/authorized_keys</code>文件</li>
<li>设置适当的文件权限</li>
<li>创建必要的目录结构</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_qHQm" id="方式2-手动复制">方式2: 手动复制<a href="#方式2-手动复制" class="hash-link" aria-label="Direct link to 方式2: 手动复制" title="Direct link to 方式2: 手动复制" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-bash codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain"># 查看公钥内容</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat ~/.ssh/id_rsa.pub</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 登录到远程服务器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ssh username@remote_host</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 在远程服务器上创建.ssh目录（如果不存在）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p ~/.ssh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 将公钥内容追加到authorized_keys文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">echo &quot;公钥内容&quot; &gt;&gt; ~/.ssh/authorized_keys</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 设置正确的权限</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod 700 ~/.ssh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod 600 ~/.ssh/authorized_keys</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_qHQm" id="方式3-使用scp命令">方式3: 使用scp命令<a href="#方式3-使用scp命令" class="hash-link" aria-label="Direct link to 方式3: 使用scp命令" title="Direct link to 方式3: 使用scp命令" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-bash codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain"># 复制公钥到远程主机</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scp ~/.ssh/id_rsa.pub username@remote_host:~/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 登录到远程主机</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ssh username@remote_host</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 追加公钥到authorized_keys</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cat ~/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rm ~/id_rsa.pub</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 设置权限</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod 700 ~/.ssh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod 600 ~/.ssh/authorized_keys</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_qHQm" id="步骤3-配置ssh服务端可选">步骤3: 配置SSH服务端（可选）<a href="#步骤3-配置ssh服务端可选" class="hash-link" aria-label="Direct link to 步骤3: 配置SSH服务端（可选）" title="Direct link to 步骤3: 配置SSH服务端（可选）" translate="no">​</a></h3>
<p>编辑SSH服务端配置文件<code>/etc/ssh/sshd_config</code>：</p>
<div class="language-bash codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-bash codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain">sudo vim /etc/ssh/sshd_config</span><br></span></code></pre></div></div>
<p>确保以下配置项：</p>
<div class="language-ini codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-ini codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain"># 启用公钥认证</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PubkeyAuthentication yes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 指定授权密钥文件位置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AuthorizedKeysFile .ssh/authorized_keys</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 可选：禁用密码认证（提高安全性）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PasswordAuthentication no</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 可选：禁用root密码登录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PermitRootLogin prohibit-password</span><br></span></code></pre></div></div>
<p>重启SSH服务：</p>
<div class="language-bash codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-bash codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain">sudo systemctl restart sshd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 或者</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo service ssh restart</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_qHQm" id="步骤4-测试免密登录">步骤4: 测试免密登录<a href="#步骤4-测试免密登录" class="hash-link" aria-label="Direct link to 步骤4: 测试免密登录" title="Direct link to 步骤4: 测试免密登录" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-bash codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain">ssh username@remote_host</span><br></span></code></pre></div></div>
<p>如果配置成功，应该能够无需输入密码直接登录。</p>
<h2 class="anchor anchorWithStickyNavbar_qHQm" id="权限配置要求">权限配置要求<a href="#权限配置要求" class="hash-link" aria-label="Direct link to 权限配置要求" title="Direct link to 权限配置要求" translate="no">​</a></h2>
<p>SSH对文件权限要求严格，权限不当会导致免密登录失败：</p>
<h3 class="anchor anchorWithStickyNavbar_qHQm" id="客户端权限设置">客户端权限设置<a href="#客户端权限设置" class="hash-link" aria-label="Direct link to 客户端权限设置" title="Direct link to 客户端权限设置" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-bash codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain">chmod 700 ~/.ssh                    # SSH目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod 600 ~/.ssh/id_rsa             # 私钥文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod 644 ~/.ssh/id_rsa.pub         # 公钥文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod 600 ~/.ssh/config             # SSH配置文件（如果有）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod 644 ~/.ssh/known_hosts        # 已知主机文件（如果有）</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_qHQm" id="服务端权限设置">服务端权限设置<a href="#服务端权限设置" class="hash-link" aria-label="Direct link to 服务端权限设置" title="Direct link to 服务端权限设置" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-bash codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain">chmod 700 ~/.ssh                    # SSH目录</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod 600 ~/.ssh/authorized_keys    # 授权密钥文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chown $USER:$USER ~/.ssh/authorized_keys  # 确保文件所有者正确</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_qHQm" id="适用场景">适用场景<a href="#适用场景" class="hash-link" aria-label="Direct link to 适用场景" title="Direct link to 适用场景" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_qHQm" id="1-自动化脚本和cicd">1. 自动化脚本和CI/CD<a href="#1-自动化脚本和cicd" class="hash-link" aria-label="Direct link to 1. 自动化脚本和CI/CD" title="Direct link to 1. 自动化脚本和CI/CD" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-bash codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain"># 自动化部署脚本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#!/bin/bash</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ssh deploy@production-server &quot;cd /app &amp;&amp; git pull &amp;&amp; docker-compose restart&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_qHQm" id="2-批量服务器管理">2. 批量服务器管理<a href="#2-批量服务器管理" class="hash-link" aria-label="Direct link to 2. 批量服务器管理" title="Direct link to 2. 批量服务器管理" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-bash codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain"># 批量执行命令</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">for server in server1 server2 server3; do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ssh admin@$server &quot;uptime&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">done</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_qHQm" id="3-安全的文件传输">3. 安全的文件传输<a href="#3-安全的文件传输" class="hash-link" aria-label="Direct link to 3. 安全的文件传输" title="Direct link to 3. 安全的文件传输" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-bash codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain"># 使用scp进行文件传输</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scp file.txt user@remote:/path/to/destination/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 使用rsync进行同步</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rsync -avz --progress local_dir/ user@remote:/remote_dir/</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_qHQm" id="4-跳板机访问">4. 跳板机访问<a href="#4-跳板机访问" class="hash-link" aria-label="Direct link to 4. 跳板机访问" title="Direct link to 4. 跳板机访问" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-bash codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain"># SSH配置文件 ~/.ssh/config</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Host production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HostName production-server.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    User deploy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ProxyJump bastion-host</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    IdentityFile ~/.ssh/id_rsa</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_qHQm" id="5-git仓库访问">5. Git仓库访问<a href="#5-git仓库访问" class="hash-link" aria-label="Direct link to 5. Git仓库访问" title="Direct link to 5. Git仓库访问" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-bash codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain"># 克隆私有仓库</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">git clone git@github.com:username/private-repo.git</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_qHQm" id="安全最佳实践">安全最佳实践<a href="#安全最佳实践" class="hash-link" aria-label="Direct link to 安全最佳实践" title="Direct link to 安全最佳实践" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_qHQm" id="1-私钥保护">1. 私钥保护<a href="#1-私钥保护" class="hash-link" aria-label="Direct link to 1. 私钥保护" title="Direct link to 1. 私钥保护" translate="no">​</a></h3>
<ul>
<li><strong>设置密码短语</strong>: 为私钥设置强密码短语</li>
<li><strong>限制访问</strong>: 确保私钥文件权限为600</li>
<li><strong>备份</strong>: 安全备份私钥文件</li>
<li><strong>定期轮换</strong>: 定期更换密钥对</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_qHQm" id="2-服务端配置">2. 服务端配置<a href="#2-服务端配置" class="hash-link" aria-label="Direct link to 2. 服务端配置" title="Direct link to 2. 服务端配置" translate="no">​</a></h3>
<div class="language-ini codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-ini codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain"># /etc/ssh/sshd_config 安全配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Protocol 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PermitRootLogin no</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PasswordAuthentication no</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PermitEmptyPasswords no</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MaxAuthTries 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ClientAliveInterval 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ClientAliveCountMax 2</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_qHQm" id="3-网络安全">3. 网络安全<a href="#3-网络安全" class="hash-link" aria-label="Direct link to 3. 网络安全" title="Direct link to 3. 网络安全" translate="no">​</a></h3>
<ul>
<li><strong>防火墙</strong>: 限制SSH端口访问</li>
<li><strong>端口修改</strong>: 修改默认SSH端口（22）</li>
<li><strong>fail2ban</strong>: 使用fail2ban防止暴力破解</li>
</ul>
<div class="language-bash codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-bash codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain"># 修改SSH端口</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Port 2222</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 限制访问IP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AllowUsers user@192.168.1.0/24</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_qHQm" id="4-监控和审计">4. 监控和审计<a href="#4-监控和审计" class="hash-link" aria-label="Direct link to 4. 监控和审计" title="Direct link to 4. 监控和审计" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-bash codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain"># 查看SSH登录日志</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo tail -f /var/log/auth.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 查看当前SSH连接</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">who</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">w</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_qHQm" id="故障排除">故障排除<a href="#故障排除" class="hash-link" aria-label="Direct link to 故障排除" title="Direct link to 故障排除" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_qHQm" id="常见问题及解决方案">常见问题及解决方案<a href="#常见问题及解决方案" class="hash-link" aria-label="Direct link to 常见问题及解决方案" title="Direct link to 常见问题及解决方案" translate="no">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_qHQm" id="1-权限问题">1. 权限问题<a href="#1-权限问题" class="hash-link" aria-label="Direct link to 1. 权限问题" title="Direct link to 1. 权限问题" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-bash codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain"># 检查文件权限</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ls -la ~/.ssh/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 修复权限</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod 700 ~/.ssh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chmod 600 ~/.ssh/authorized_keys</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_qHQm" id="2-selinux问题centosrhel">2. SELinux问题（CentOS/RHEL）<a href="#2-selinux问题centosrhel" class="hash-link" aria-label="Direct link to 2. SELinux问题（CentOS/RHEL）" title="Direct link to 2. SELinux问题（CentOS/RHEL）" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-bash codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain"># 恢复SELinux上下文</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">restorecon -Rv ~/.ssh/</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_qHQm" id="3-调试连接问题">3. 调试连接问题<a href="#3-调试连接问题" class="hash-link" aria-label="Direct link to 3. 调试连接问题" title="Direct link to 3. 调试连接问题" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-bash codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain"># 详细输出连接过程</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ssh -v username@remote_host</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 更详细的调试信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ssh -vvv username@remote_host</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_qHQm" id="4-服务端日志检查">4. 服务端日志检查<a href="#4-服务端日志检查" class="hash-link" aria-label="Direct link to 4. 服务端日志检查" title="Direct link to 4. 服务端日志检查" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-bash codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain"># Ubuntu/Debian</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo tail -f /var/log/auth.log</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># CentOS/RHEL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo tail -f /var/log/secure</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_qHQm" id="高级配置">高级配置<a href="#高级配置" class="hash-link" aria-label="Direct link to 高级配置" title="Direct link to 高级配置" translate="no">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_qHQm" id="ssh配置文件">SSH配置文件<a href="#ssh配置文件" class="hash-link" aria-label="Direct link to SSH配置文件" title="Direct link to SSH配置文件" translate="no">​</a></h3>
<p>创建<code>~/.ssh/config</code>文件简化连接：</p>
<div class="language-ini codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-ini codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain"># 默认配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Host *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ServerAliveInterval 60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ServerAliveCountMax 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 特定主机配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Host myserver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HostName 192.168.1.100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    User deploy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Port 2222</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    IdentityFile ~/.ssh/id_rsa_myserver</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 跳板机配置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Host production</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    HostName prod.example.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    User app</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ProxyJump bastion.example.com</span><br></span></code></pre></div></div>
<p>使用简化命令连接：</p>
<div class="language-bash codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-bash codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain">ssh myserver  # 等同于 ssh -p 2222 deploy@192.168.1.100</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_qHQm" id="多密钥管理">多密钥管理<a href="#多密钥管理" class="hash-link" aria-label="Direct link to 多密钥管理" title="Direct link to 多密钥管理" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_El0U theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_AwBu"><pre tabindex="0" class="prism-code language-bash codeBlock_D9uD thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_hMzE"><span class="token-line" style="color:#393A34"><span class="token plain"># 为不同用途生成不同密钥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ssh-keygen -t ed25519 -f ~/.ssh/id_ed25519_github -C &quot;github&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ssh-keygen -t ed25519 -f ~/.ssh/id_ed25519_work -C &quot;work&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 在config中指定使用哪个密钥</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Host github.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    IdentityFile ~/.ssh/id_ed25519_github</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Host work-server</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    IdentityFile ~/.ssh/id_ed25519_work</span><br></span></code></pre></div></div>
<p>SSH免密登录是现代运维和开发工作中的基础技能，正确配置和使用能够显著提高工作效率和系统安全性。</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Tools/操作系统/Ubuntu/SSH免密登录.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_HnUL" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_DcQK"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/notes3/docs/Tools/操作系统/Ubuntu/Fishshell"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Fishshell</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/notes3/docs/Tools/操作系统/Ubuntu/apt"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">apt</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_AvJD thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#工作原理" class="table-of-contents__link toc-highlight">工作原理</a><ul><li><a href="#认证流程" class="table-of-contents__link toc-highlight">认证流程</a></li></ul></li><li><a href="#具体实现步骤" class="table-of-contents__link toc-highlight">具体实现步骤</a><ul><li><a href="#步骤1-生成ssh密钥对" class="table-of-contents__link toc-highlight">步骤1: 生成SSH密钥对</a></li><li><a href="#步骤2-复制公钥到目标服务器" class="table-of-contents__link toc-highlight">步骤2: 复制公钥到目标服务器</a></li><li><a href="#步骤3-配置ssh服务端可选" class="table-of-contents__link toc-highlight">步骤3: 配置SSH服务端（可选）</a></li><li><a href="#步骤4-测试免密登录" class="table-of-contents__link toc-highlight">步骤4: 测试免密登录</a></li></ul></li><li><a href="#权限配置要求" class="table-of-contents__link toc-highlight">权限配置要求</a><ul><li><a href="#客户端权限设置" class="table-of-contents__link toc-highlight">客户端权限设置</a></li><li><a href="#服务端权限设置" class="table-of-contents__link toc-highlight">服务端权限设置</a></li></ul></li><li><a href="#适用场景" class="table-of-contents__link toc-highlight">适用场景</a><ul><li><a href="#1-自动化脚本和cicd" class="table-of-contents__link toc-highlight">1. 自动化脚本和CI/CD</a></li><li><a href="#2-批量服务器管理" class="table-of-contents__link toc-highlight">2. 批量服务器管理</a></li><li><a href="#3-安全的文件传输" class="table-of-contents__link toc-highlight">3. 安全的文件传输</a></li><li><a href="#4-跳板机访问" class="table-of-contents__link toc-highlight">4. 跳板机访问</a></li><li><a href="#5-git仓库访问" class="table-of-contents__link toc-highlight">5. Git仓库访问</a></li></ul></li><li><a href="#安全最佳实践" class="table-of-contents__link toc-highlight">安全最佳实践</a><ul><li><a href="#1-私钥保护" class="table-of-contents__link toc-highlight">1. 私钥保护</a></li><li><a href="#2-服务端配置" class="table-of-contents__link toc-highlight">2. 服务端配置</a></li><li><a href="#3-网络安全" class="table-of-contents__link toc-highlight">3. 网络安全</a></li><li><a href="#4-监控和审计" class="table-of-contents__link toc-highlight">4. 监控和审计</a></li></ul></li><li><a href="#故障排除" class="table-of-contents__link toc-highlight">故障排除</a><ul><li><a href="#常见问题及解决方案" class="table-of-contents__link toc-highlight">常见问题及解决方案</a></li></ul></li><li><a href="#高级配置" class="table-of-contents__link toc-highlight">高级配置</a><ul><li><a href="#ssh配置文件" class="table-of-contents__link toc-highlight">SSH配置文件</a></li><li><a href="#多密钥管理" class="table-of-contents__link toc-highlight">多密钥管理</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_YFPC"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_YFPC"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_YFPC"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/notes3/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_YFPC"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>