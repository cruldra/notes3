1. 生成密钥对

    ```bash
    ssh-keygen -t rsa -b 4096 -C "cruldra@gmail.com"
    ```

    ```text
    Generating public/private rsa key pair.
    Enter file in which to save the key (/root/.ssh/id_rsa): 
    /root/.ssh/id_rsa already exists.
    Overwrite (y/n)? y
    Enter passphrase (empty for no passphrase):  # 自动化场景下一般不设置私钥短语，直接按回车
    Enter same passphrase again: 
    Your identification has been saved in /root/.ssh/id_rsa
    Your public key has been saved in /root/.ssh/id_rsa.pub
    The key fingerprint is:
    SHA256:PvFqlPvpAF/cjc5gcs5MlFYGvC4wMiN7T9jA4MnTbNI cruldra@gmail.com
    The key's randomart image is:
    +---[RSA 4096]----+
    |         ...o    |
    |  .       .+     |
    | o B      +.     |
    |  B E o  +.. o   |
    |   * B.oSoB o .  |
    |  . o o++%.+     |
    |   . o .=o= o    |
    |      . o+ .     |
    |       ..o+      |
    +----[SHA256]-----+
    ```

2. 将公钥复制到目标服务器

    ```bash
    ssh-copy-id -i ~/.ssh/id_rsa.pub root@<target-server>
    ```

    ```text
    root@8047d795816e:~/.ssh# ssh-copy-id -i /root/.ssh/id_rsa.pub root@<target-server>
    /usr/bin/ssh-copy-id: INFO: Source of key(s) to be installed: "/root/.ssh/id_rsa.pub"
    The authenticity of host '<target-server> (<target-server>)' can't be established.
    ED25519 key fingerprint is SHA256:yBozP3A0jwlmdzpwQ9a9mNvQh0Rp5OXPqBTfPT7yH2s.
    This key is not known by any other names.
    Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
    /usr/bin/ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed
    /usr/bin/ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys
    root@<target-server>'s password: 

    Number of key(s) added: 1

    Now try logging into the machine, with:   "ssh 'root@<target-server>'"
    and check to make sure that only the key(s) you wanted were added.
    ```

3. 测试

    ```bash
    ssh root@<target-server> #如果不需要输入密码，说明配置成功
    ```
