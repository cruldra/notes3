```ts
interface ConfigBase<Theme extends object = object> {
    /**
     * Rules to generate CSS utilities.
     *
     * Later entries have higher priority.
     */
    rules?: Rule<Theme>[];
    /**
     * Variant separator
     *
     * @default [':', '-']
     */
    separators?: Arrayable<string>;
    /**
     * Variants that preprocess the selectors,
     * having the ability to rewrite the CSS object.
     */
    variants?: Variant<Theme>[];
    /**
     * Similar to Windi CSS's shortcuts,
     * allows you have create new utilities by combining existing ones.
     *
     * Later entries have higher priority.
     */
    shortcuts?: UserShortcuts<Theme>;
    /**
     * Rules to exclude the selectors for your design system (to narrow down the possibilities).
     * Combining `warnExcluded` options it can also help you identify wrong usages.
     */
    blocklist?: BlocklistRule[];
    /**
     * Utilities that always been included
     */
    safelist?: (string | ((context: SafeListContext<Theme>) => Arrayable<string>))[];
    /**
     * Extractors to handle the source file and outputs possible classes/selectors
     * Can be language-aware.
     */
    extractors?: Extractor[];
    /**
     * Default extractor that are always applied.
     * By default it split the source code by whitespace and quotes.
     *
     * It maybe be replaced by preset or user config,
     * only one default extractor can be presented,
     * later one will override the previous one.
     *
     * Pass `null` or `false` to disable the default extractor.
     *
     * @see https://github.com/unocss/unocss/blob/main/packages-engine/core/src/extractors/split.ts
     * @default import('@unocss/core').defaultExtractor
     */
    extractorDefault?: Extractor | null | false;
    /**
     * Raw CSS injections.
     */
    preflights?: Preflight<Theme>[];
    /**
     * Theme object for shared configuration between rules
     */
    theme?: Theme;
    /**
     * Layer orders. Default to 0.
     */
    layers?: Record<string, number>;
    /**
     * Output the internal layers as CSS Cascade Layers.
     */
    outputToCssLayers?: boolean | OutputCssLayersOptions;
    /**
     * Custom function to sort layers.
     */
    sortLayers?: (layers: string[]) => string[];
    /**
     * Preprocess the incoming utilities, return falsy value to exclude
     */
    preprocess?: Arrayable<Preprocessor>;
    /**
     * Postprocess the generate utils object
     */
    postprocess?: Arrayable<Postprocessor>;
    /**
     * Custom functions mutate the theme object.
     *
     * It's also possible to return a new theme object to completely replace the original one.
     */
    extendTheme?: Arrayable<ThemeExtender<Theme>>;
    /**
     * Presets
     */
    presets?: (PresetOrFactoryAwaitable<Theme> | PresetOrFactoryAwaitable<Theme>[])[];
    /**
     * Additional options for auto complete
     */
    autocomplete?: {
        /**
         * Custom functions / templates to provide autocomplete suggestions
         */
        templates?: Arrayable<AutoCompleteFunction | AutoCompleteTemplate>;
        /**
         * Custom extractors to pickup possible classes and
         * transform class-name style suggestions to the correct format
         */
        extractors?: Arrayable<AutoCompleteExtractor>;
        /**
         * Custom shorthands to provide autocomplete suggestions.
         * if values is an array, it will be joined with `|` and wrapped with `()`
         */
        shorthands?: Record<string, string | string[]>;
    };
    /**
     * Hook to modify the resolved config.
     *
     * First presets runs first and the user config
     */
    configResolved?: (config: ResolvedConfig) => void;
    /**
     * Expose internal details for debugging / inspecting
     *
     * Added `rules`, `shortcuts`, `variants` to the context and expose the context object in `StringifiedUtil`
     *
     * You don't usually need to set this.
     *
     * @default `true` when `envMode` is `dev`, otherwise `false`
     */
    details?: boolean;
    /**
     * Options for sources to be extracted as utilities usages.
     *
     */
    content?: ContentOptions;
    /**
     * Custom transformers to the source code.
     */
    transformers?: SourceCodeTransformer[];
}
```


## ğŸ”‘ `rules`

**åº”ç”¨åœºæ™¯**ï¼šè‡ªå®šä¹‰ç”Ÿæˆ CSS çš„è§„åˆ™ï¼Œæ¯”å¦‚æ–°å¢åŠ  `m-1` â†’ `margin: 0.25rem`ã€‚

**ç¤ºä¾‹**ï¼š

```ts
rules: [
  // è‡ªå®šä¹‰ text-shadow å·¥å…·ç±»
  [/^text-shadow-(.+)$/, ([, d]) => ({ 'text-shadow': d })],
]
```

ğŸ‘‰ ä½¿ç”¨ï¼š`class="text-shadow-2px_2px_5px_red"`

---

## ğŸ”‘ `separators`

**åº”ç”¨åœºæ™¯**ï¼šä¿®æ”¹ `variants` ä¸ `utilities` çš„åˆ†éš”ç¬¦ï¼Œé»˜è®¤æ˜¯ `:` å’Œ `-`ã€‚

**ç¤ºä¾‹**ï¼š

```ts
separators: ['__'],
```

ğŸ‘‰ ä½¿ç”¨ï¼š`hover__bg-red-500` ï¼ˆè€Œä¸æ˜¯ `hover:bg-red-500`ï¼‰

---

## ğŸ”‘ `variants`

**åº”ç”¨åœºæ™¯**ï¼šå¤„ç†ä¼ªç±»ã€åª’ä½“æŸ¥è¯¢ç­‰ã€‚

**ç¤ºä¾‹**ï¼š

```ts
variants: [
  // è‡ªå®šä¹‰ dark: å‰ç¼€
  (matcher) => matcher.startsWith('dark:') 
    ? { matcher: matcher.slice(5), selector: s => `.dark ${s}` }
    : matcher,
]
```

ğŸ‘‰ ä½¿ç”¨ï¼š`dark:bg-black`

---

## ğŸ”‘ `shortcuts`

**åº”ç”¨åœºæ™¯**ï¼šè‡ªå®šä¹‰ç»„åˆç±»ï¼ˆç±»ä¼¼ Tailwind çš„ `@apply`ï¼‰ã€‚

**ç¤ºä¾‹**ï¼š

```ts
shortcuts: {
  btn: 'px-4 py-1 rounded bg-blue-500 text-white hover:bg-blue-600',
}
```

ğŸ‘‰ ä½¿ç”¨ï¼š`class="btn"`

---

## ğŸ”‘ `blocklist`

**åº”ç”¨åœºæ™¯**ï¼šç¦æ­¢ä½¿ç”¨æŸäº›ç±»ï¼Œé˜²æ­¢é”™è¯¯æˆ–ä¸ç¬¦åˆè®¾è®¡è§„èŒƒã€‚

**ç¤ºä¾‹**ï¼š

```ts
blocklist: [/^text-(red|green|blue)-/],
```

ğŸ‘‰ ä½¿ç”¨ `text-red-500` ä¼šè¢«å±è”½ã€‚

---

## ğŸ”‘ `safelist`

**åº”ç”¨åœºæ™¯**ï¼šå§‹ç»ˆåŒ…å«æŸäº›ç±»ï¼ˆå³ä½¿æºç é‡Œæ²¡æœ‰ç”¨åˆ°ï¼‰ã€‚

**ç¤ºä¾‹**ï¼š

```ts
safelist: ['bg-red-500', 'text-center'],
```

ğŸ‘‰ æ‰“åŒ…ç»“æœé‡Œä¸€å®šæœ‰è¿™ä¸¤ä¸ªæ ·å¼ã€‚

---

## ğŸ”‘ `extractors`

**åº”ç”¨åœºæ™¯**ï¼šè§£ææºç æå–å¯èƒ½çš„ç±»åï¼Œé€‚åˆç‰¹æ®Šè¯­æ³•ã€‚

**ç¤ºä¾‹**ï¼š

```ts
extractors: [
  {
    name: 'custom',
    extract: (code) => code.match(/my-(\w+)/g) || [],
  },
]
```

ğŸ‘‰ ä¼šæå– `my-btn` è¿™æ ·çš„ç±»ã€‚

---

## ğŸ”‘ `extractorDefault`

**åº”ç”¨åœºæ™¯**ï¼šæ›¿æ¢é»˜è®¤çš„æå–å™¨ï¼ˆé»˜è®¤æ˜¯æŒ‰ç©ºæ ¼æ‹†åˆ†ï¼‰ã€‚

**ç¤ºä¾‹**ï¼š

```ts
extractorDefault: null, // ç¦ç”¨é»˜è®¤æå–å™¨
```

---

## ğŸ”‘ `preflights`

**åº”ç”¨åœºæ™¯**ï¼šå†™å…¨å±€æ ·å¼ï¼Œç±»ä¼¼ reset.cssã€‚

**ç¤ºä¾‹**ï¼š

```ts
preflights: [
  {
    getCSS: () => `
      *, *::before, *::after { box-sizing: border-box; }
    `
  }
]
```

---

## ğŸ”‘ `theme`

**åº”ç”¨åœºæ™¯**ï¼šå®šä¹‰å…¨å±€å˜é‡ï¼Œåœ¨ `rules` æˆ– `shortcuts` ä¸­ä½¿ç”¨ã€‚

**ç¤ºä¾‹**ï¼š

```ts
theme: {
  colors: {
    brand: '#0070f3',
  }
}
```

ğŸ‘‰ ä½¿ç”¨ï¼š`text-brand`

---

## ğŸ”‘ `layers`

**åº”ç”¨åœºæ™¯**ï¼šå®šä¹‰ CSS å±‚çº§é¡ºåºã€‚

**ç¤ºä¾‹**ï¼š

```ts
layers: {
  base: 0,
  components: 1,
  utilities: 2,
}
```

---

## ğŸ”‘ `outputToCssLayers`

**åº”ç”¨åœºæ™¯**ï¼šæ˜¯å¦è¾“å‡ºæˆ **CSS Cascade Layers**ã€‚

**ç¤ºä¾‹**ï¼š

```ts
outputToCssLayers: true,
```

---

## ğŸ”‘ `sortLayers`

**åº”ç”¨åœºæ™¯**ï¼šè‡ªå®šä¹‰æ’åºã€‚

**ç¤ºä¾‹**ï¼š

```ts
sortLayers: (layers) => layers.sort().reverse(),
```

---

## ğŸ”‘ `preprocess`

**åº”ç”¨åœºæ™¯**ï¼šåœ¨ç”Ÿæˆå‰ä¿®æ”¹ç±»åã€‚

**ç¤ºä¾‹**ï¼š

```ts
preprocess: [(matcher) => matcher.replace(/^p-(\d+)$/, 'px-$1 py-$1')],
```

ğŸ‘‰ `p-4` è‡ªåŠ¨è½¬æˆ `px-4 py-4`

---

## ğŸ”‘ `postprocess`

**åº”ç”¨åœºæ™¯**ï¼šç”Ÿæˆåä¿®æ”¹ç»“æœã€‚

**ç¤ºä¾‹**ï¼š

```ts
postprocess: [(util) => { util.entries.push(['border', '1px solid red']) }],
```

---

## ğŸ”‘ `extendTheme`

**åº”ç”¨åœºæ™¯**ï¼šåŠ¨æ€æ‰©å±• `theme`ã€‚

**ç¤ºä¾‹**ï¼š

```ts
extendTheme: (theme) => ({
  colors: {
    ...theme.colors,
    danger: '#ff0000',
  }
})
```

---

## ğŸ”‘ `presets`

**åº”ç”¨åœºæ™¯**ï¼šå¼•å…¥ç°æˆé…ç½®ï¼Œæ¯”å¦‚ `@unocss/preset-wind`ã€‚

**ç¤ºä¾‹**ï¼š

```ts
presets: [
  require('@unocss/preset-wind')(),
]
```

---

## ğŸ”‘ `autocomplete`

**åº”ç”¨åœºæ™¯**ï¼šç¼–è¾‘å™¨è”æƒ³æç¤ºã€‚

**ç¤ºä¾‹**ï¼š

```ts
autocomplete: {
  templates: ['bg-$colors', 'text-$colors'],
}
```

---

## ğŸ”‘ `configResolved`

**åº”ç”¨åœºæ™¯**ï¼šæ‹¿åˆ°æœ€ç»ˆé…ç½®ï¼Œè°ƒè¯•æ—¶æœ‰ç”¨ã€‚

**ç¤ºä¾‹**ï¼š

```ts
configResolved: (config) => {
  console.log('Final config:', config)
}
```

---

## ğŸ”‘ `details`

**åº”ç”¨åœºæ™¯**ï¼šæ˜¯å¦æš´éœ²è°ƒè¯•ä¿¡æ¯ã€‚

**ç¤ºä¾‹**ï¼š

```ts
details: true,
```

---

## ğŸ”‘ `content`

**åº”ç”¨åœºæ™¯**ï¼šæŒ‡å®šæ‰«æçš„æ–‡ä»¶èŒƒå›´ã€‚

**ç¤ºä¾‹**ï¼š

```ts
content: {
  filesystem: ['src/**/*.vue', 'src/**/*.ts'],
}
```

---

## ğŸ”‘ `transformers`

**åº”ç”¨åœºæ™¯**ï¼šå¯¹æºç è¿›è¡Œé¢å¤–å¤„ç†ï¼Œæ¯”å¦‚æ”¯æŒ `@apply`ã€‚

**ç¤ºä¾‹**ï¼š

```ts
import transformerDirectives from '@unocss/transformer-directives'

transformers: [
  transformerDirectives(),
]
```

---

âš¡ æ€»ç»“ä¸€ä¸‹ï¼š

* `rules` / `shortcuts` / `variants`ï¼šå®šä¹‰æ€ä¹ˆç”Ÿæˆç±»
* `theme`ï¼šå­˜æ”¾è®¾è®¡ç³»ç»Ÿ
* `safelist` / `blocklist` / `content`ï¼šæ§åˆ¶å“ªäº›ç±»å­˜åœ¨
* `preflights` / `layers` / `transformers`ï¼šå½±å“ç”Ÿæˆ CSS çš„ç»“æ„
* `extractors`ï¼šå®šä¹‰ç±»åæå–æ–¹å¼
* `presets`ï¼šä¸€é”®å¼•å…¥ç°æˆè§„åˆ™


## é…ç½®ç¤ºä¾‹

```ts
// uno.config.ts
import { defineConfig, presetWind, presetAttributify } from 'unocss'
import transformerDirectives from '@unocss/transformer-directives'
import transformerVariantGroup from '@unocss/transformer-variant-group'

export default defineConfig({
  /**
   * Presets: å¼•å…¥ç°æˆçš„è§„åˆ™é›†
   * - presetWind: Tailwind é£æ ¼çš„åŸå­ç±»
   * - presetAttributify: æ”¯æŒåœ¨æ ‡ç­¾å±æ€§ä¸Šç›´æ¥å†™åŸå­ç±» (å¦‚ <div text="red-500 lg">)
   */
  presets: [
    presetWind(),
    presetAttributify(),
  ],

  /**
   * rules: è‡ªå®šä¹‰åŸå­ç±»è§„åˆ™
   * è¿™é‡Œæ–°å¢äº† text-shadow-* å·¥å…·ç±»
   */
  rules: [
    [/^text-shadow-(.+)$/, ([, value]) => ({ 'text-shadow': value })],
  ],

  /**
   * shortcuts: è‡ªå®šä¹‰å¿«æ·æ–¹å¼ï¼Œç»„åˆç±»
   * ç±»ä¼¼ Tailwind çš„ @applyï¼Œä½†æ›´ç®€æ´
   */
  shortcuts: {
    btn: 'px-4 py-1 rounded inline-block bg-brand text-white cursor-pointer hover:bg-brand-dark disabled:cursor-default disabled:bg-gray-600 disabled:opacity-50',
    card: 'shadow-md p-4 rounded-lg bg-white',
  },

  /**
   * theme: è‡ªå®šä¹‰ä¸»é¢˜å˜é‡ï¼ˆé¢œè‰²ã€å­—ä½“ã€é—´è·ç­‰ï¼‰
   * å¯åœ¨ rules / shortcuts / CSS é‡Œä½¿ç”¨
   */
  theme: {
    colors: {
      brand: '#0070f3',
      'brand-dark': '#0051a3',
    },
  },

  /**
   * safelist: æ°¸è¿œåŒ…å«çš„ç±»ï¼Œå³ä½¿æºç ä¸­æ²¡æœ‰ä½¿ç”¨åˆ°
   * é€‚åˆåŠ¨æ€æ¸²æŸ“çš„ class (å¦‚åç«¯ä¼ æ¥çš„çŠ¶æ€è‰²)
   */
  safelist: [
    'text-center',
    'bg-red-500',
    'bg-green-500',
    'hover:bg-yellow-400',
  ],

  /**
   * blocklist: å±è”½ä¸å…è®¸ä½¿ç”¨çš„ç±»
   * è¿™é‡Œç¦æ­¢ text-pink-* é¿å…å‡ºç°è®¾è®¡è§„èŒƒå¤–çš„é¢œè‰²
   */
  blocklist: [/^text-pink-/],

  /**
   * preflights: ç±»ä¼¼å…¨å±€ reset.css
   * æ¯æ¬¡éƒ½ä¼šæ³¨å…¥åˆ°ç”Ÿæˆçš„ CSS é¡¶éƒ¨
   */
  preflights: [
    {
      getCSS: () => `
        *, *::before, *::after { box-sizing: border-box; }
        body { margin: 0; font-family: sans-serif; }
      `,
    },
  ],

  /**
   * layers: å®šä¹‰ CSS å±‚çº§é¡ºåº
   * base < components < utilities
   */
  layers: {
    base: 0,
    components: 1,
    utilities: 2,
  },

  /**
   * outputToCssLayers: æ˜¯å¦è¾“å‡º CSS Cascade Layers
   * å¼€å¯åä¼šå˜æˆ @layer base, @layer components, @layer utilities
   */
  outputToCssLayers: true,

  /**
   * sortLayers: è‡ªå®šä¹‰å±‚çº§æ’åºé€»è¾‘
   */
  sortLayers: (layers) => layers.sort(),

  /**
   * preprocess: åœ¨åŒ¹é…è§„åˆ™å‰å¤„ç†ç±»å
   * è¿™é‡ŒæŠŠ p-4 è‡ªåŠ¨è½¬ä¸º px-4 py-4
   */
  preprocess: [
    (matcher) => matcher.startsWith('p-')
      ? matcher.replace(/^p-(\d+)$/, 'px-$1 py-$1')
      : matcher,
  ],

  /**
   * postprocess: ç”Ÿæˆåä¿®æ”¹ç»“æœ
   * è¿™é‡Œç»™æ‰€æœ‰ bg-* ç±»è‡ªåŠ¨åŠ ä¸Š text-white
   */
  postprocess: [
    (util) => {
      if (util.matcher.startsWith('bg-')) {
        util.entries.push(['color', 'white'])
      }
    },
  ],

  /**
   * extendTheme: åŠ¨æ€æ‰©å±• theme
   * å¯è¿”å›æ–°å¯¹è±¡æ›¿æ¢åŸä¸»é¢˜
   */
  extendTheme: (theme) => ({
    ...theme,
    colors: {
      ...theme.colors,
      danger: '#ff0000',
    },
  }),

  /**
   * extractors: è‡ªå®šä¹‰æå–å™¨ï¼Œè¯†åˆ«ä»£ç é‡Œçš„ç±»å
   * é»˜è®¤æŒ‰ç©ºæ ¼æ‹†åˆ†ï¼Œè¿™é‡Œé¢å¤–æå– my-* ç±»
   */
  extractors: [
    {
      name: 'custom',
      extract: (code) => code.match(/my-\w+/g) || [],
    },
  ],

  /**
   * extractorDefault: é»˜è®¤æå–å™¨
   * null è¡¨ç¤ºç¦ç”¨é»˜è®¤æå–å™¨
   */
  extractorDefault: undefined,

  /**
   * autocomplete: ç¼–è¾‘å™¨è”æƒ³æç¤ºé…ç½®
   */
  autocomplete: {
    templates: ['bg-$colors', 'text-$colors'],
    shorthands: {
      c: 'flex justify-center items-center',
    },
  },

  /**
   * configResolved: é…ç½®è§£æå®Œæˆçš„å›è°ƒ
   * é€‚åˆè°ƒè¯•æ—¶æŸ¥çœ‹æœ€ç»ˆé…ç½®
   */
  configResolved: (config) => {
    console.log('æœ€ç»ˆé…ç½®ï¼š', config)
  },

  /**
   * details: æ˜¯å¦è¾“å‡ºè°ƒè¯•ä¿¡æ¯
   */
  details: true,

  /**
   * content: æŒ‡å®šæ‰«æçš„æ–‡ä»¶èŒƒå›´
   */
  content: {
    filesystem: ['src/**/*.{vue,ts,js,tsx,html}'],
  },

  /**
   * transformers: æºç è½¬æ¢å™¨
   * - transformerDirectives: æ”¯æŒ @apply @screen
   * - transformerVariantGroup: æ”¯æŒ hover:(bg-red-500 text-white)
   */
  transformers: [
    transformerDirectives(),
    transformerVariantGroup(),
  ],
})

```