---
sidebar_position: 8
---

在 [Godot 核心概念概览](../Godot/核心概念概览.md) 中，我们了解到 Godot 游戏是一棵由场景组成的树，而每个场景又是一棵由节点组成的树。在本节课中，我们将更深入地探讨它们。你还将创建你的第一个场景。

## 节点 (Nodes)

**节点是游戏的基本构建块**。它们就像食谱中的食材。有数十种类型的节点可以显示图像、播放声音、代表摄像机等等。

![Nodes](https://docs.godotengine.org/en/stable/_images/nodes_and_scenes_nodes.webp)

所有节点都具有以下特征：

*   名称。
*   可编辑的属性。
*   接收每帧更新的回调。
*   可以使用新的属性和函数进行扩展。
*   可以作为子节点添加到另一个节点中。

最后一个特征非常重要。**节点共同构成了一棵树**，这是组织项目的强大功能。由于不同的节点具有不同的功能，将它们组合起来可以产生更复杂的行为。正如我们之前看到的，你可以使用 [CharacterBody2D](https://docs.godotengine.org/en/stable/classes/class_characterbody2d.html)、[Sprite2D](https://docs.godotengine.org/en/stable/classes/class_sprite2d.html)、[Camera2D](https://docs.godotengine.org/en/stable/classes/class_camera2d.html) 和 [CollisionShape2D](https://docs.godotengine.org/en/stable/classes/class_collisionshape2d.html) 节点来构建一个摄像机跟随的可玩角色。

![Character Nodes](https://docs.godotengine.org/en/stable/_images/nodes_and_scenes_character_nodes.webp)

## 场景 (Scenes)

当你将节点组织成树状结构（如我们的角色）时，我们将这种构造称为场景。保存后，场景在编辑器中就像新的节点类型一样工作，你可以将它们作为现有节点的子节点添加。在这种情况下，场景的实例显示为一个单独的节点，其内部结构被隐藏。

场景允许你根据需要组织游戏代码。你可以 **组合节点** 来创建自定义且复杂的节点类型，例如会跑会跳的游戏角色、生命条、可以交互的宝箱等。

![3D Scene Example](https://docs.godotengine.org/en/stable/_images/nodes_and_scenes_3d_scene_example.webp)

Godot 编辑器本质上是一个 **场景编辑器**。它拥有大量用于编辑 2D 和 3D 场景以及用户界面的工具。一个 Godot 项目可以包含根据需要数量的场景。引擎只需要一个场景作为应用程序的 **主场景**。这是当你或玩家运行游戏时，Godot 首先加载的场景。

除了像节点一样工作外，场景还具有以下特征：

1.  它们始终有一个根节点，例如我们示例中的 “Player”。
2.  你可以将它们保存到本地驱动器并在以后加载。
3.  你可以根据需要创建场景的任意多个实例。你的游戏中可以有五个或十个从 `Character` 场景创建的角色。

## 创建你的第一个场景

让我们创建一个只有一个节点的第一个场景。为此，你需要先 [创建一个新项目](https://docs.godotengine.org/en/stable/tutorials/editor/project_manager.html#doc-creating-and-importing-projects)。打开项目后，你应该看到一个空的编辑器。

![Empty Editor](https://docs.godotengine.org/en/stable/_images/nodes_and_scenes_01_empty_editor.webp)

在一个空场景中，左侧的 “场景” 面板显示了快速添加根节点的几个选项。“2D 场景” 添加一个 [Node2D](https://docs.godotengine.org/en/stable/classes/class_node2d.html) 节点，“3D 场景” 添加一个 [Node3D](https://docs.godotengine.org/en/stable/classes/class_node3d.html) 节点，“用户界面” 添加一个 [Control](https://docs.godotengine.org/en/stable/classes/class_control.html) 节点。这些预设是为了方便使用，并非强制性的。“其它节点” 允许你选择任何节点作为根节点。在空场景中，“其它节点” 等同于点击 “场景” 面板左上角的 “添加子节点” 按钮，该按钮通常将新节点添加为当前所选节点的子节点。

我们将向场景中添加一个 [Label (标签)](https://docs.godotengine.org/en/stable/classes/class_label.html) 节点。它的功能是在屏幕上绘制文本。

点击 “添加子节点” 按钮或 “其它节点” 以创建根节点。

![Scene Dock](https://docs.godotengine.org/en/stable/_images/nodes_and_scenes_02_scene_dock.webp)

“创建新节点” 对话框打开，显示可用节点的长列表。

![Create Node Window](https://docs.godotengine.org/en/stable/_images/nodes_and_scenes_03_create_node_window.webp)

选择 `Label` 节点。你可以输入它的名称来过滤列表。

![Create Label Window](https://docs.godotengine.org/en/stable/_images/nodes_and_scenes_04_create_label_window.webp)

点击 `Label` 节点选中它，然后点击窗口底部的 “创建” 按钮。

![Editor with Label](https://docs.godotengine.org/en/stable/_images/nodes_and_scenes_05_editor_with_label.webp)

当你添加场景的第一个节点时，会发生很多事情。场景切换到 2D 工作区，因为 `Label` 是 2D 节点类型。`Label` 出现在视口的左上角并被选中。该节点出现在左侧的 “场景” 面板中，节点的属性出现在右侧的 “检查器” 面板中。

## 更改节点的属性

下一步是更改 `Label` 的 `Text` 属性。让我们将其更改为 “Hello World”。

前往视口右侧的 “检查器” 面板。点击 `Text` 属性下方的字段并输入 “Hello World”。

![Label Text](https://docs.godotengine.org/en/stable/_images/nodes_and_scenes_06_label_text.webp)

你将在键入时看到文本在视口中绘制出来。

> **另见**
>
> 你可以像编辑 `Text` 一样编辑检查器中列出的任何属性。有关检查器面板的完整参考，请参阅 [检查器面板](https://docs.godotengine.org/en/stable/tutorials/editor/inspector_dock.html)。

你可以通过选择工具栏中的移动工具在视口中移动 `Label` 节点。

![Move Tool](https://docs.godotengine.org/en/stable/_images/nodes_and_scenes_07_move_tool.webp)

选中 `Label` 后，在视口中的任意位置点击并拖动，将其移动到矩形界定的视图中心。

![Hello World Text](https://docs.godotengine.org/en/stable/_images/nodes_and_scenes_08_hello_world_text.webp)

## 运行场景

一切准备就绪，可以运行场景了！点击屏幕右上角的 “运行当前场景” 按钮或按 **F6** (macOS 为 **Cmd + R**)。

![Play Scene Button](https://docs.godotengine.org/en/stable/_images/nodes_and_scenes_09_play_scene_button.webp)

弹出窗口会邀请你保存场景，这是运行场景所必需的。在文件浏览器中点击 “保存” 按钮将其保存为 `label.tscn`。

![Save Scene As](https://docs.godotengine.org/en/stable/_images/nodes_and_scenes_10_save_scene_as.webp)

> **注意**
>
> “将场景另存为” 对话框与编辑器中的其他文件对话框一样，仅允许你将文件保存在项目内部。窗口顶部的 `res://` 路径代表项目的根目录，代表 “资源路径 (resource path)”。有关 Godot 中文件路径的更多信息，请参阅 [文件系统](https://docs.godotengine.org/en/stable/tutorials/scripting/filesystem.html)。

应用程序将在新窗口中打开并显示文本 “Hello World”。

![Final Result](https://docs.godotengine.org/en/stable/_images/nodes_and_scenes_11_final_result.webp)

关闭窗口或按 **F8** (macOS 为 **Cmd + .**) 退出正在运行的场景。

## 设置主场景

为了运行我们的测试场景，我们使用了 “运行当前场景” 按钮。旁边的另一个按钮 “运行项目” 允许你设置并运行项目的 **主场景**。你也可以按 **F5** (macOS 为 **Cmd + B**) 来执行此操作。

![Play Button](https://docs.godotengine.org/en/stable/_images/nodes_and_scenes_12_play_button.webp)

> **注意**
>
> 运行项目的 *主场景* 与运行 *当前场景* 是不同的。如果你遇到意外行为，请检查并确保你运行的是正确的场景。

出现一个弹出窗口，邀请你选择主场景。

![Main Scene Popup](https://docs.godotengine.org/en/stable/_images/nodes_and_scenes_13_main_scene_popup.webp)

点击 “选择” 按钮，在出现的文件对话框中，双击 `label.tscn`。

![Select Main Scene](https://docs.godotengine.org/en/stable/_images/nodes_and_scenes_14_select_main_scene.webp)

演示应该再次运行。今后，每当你运行项目时，Godot 都会将此场景作为起点。

> **注意**
>
> 编辑器将主场景的路径保存在项目目录中的 `project.godot` 文件中。虽然你可以直接编辑此文本文件来更改项目设置，但也可以使用 **项目 > 项目设置** 窗口来执行此操作。有关更多信息，请参阅 [项目设置](https://docs.godotengine.org/en/stable/tutorials/editor/project_settings.html)。

在下一部分中，我们将讨论游戏和 Godot 中的另一个关键概念：创建场景实例。
