# FNIS说明文件 7.6 SE

[Nexus Skyrim 2015年5月最佳文件]

上古卷轴5不能使用自定义动画？错了。FNIS Behaviors允许其他模组向游戏添加不同类型的动画：闲置/姿势、序列动画、手臂偏移、家具动画、配对动画、杀招以及生物动画。
而且，通过演示模组FNIS Spells，用户可以展示几乎所有的动画文件，包括舞蹈动画。

注意：每次安装或卸载FNIS或基于FNIS的模组后，您都必须运行生成工具GenerateFNISforUsers.exe（FNIS Behavior的一部分）。此外，当您卸载使用FNIS Creatures的模组时，您需要先按下"De-Install Creatures"按钮，然后再运行"Update FNIS Behaviors"。

想要以简单方式为玩家使用专属动画？安装[FNIS PCEA2](http://www.nexusmods.com/skyrimspecialedition/mods/13281)并体验其潜力
厌倦了所有女性走路方式相同？[FNIS Sexy Move](http://www.nexusmods.com/skyrimspecialedition/mods/13303)将改变这一点
准备从高空探索天际？安装[FNIS Flyer](http://www.nexusmods.com/skyrimspecialedition/mods/13322)即可起飞
想要看到由自定义FNIS行为动画的生物？获取[FNIS Zoo](http://www.nexusmods.com/skyrimspecialedition/mods/?????)（SSE版本尚未推出）
您是模组制作者，想了解行为文件的内容？[CondenseBehavior](http://www.nexusmods.com/skyrim/mods/32113)以简洁形式展示行为文件
您是模组制作者，对行为文件感兴趣？从（FNIS for Skyrim）文件部分下载FNIS for Modders Documentation V6.2（或更高版本）

## 最近更新

2020/02/18
FNIS Behavior 7.6 SE、SE XXL和VR XXL
- 识别最新的XPMSE骨骼骨架(126/156)，适用于[XP32 Maximum Skeleton Special Extended - XPMSSE](https://www.nexusmods.com/skyrimspecialedition/mods/1988) 4.60版及以上
- 允许未来的SSE骨骼版本无需FNIS更改即可被识别（基于模组提供的skeleton.xml）
- 将FNIS XXL的动画数量增加到32,000
- 修复了阻止PSCD补丁的错误
- 减少了关于Load CTD计算的输出（见注释）
- 生物包：修复退出动画事件名称（大小写，FrostBiteSpider + Mudcrab）

注意：自7.5版本起，FNIS会计算您已使用了多少百分比的Skyrim自定义动画资源，并在您达到导致CTD的负载的至少99%时警告您。此外，FNIS XXL将显示您的每个动画模组对Load CTD的贡献程度。然而，自FNIS实现此功能以来，已有几个SKSE插件可以规避这个Skyrim错误。这意味着使用许多自定义动画的用户可以轻松避免此问题。但由于新用户可能不了解这个修复，当超过原始限制时，FNIS仍会发出警告。增加Skyrim动画限制的SKSE插件有：
- [Animation Limit Crash Fix SSE](https://www.nexusmods.com/skyrimspecialedition/mods/31146)（Skyrim SE）
- [SSE Engine Fixes](https://www.nexusmods.com/skyrimspecialedition/mods/17230)（Skyrim SE）
- [Animation Limit Crash Fix LE](https://www.nexusmods.com/skyrim/mods/100672)（Skyrim LE）

## 安装和执行

注意：通常强烈建议不要将Steam、Skyrim、FNIS安装在受Windows UAC（用户账户控制）保护的文件夹中。这些文件夹包括"C:/Program Files (x86)"或"C:/Program Files"（或其本地化对应文件夹，如"C:/Programme (x86)"）。请使用根文件夹，如"D:\Games"。这样可以避免严重的保护问题，尤其是在使用模组管理器时。

FNIS是一个工具，而不是模组，因此与您在Nexus上找到的大多数内容不同。如果您是模组新手并使用FNIS，强烈建议您观看解释FNIS使用方法的众多视频之一，如本说明开头和结尾处的视频。

- 安装FNIS Behavior SE V7_6
- 安装Creature Pack V7_0（可选，生物动画模组必需）
- 安装FNIS Idle Spells SE V5_0_1（可选，法术必需）
- 激活FNIS插件（FNIS.esp）
- 安装其他依赖FNIS的模组（见下方模组列表）
- 如果您手动安装：转到Skyrim安装目录（例如D:/Games/Steam/SteamApps/common/Skyrim Special Edition），然后进入Data/tools/GenerateFNIS_for_Users
- 如果您手动安装：以管理员身份启动FNIS生成器GenerateFNISforUsers.exe（FNIS Behavior SE的一部分，绝对必要，否则无法工作）
- 如果您使用NMM：像安装任何其他模组一样安装FNIS
- 如果您使用NMM：如果尚未完成，在NMM支持的工具列表中"Configure FNIS"（菜单栏最右侧下拉按钮）。在文件夹选择框中，转到Skyrim安装目录（例如D:/Games/Steam/SteamApps/common/Skyrim Special Edition），然后进入Data/tools/GenerateFNIS_for_Users。点击确定。
- 如果您使用NMM：从NMM支持的工具列表中"Launch FNIS"（菜单栏最右侧下拉按钮）
- 如果您使用MO：将FNIS配置为可执行文件（重要 - 请观看此处显示的视频之一，或阅读[S.T.E.P. Project: Fores New Idles in Skyrim](http://wiki.step-project.com/Fores_New_Idles_in_Skyrim)）
- 从生成器窗口底部选择必要的"Available Patches"（仅选择您需要的！参见"Patches"部分）
- 点击"Update FNIS Behavior"
- 要检查新的动画模组是否会导致问题：按下"Consistence Check"按钮
- 如果您已卸载使用FNIS Creature Pack的任何模组：按下"De-Install Creatures"按钮（如有必要，再次安装Creature Pack）

退出GenerateFNISforUsers.exe时，系统会询问是否要在桌面上创建工具的快捷方式。
手动安装时请选择"YES"（强烈推荐 - 您将经常需要使用生成器）
通过NMM或MO安装时请选择"Abort"

## FNIS Vortex/MO支持（配置文件），FNIS.ini

FNIS支持Vortex和MO的多项功能。所有功能都使用FNIS.ini文件中的参数，或在命令行使用时作为命令行参数。另请参阅FNIS Behaviors下载中的FNIS.ini0。

文件重定向。这允许您将所有相关的FNIS生成文件重定向到Skyrim\Data外部的文件夹（以支持Vortex/MO配置文件）。它包括所有更改Skyrim动画功能的文件。FNIS临时文件和日志仍将写入常规位置（data\tools\GenerateFNIS_for_Users下）。要使用此功能，需要定义以下参数（FNIS.ini或命令行）
- RedirectFiles=`<Skyrim\Data外部的文件夹>` 例如RedirectFiles=D:\FNIS_Redirect 要激活文件重定向，您需要设置"File Redirection (Vortex/MO profiles support)"补丁。如果您从命令行启动FNIS，此补丁会自动应用。要了解如何将此与您的实际模组管理器一起使用，请参阅您的模组管理器文档。

## 解决"安装问题"

当所有NPC都以可怕的僵硬"半T"姿势移动时，这不是FNIS错误：您在安装过程中做错了某些事情！
- 删除桌面上的GenerateFNISforUsers.exe桌面快捷方式
- 按照"Installation"中的描述准确重新安装FNIS Behavior
- 修复生成器文本字段中的所有错误，并注意所有警告 - 错误肯定会，警告可能会指示"半T"问题的原因
- 不要试图聪明地移动东西
- 不要从7Zip、WinRar等内部调用生成器，也不要从通过Windows资源管理器搜索功能任意找到的文件夹中调用

## 防盗版措施

FNIS采取预防性措施防止盗版：
- FNIS检查您是否使用合法的Skyrim Steam安装。为此，它读取Steam在您每次通过Steam启动器启动Skyrim时设置的信息。如果此检查失败，您将在FNIS输出窗口中收到警告。
- FNIS检查您是否是模组盗版网站"moddrop"的用户。在这种情况下，FNIS将中止并显示适当的错误消息。如果您想再次使用FNIS，您需要(1)卸载moddrop客户端，(2)卸载FNIS，包括tools\GenerateFNIS_for_Users或MO覆盖中的所有残留文件，(3)重新安装FNIS。

注意：我不会帮助任何盗版用户！首先，我不支持不支持Skyrim及其模组作者的人。其次，我不会浪费时间追查只在非法安装中出现的问题。

只有当您同意上述盗版检查时，才能使用FNIS！

## 使用FNIS Behavior SE的Skyrim SE模组

非成人向：
- FNIS Spells SE（此模组的可选文件）
- [Throwing Weapons Lite SE](http://www.nexusmods.com/skyrimspecialedition/mods/4668) by JZBai
- [Animated Eating Redux SE editon](http://www.nexusmods.com/skyrimspecialedition/mods/4652) by FlipDeezy
- [Cannabis Skyrim SE](http://www.nexusmods.com/skyrimspecialedition/mods/4953) by MadNuttah and Virakotxa
- [True Spear Combat - Weapons and Animations](http://www.nexusmods.com/skyrimspecialedition/mods/10483) by Bouboule _ Marlborojack _ DemongelRex
- [Ride Sharing](http://www.nexusmods.com/skyrimspecialedition/mods/11734) by Musje
- [Companion Selene Kate - Kiss Me](http://www.nexusmods.com/skyrimspecialedition/mods/12848) by Kasprutz and Hello Santa
- [Pipe Smoking SE](http://www.nexusmods.com/skyrimspecialedition/mods/13061) by MadNuttah and Virakotxa
- [FNIS PCEA2 SE](http://www.nexusmods.com/skyrimspecialedition/mods/13281) by fore
- [FNIS Sexy Move SE](http://www.nexusmods.com/skyrimspecialedition/mods/13303) by fore
- [FNIS Flyer SE](http://www.nexusmods.com/skyrimspecialedition/mods/13322) by fore
- [FNIS Zoo SE](http://www.nexusmods.com/skyrimspecialedition/mods/?????) by fore 即将推出

成人向：
- [Maids II - Deception](http://www.nexusmods.com/skyrimspecialedition/mods/189) by Enter_77
- [Animated Prostitution SE](http://www.nexusmods.com/skyrimspecialedition/mods/5618) by Xider
- [Music and Dancing in the Luxury Suite SE](http://www.nexusmods.com/skyrimspecialedition/mods/5668) by Migal130
- [Flower Girls SE x](http://www.nexusmods.com/skyrimspecialedition/mods/5941) by Xider
- [EstrusForSkyrimSE](http://www.nexusmods.com/skyrimspecialedition/mods/12832) by Cotyounoyume
- [CBP Physics](http://www.nexusmods.com/skyrimspecialedition/mods/13207) by Polygonhell

## 补丁

要使两个修改行为的模组兼容，它们必须集成到一组行为中。这就是为什么GenerateFNISforUsers.exe有一个集成的"Patch Management"，它负责处理其他修改行为的模组所需的行为更改，如PC Exclusive Animation Path。但是，FNIS不会包含这些模组的其他（动画）文件。因此，如果您想使用补丁，您仍然需要在运行生成器之前安装这些模组。

不要为未安装的模组勾选补丁！

请注意，FNIS不需要为"仅想通过FNIS添加自定义动画"的模组添加补丁。FNIS将自动找到这些模组（如果正确安装），并在生成器输出中列出它们。

还有3个不需要基础模组的补丁：
- SKELETON arm fix：此更改修复了许多动画中由自定义骨骼中的额外骨骼引起的手臂动画故障。此补丁检查实际安装的骨骼（女性和男性），并对行为文件应用特定于骨骼的修改。
- GENDER specific animations：在Skyrim中，只有少数动画被定义为性别特定（"Animations/female"和"Animations/male"文件夹中的不同动画）。此补丁允许您使其他动画性别特定，前提是它们由动画师"正确"创建。
- HKX File Compatibility Check Skyrim/SSE：在Skyrim和Skyrim SE之间交叉使用行为、骨骼和动画文件将导致众所周知的t姿势。此补丁将检查此类不良文件。

## 错误修复

FNIS Behaviors包含以下原版Skyrim的错误修复（用户无需主动执行任何操作）：
- 拥抱后死亡修复：角色（玩家或NPC）在执行配对拥抱动画后死亡。当角色"应该"在之前死亡并在打斗后进入流血状态，或因为他/她是必要角色时，会发生这种死亡。
- Proper Spell Cast Direction修复：当一个人瞄准天空中飞行的物体（例如龙）时，他的脊柱向后弯曲。这种自然姿势发生在Skyrim中的所有NPC身上，以及使用弓箭的玩家身上，但不会发生在使用魔法的玩家身上。
- Dual Dagger Power Attack Speed Fix：修复使用匕首时的双持力量攻击速度缩放，现在将受到双重连击特技、元素之怒龙吼或任何其他类型的攻击速度增益的影响。

## FNIS和FNIS XXL，动画加载CTD限制

FNIS有两个版本：
- FNIS，允许为角色第三人称和Skyrim的每个生物添加10,000个动画。对于大多数动画模组用户来说，这已经足够了。
- FNIS XXL，允许为每个种族添加32,000个动画。适用于我们中间的动画收藏家。

然而，Skyrim中有一个错误，当添加太多动画时启动游戏会导致CTD（崩溃到桌面）。这通常发生在添加了11k到14k额外的第三人称角色动画之间，取决于动画类型。（第一人称、动画替换器和生物动画不受影响）。

FNIS（两个版本）计算您已使用了多少百分比的Skyrim自定义动画资源，并在您达到导致CTD的负载的至少99%时警告您。此外，FNIS XXL将显示您的每个动画模组对Load CTD的贡献程度。
