<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Rust/Rust工具链" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Rust 工具链：rustup、cargo、rustc | Cruldra</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-site.example.com/notes3/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-site.example.com/notes3/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-site.example.com/notes3/docs/Rust/Rust工具链"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Rust 工具链：rustup、cargo、rustc | Cruldra"><meta data-rh="true" name="description" content="Rust 的工具链由三个核心工具组成，它们协同工作，为开发者提供完整的开发体验。"><meta data-rh="true" property="og:description" content="Rust 的工具链由三个核心工具组成，它们协同工作，为开发者提供完整的开发体验。"><link data-rh="true" rel="icon" href="/notes3/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-site.example.com/notes3/docs/Rust/Rust工具链"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/notes3/docs/Rust/Rust工具链" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/notes3/docs/Rust/Rust工具链" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Rust 工具链：rustup、cargo、rustc","item":"https://your-docusaurus-site.example.com/notes3/docs/Rust/Rust工具链"}]}</script><link rel="alternate" type="application/rss+xml" href="/notes3/blog/rss.xml" title="Cruldra RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/notes3/blog/atom.xml" title="Cruldra Atom Feed"><link rel="stylesheet" href="/notes3/assets/css/styles.f3dc2d00.css">
<script src="/notes3/assets/js/runtime~main.a656ceba.js" defer="defer"></script>
<script src="/notes3/assets/js/main.ed3b81bb.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme",window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),document.documentElement.setAttribute("data-theme-choice","system"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/notes3/img/logo.svg"><style data-mantine-styles="classes">@media (max-width: 35.99375em) {.mantine-visible-from-xs {display: none !important;}}@media (min-width: 36em) {.mantine-hidden-from-xs {display: none !important;}}@media (max-width: 47.99375em) {.mantine-visible-from-sm {display: none !important;}}@media (min-width: 48em) {.mantine-hidden-from-sm {display: none !important;}}@media (max-width: 61.99375em) {.mantine-visible-from-md {display: none !important;}}@media (min-width: 62em) {.mantine-hidden-from-md {display: none !important;}}@media (max-width: 74.99375em) {.mantine-visible-from-lg {display: none !important;}}@media (min-width: 75em) {.mantine-hidden-from-lg {display: none !important;}}@media (max-width: 87.99375em) {.mantine-visible-from-xl {display: none !important;}}@media (min-width: 88em) {.mantine-hidden-from-xl {display: none !important;}}</style><div role="region" aria-label="Skip to main content"><a class="skipToContent_kJiJ" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/notes3/"><div class="navbar__logo"><img src="/notes3/img/logo.svg" alt="My Site Logo" class="themedComponent_NrnZ themedComponent--light_kIco"><img src="/notes3/img/logo.svg" alt="My Site Logo" class="themedComponent_NrnZ themedComponent--dark_HCTy"></div><b class="navbar__title text--truncate">Cruldra</b></a><a class="navbar__item navbar__link" href="/notes3/docs/category/设计模式">JVM</a><a class="navbar__item navbar__link" href="/notes3/docs/category/css">前端</a><a class="navbar__item navbar__link" href="/notes3/docs/category/astrbot">工具</a><a class="navbar__item navbar__link" href="/notes3/docs/category/ai电竞酒店">个人</a><a class="navbar__item navbar__link" href="/notes3/docs/AI/Agno/介绍">AI</a><a class="navbar__item navbar__link" href="/notes3/docs/category/内置模块">Python</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/notes3/docs/category/actix-web">Rust</a><a class="navbar__item navbar__link" href="/notes3/docs/category/数据库系统">软件工程</a><a class="navbar__item navbar__link" href="/notes3/docs/category/上古卷轴5">游戏</a><a class="navbar__item navbar__link" href="/notes3/docs/Go/Go-Python-Java三语言全方位对比">Go</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbarSearchContainer_V3q0"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_YMCn"><div class="docsWrapper_UDzO"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_OA9t" type="button"></button><div class="docRoot_zblS"><aside class="theme-doc-sidebar-container docSidebarContainer_utvl"><div class="sidebarViewport_uicj"><div class="sidebar_wSJP"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_xz03"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OIbK menu__link menu__link--sublist" href="/notes3/docs/category/actix-web"><span title="Actix-web" class="categoryLinkLabel_5XjO">Actix-web</span></a><button aria-label="Expand sidebar category &#x27;Actix-web&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Rust/结构体"><span title="结构体" class="linkLabel_VeW_">结构体</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Rust/所有权与借用"><span title="所有权与借用" class="linkLabel_VeW_">所有权与借用</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/notes3/docs/Rust/Rust工具链"><span title="Rust 工具链：rustup、cargo、rustc" class="linkLabel_VeW_">Rust 工具链：rustup、cargo、rustc</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Rust/Rust数据与图表资源"><span title="Rust 数据与图表资源" class="linkLabel_VeW_">Rust 数据与图表资源</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Rust/Trait详解"><span title="Rust Trait 详解" class="linkLabel_VeW_">Rust Trait 详解</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Rust/Unsafe Rust详解"><span title="Unsafe Rust 详解" class="linkLabel_VeW_">Unsafe Rust 详解</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Rust/panic与异常的区别"><span title="panic! 与异常（throw）的区别" class="linkLabel_VeW_">panic! 与异常（throw）的区别</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Rust/为什么学习Rust"><span title="为什么要学习 Rust？" class="linkLabel_VeW_">为什么要学习 Rust？</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Rust/值与引用详解"><span title="Rust 值与引用详解" class="linkLabel_VeW_">Rust 值与引用详解</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Rust/包装类型"><span title="包装类型" class="linkLabel_VeW_">包装类型</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Rust/学习路线"><span title="Rust 学习路线" class="linkLabel_VeW_">Rust 学习路线</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Rust/宏详解"><span title="Rust 宏详解" class="linkLabel_VeW_">Rust 宏详解</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_OIbK menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/notes3/docs/Rust/常用库/Rig-Rust的AI Agent框架"><span title="常用库" class="categoryLinkLabel_5XjO">常用库</span></a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Rust/并发与异步详解"><span title="Rust 并发与异步详解" class="linkLabel_VeW_">Rust 并发与异步详解</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Rust/智能指针详解"><span title="Rust 智能指针详解" class="linkLabel_VeW_">Rust 智能指针详解</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Rust/条件编译"><span title="条件编译" class="linkLabel_VeW_">条件编译</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Rust/模块系统详解"><span title="Rust 模块系统详解" class="linkLabel_VeW_">Rust 模块系统详解</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Rust/生命周期实战场景"><span title="Rust 生命周期实战场景" class="linkLabel_VeW_">Rust 生命周期实战场景</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Rust/生命周期详解"><span title="Rust 生命周期详解" class="linkLabel_VeW_">Rust 生命周期详解</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/notes3/docs/Rust/闭包详解"><span title="Rust 闭包详解" class="linkLabel_VeW_">Rust 闭包详解</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_e2u6"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_y0g3"><div class="docItemContainer_PZbB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_I1XV" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/notes3/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_ZIEp"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Rust 工具链：rustup、cargo、rustc</span></li></ul></nav><div class="tocCollapsible_UUJj theme-doc-toc-mobile tocMobile_b9MH"><button type="button" class="clean-btn tocCollapsibleButton_zQap">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Rust 工具链：rustup、cargo、rustc</h1></header>
<p>Rust 的工具链由三个核心工具组成，它们协同工作，为开发者提供完整的开发体验。</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="-工具链概览">🦀 工具链概览<a href="#-工具链概览" class="hash-link" aria-label="Direct link to 🦀 工具链概览" title="Direct link to 🦀 工具链概览" translate="no">​</a></h2>
<!-- -->
<hr>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="1️⃣-rustup---rust-工具链管理器">1️⃣ rustup - Rust 工具链管理器<a href="#1️⃣-rustup---rust-工具链管理器" class="hash-link" aria-label="Direct link to 1️⃣ rustup - Rust 工具链管理器" title="Direct link to 1️⃣ rustup - Rust 工具链管理器" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="-什么是-rustup">📖 什么是 rustup？<a href="#-什么是-rustup" class="hash-link" aria-label="Direct link to 📖 什么是 rustup？" title="Direct link to 📖 什么是 rustup？" translate="no">​</a></h3>
<p><strong>rustup</strong> 是 Rust 的官方工具链安装器和版本管理工具，类似于：</p>
<ul>
<li class="">Node.js 的 <code>nvm</code></li>
<li class="">Python 的 <code>pyenv</code></li>
<li class="">Ruby 的 <code>rbenv</code></li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="-核心功能">🎯 核心功能<a href="#-核心功能" class="hash-link" aria-label="Direct link to 🎯 核心功能" title="Direct link to 🎯 核心功能" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="1-管理-rust-版本">1. 管理 Rust 版本<a href="#1-管理-rust-版本" class="hash-link" aria-label="Direct link to 1. 管理 Rust 版本" title="Direct link to 1. 管理 Rust 版本" translate="no">​</a></h4>
<p>Rust 有三个发布通道：</p>
<ul>
<li class=""><strong>stable</strong>（稳定版）：每 6 周发布一次，推荐日常使用</li>
<li class=""><strong>beta</strong>（测试版）：下一个稳定版的候选版本</li>
<li class=""><strong>nightly</strong>（每夜版）：最新的实验性功能</li>
</ul>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 安装稳定版</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup install stable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 安装 nightly 版</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup install nightly</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 安装特定版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup install 1.75.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 查看已安装的工具链</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup toolchain list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 设置默认工具链</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup default stable</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="2-管理编译目标">2. 管理编译目标<a href="#2-管理编译目标" class="hash-link" aria-label="Direct link to 2. 管理编译目标" title="Direct link to 2. 管理编译目标" translate="no">​</a></h4>
<p>支持交叉编译到不同平台：</p>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 查看当前已安装的目标</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup target list --installed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 添加编译目标</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup target add x86_64-pc-windows-msvc      # Windows</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup target add x86_64-unknown-linux-gnu    # Linux</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup target add x86_64-apple-darwin         # macOS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup target add wasm32-unknown-unknown      # WebAssembly</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup target add aarch64-linux-android       # Android ARM64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 移除编译目标</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup target remove wasm32-unknown-unknown</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="3-管理组件">3. 管理组件<a href="#3-管理组件" class="hash-link" aria-label="Direct link to 3. 管理组件" title="Direct link to 3. 管理组件" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 查看可用组件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup component list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 安装常用组件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup component add rustfmt      # 代码格式化工具</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup component add clippy       # 代码检查工具</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup component add rust-src     # Rust 源代码（用于 IDE 补全）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup component add rust-docs    # 离线文档</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup component add rust-analyzer # LSP 服务器</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 移除组件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup component remove rustfmt</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="4-更新工具链">4. 更新工具链<a href="#4-更新工具链" class="hash-link" aria-label="Direct link to 4. 更新工具链" title="Direct link to 4. 更新工具链" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 更新所有已安装的工具链</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 更新特定工具链</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup update stable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup update nightly</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 检查更新</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup check</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="-常用命令">🔧 常用命令<a href="#-常用命令" class="hash-link" aria-label="Direct link to 🔧 常用命令" title="Direct link to 🔧 常用命令" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 查看 rustup 版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup --version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 查看当前激活的工具链</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup show</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 打开本地文档</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup doc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 打开标准库文档</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup doc --std</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 打开 The Rust Book</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup doc --book</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 卸载 Rust</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup self uninstall</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 更新 rustup 自身</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup self update</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="-项目级工具链配置">📁 项目级工具链配置<a href="#-项目级工具链配置" class="hash-link" aria-label="Direct link to 📁 项目级工具链配置" title="Direct link to 📁 项目级工具链配置" translate="no">​</a></h3>
<p>在项目根目录创建 <code>rust-toolchain.toml</code>：</p>
<div class="language-toml codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-toml codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain">[toolchain]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">channel = &quot;1.75.0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">components = [&quot;rustfmt&quot;, &quot;clippy&quot;]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">targets = [&quot;wasm32-unknown-unknown&quot;]</span><br></span></code></pre></div></div>
<p>或简单版本 <code>rust-toolchain</code>：</p>
<div class="language-text codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-text codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain">1.75.0</span><br></span></code></pre></div></div>
<p>当进入该目录时，rustup 会自动切换到指定的工具链。</p>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="-环境变量">🌍 环境变量<a href="#-环境变量" class="hash-link" aria-label="Direct link to 🌍 环境变量" title="Direct link to 🌍 环境变量" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 设置工具链安装目录（默认 ~/.rustup）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUSTUP_HOME=/custom/path</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 设置 cargo 安装目录（默认 ~/.cargo）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CARGO_HOME=/custom/path</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 使用镜像加速（中国大陆）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUSTUP_DIST_SERVER=https://mirrors.ustc.edu.cn/rust-static</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUSTUP_UPDATE_ROOT=https://mirrors.ustc.edu.cn/rust-static/rustup</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="2️⃣-cargo---rust-包管理器和构建工具">2️⃣ cargo - Rust 包管理器和构建工具<a href="#2️⃣-cargo---rust-包管理器和构建工具" class="hash-link" aria-label="Direct link to 2️⃣ cargo - Rust 包管理器和构建工具" title="Direct link to 2️⃣ cargo - Rust 包管理器和构建工具" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="-什么是-cargo">📖 什么是 cargo？<a href="#-什么是-cargo" class="hash-link" aria-label="Direct link to 📖 什么是 cargo？" title="Direct link to 📖 什么是 cargo？" translate="no">​</a></h3>
<p><strong>cargo</strong> 是 Rust 的官方包管理器和构建系统，类似于：</p>
<ul>
<li class="">Node.js 的 <code>npm</code></li>
<li class="">Python 的 <code>pip</code></li>
<li class="">Java 的 <code>Maven</code></li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="-核心功能-1">🎯 核心功能<a href="#-核心功能-1" class="hash-link" aria-label="Direct link to 🎯 核心功能" title="Direct link to 🎯 核心功能" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="1-项目管理">1. 项目管理<a href="#1-项目管理" class="hash-link" aria-label="Direct link to 1. 项目管理" title="Direct link to 1. 项目管理" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 创建新项目（二进制程序）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo new my-project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 创建新项目（库）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo new my-lib --lib</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 在当前目录初始化项目</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo init</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 项目结构</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">my-project/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Cargo.toml          # 项目配置文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── Cargo.lock          # 依赖锁定文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── src/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── main.rs         # 入口文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── target/             # 编译输出目录</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="2-构建和运行">2. 构建和运行<a href="#2-构建和运行" class="hash-link" aria-label="Direct link to 2. 构建和运行" title="Direct link to 2. 构建和运行" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 编译项目（debug 模式）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 编译项目（release 模式，启用优化）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo build --release</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 编译并运行</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 运行并传递参数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo run -- arg1 arg2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 只检查代码，不生成可执行文件（速度快）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo check</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 清理编译产物</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo clean</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="3-依赖管理">3. 依赖管理<a href="#3-依赖管理" class="hash-link" aria-label="Direct link to 3. 依赖管理" title="Direct link to 3. 依赖管理" translate="no">​</a></h4>
<p><strong>Cargo.toml 示例：</strong></p>
<div class="language-toml codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-toml codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain">[package]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">name = &quot;my-project&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">version = &quot;0.1.0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edition = &quot;2021&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[dependencies]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">serde = &quot;1.0&quot;                          # 最新 1.x 版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tokio = { version = &quot;1.35&quot;, features = [&quot;full&quot;] }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rand = &quot;0.8.5&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[dev-dependencies]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">criterion = &quot;0.5&quot;                      # 仅用于测试/基准测试</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[build-dependencies]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cc = &quot;1.0&quot;                             # 仅用于构建脚本</span><br></span></code></pre></div></div>
<p><strong>常用命令：</strong></p>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 添加依赖</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo add serde</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo add tokio --features full</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 移除依赖</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo remove serde</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 更新依赖</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo update                # 更新所有依赖</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo update serde          # 更新特定依赖</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 查看依赖树</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo tree</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 搜索 crates.io 上的包</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo search serde</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="4-测试">4. 测试<a href="#4-测试" class="hash-link" aria-label="Direct link to 4. 测试" title="Direct link to 4. 测试" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 运行所有测试</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 运行特定测试</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo test test_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 显示测试输出</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo test -- --nocapture</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 运行文档测试</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo test --doc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 运行基准测试</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo bench</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="5-文档">5. 文档<a href="#5-文档" class="hash-link" aria-label="Direct link to 5. 文档" title="Direct link to 5. 文档" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 生成并打开项目文档</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo doc --open</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 生成文档（包含依赖）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo doc --no-deps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 生成文档（包含私有项）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo doc --document-private-items</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="6-发布">6. 发布<a href="#6-发布" class="hash-link" aria-label="Direct link to 6. 发布" title="Direct link to 6. 发布" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 打包项目</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo package</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 发布到 crates.io</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo publish</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 登录 crates.io</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo login &lt;token&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 撤回已发布的版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo yank --vers 1.0.0</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="-常用命令-1">🔧 常用命令<a href="#-常用命令-1" class="hash-link" aria-label="Direct link to 🔧 常用命令" title="Direct link to 🔧 常用命令" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 格式化代码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo fmt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 代码检查（lint）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo clippy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 修复可自动修复的问题</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo fix</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 查看项目元数据</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo metadata</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 安装二进制程序</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo install ripgrep</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo install cargo-watch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 卸载二进制程序</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo uninstall ripgrep</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 列出已安装的二进制程序</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo install --list</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="-workspace工作空间">📦 Workspace（工作空间）<a href="#-workspace工作空间" class="hash-link" aria-label="Direct link to 📦 Workspace（工作空间）" title="Direct link to 📦 Workspace（工作空间）" translate="no">​</a></h3>
<p>管理多个相关的包：</p>
<div class="language-toml codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-toml codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># Cargo.toml（根目录）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[workspace]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">members = [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;crate-a&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;crate-b&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;crate-c&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[workspace.dependencies]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">serde = &quot;1.0&quot;  # 共享依赖版本</span><br></span></code></pre></div></div>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 构建工作空间中的所有包</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo build --workspace</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 测试工作空间中的所有包</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo test --workspace</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="-常用-cargo-插件">🚀 常用 Cargo 插件<a href="#-常用-cargo-插件" class="hash-link" aria-label="Direct link to 🚀 常用 Cargo 插件" title="Direct link to 🚀 常用 Cargo 插件" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 监听文件变化自动重新编译</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo install cargo-watch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo watch -x run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 生成依赖图</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo install cargo-deps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo deps | dot -Tpng &gt; graph.png</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 检查过时的依赖</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo install cargo-outdated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo outdated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 审计安全漏洞</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo install cargo-audit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo audit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 扩展 Cargo.toml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo install cargo-edit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo add/rm/upgrade</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 生成代码覆盖率</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo install cargo-tarpaulin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo tarpaulin</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="3️⃣-rustc---rust-编译器">3️⃣ rustc - Rust 编译器<a href="#3️⃣-rustc---rust-编译器" class="hash-link" aria-label="Direct link to 3️⃣ rustc - Rust 编译器" title="Direct link to 3️⃣ rustc - Rust 编译器" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="-什么是-rustc">📖 什么是 rustc？<a href="#-什么是-rustc" class="hash-link" aria-label="Direct link to 📖 什么是 rustc？" title="Direct link to 📖 什么是 rustc？" translate="no">​</a></h3>
<p><strong>rustc</strong> 是 Rust 的编译器，负责将 Rust 源代码编译成机器码。</p>
<p>通常不直接使用 rustc，而是通过 cargo 间接调用。</p>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="-基本用法">🎯 基本用法<a href="#-基本用法" class="hash-link" aria-label="Direct link to 🎯 基本用法" title="Direct link to 🎯 基本用法" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 编译单个文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustc main.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 指定输出文件名</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustc main.rs -o my_program</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 优化编译</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustc -O main.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 查看版本</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustc --version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 查看详细版本信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustc --version --verbose</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="-编译选项">🔧 编译选项<a href="#-编译选项" class="hash-link" aria-label="Direct link to 🔧 编译选项" title="Direct link to 🔧 编译选项" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 指定编译目标</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustc --target wasm32-unknown-unknown main.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 生成库文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustc --crate-type lib lib.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 设置优化级别（0-3）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustc -C opt-level=3 main.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 生成调试信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustc -g main.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 显示警告</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustc -W warnings main.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 将警告视为错误</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustc -D warnings main.rs</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="-查看编译信息">📊 查看编译信息<a href="#-查看编译信息" class="hash-link" aria-label="Direct link to 📊 查看编译信息" title="Direct link to 📊 查看编译信息" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 查看支持的目标平台</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustc --print target-list</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 查看默认目标平台</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustc --print target-spec-json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 查看 sysroot 路径</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustc --print sysroot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 展开宏</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustc -Z unstable-options --pretty=expanded main.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 生成 LLVM IR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustc --emit=llvm-ir main.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 生成汇编代码</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustc --emit=asm main.rs</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="-通过-cargo-使用-rustc-选项">🎨 通过 Cargo 使用 rustc 选项<a href="#-通过-cargo-使用-rustc-选项" class="hash-link" aria-label="Direct link to 🎨 通过 Cargo 使用 rustc 选项" title="Direct link to 🎨 通过 Cargo 使用 rustc 选项" translate="no">​</a></h3>
<p>在 <code>Cargo.toml</code> 中配置：</p>
<div class="language-toml codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-toml codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain">[profile.dev]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">opt-level = 0      # 不优化</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[profile.release]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">opt-level = 3      # 最高优化</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lto = true         # 链接时优化</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">codegen-units = 1  # 单个代码生成单元（更好的优化）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">strip = true       # 移除符号信息（减小体积）</span><br></span></code></pre></div></div>
<p>或通过环境变量：</p>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 传递选项给 rustc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RUSTFLAGS=&quot;-C target-cpu=native&quot; cargo build --release</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="-工具链协作流程">🔄 工具链协作流程<a href="#-工具链协作流程" class="hash-link" aria-label="Direct link to 🔄 工具链协作流程" title="Direct link to 🔄 工具链协作流程" translate="no">​</a></h2>
<!-- -->
<hr>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="-实用技巧">📚 实用技巧<a href="#-实用技巧" class="hash-link" aria-label="Direct link to 📚 实用技巧" title="Direct link to 📚 实用技巧" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="1-加速编译">1. 加速编译<a href="#1-加速编译" class="hash-link" aria-label="Direct link to 1. 加速编译" title="Direct link to 1. 加速编译" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 使用 sccache 缓存编译结果</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo install sccache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export RUSTC_WRAPPER=sccache</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 使用 mold 链接器（Linux）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt install mold</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export RUSTFLAGS=&quot;-C link-arg=-fuse-ld=mold&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 增加并行编译单元</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export CARGO_BUILD_JOBS=8</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="2-配置国内镜像">2. 配置国内镜像<a href="#2-配置国内镜像" class="hash-link" aria-label="Direct link to 2. 配置国内镜像" title="Direct link to 2. 配置国内镜像" translate="no">​</a></h3>
<p>创建 <code>~/.cargo/config.toml</code>：</p>
<div class="language-toml codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-toml codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain">[source.crates-io]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">replace-with = &#x27;ustc&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[source.ustc]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">registry = &quot;https://mirrors.ustc.edu.cn/crates.io-index&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[source.tuna]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">registry = &quot;https://mirrors.tuna.tsinghua.edu.cn/git/crates.io-index.git&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">[source.sjtu]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">registry = &quot;https://mirrors.sjtug.sjtu.edu.cn/git/crates.io-index/&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="3-常用别名">3. 常用别名<a href="#3-常用别名" class="hash-link" aria-label="Direct link to 3. 常用别名" title="Direct link to 3. 常用别名" translate="no">​</a></h3>
<p>在 <code>~/.cargo/config.toml</code> 中添加：</p>
<div class="language-toml codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-toml codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain">[alias]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">b = &quot;build&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">r = &quot;run&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">t = &quot;test&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">c = &quot;check&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">br = &quot;build --release&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rr = &quot;run --release&quot;</span><br></span></code></pre></div></div>
<p>使用：</p>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain">cargo b      # 等同于 cargo build</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo rr     # 等同于 cargo run --release</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="-快速参考">🎯 快速参考<a href="#-快速参考" class="hash-link" aria-label="Direct link to 🎯 快速参考" title="Direct link to 🎯 快速参考" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="rustup-常用命令">rustup 常用命令<a href="#rustup-常用命令" class="hash-link" aria-label="Direct link to rustup 常用命令" title="Direct link to rustup 常用命令" translate="no">​</a></h3>
<table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><code>rustup update</code></td><td>更新工具链</td></tr><tr><td><code>rustup default stable</code></td><td>设置默认工具链</td></tr><tr><td><code>rustup show</code></td><td>显示当前工具链</td></tr><tr><td><code>rustup doc</code></td><td>打开本地文档</td></tr><tr><td><code>rustup component add clippy</code></td><td>安装组件</td></tr><tr><td><code>rustup target add &lt;target&gt;</code></td><td>添加编译目标</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="cargo-常用命令">cargo 常用命令<a href="#cargo-常用命令" class="hash-link" aria-label="Direct link to cargo 常用命令" title="Direct link to cargo 常用命令" translate="no">​</a></h3>
<table><thead><tr><th>命令</th><th>说明</th></tr></thead><tbody><tr><td><code>cargo new &lt;name&gt;</code></td><td>创建新项目</td></tr><tr><td><code>cargo build</code></td><td>编译项目</td></tr><tr><td><code>cargo run</code></td><td>运行项目</td></tr><tr><td><code>cargo test</code></td><td>运行测试</td></tr><tr><td><code>cargo check</code></td><td>快速检查代码</td></tr><tr><td><code>cargo fmt</code></td><td>格式化代码</td></tr><tr><td><code>cargo clippy</code></td><td>代码检查</td></tr><tr><td><code>cargo doc --open</code></td><td>生成并打开文档</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="rustc-常用选项">rustc 常用选项<a href="#rustc-常用选项" class="hash-link" aria-label="Direct link to rustc 常用选项" title="Direct link to rustc 常用选项" translate="no">​</a></h3>
<table><thead><tr><th>选项</th><th>说明</th></tr></thead><tbody><tr><td><code>-O</code></td><td>优化编译</td></tr><tr><td><code>-g</code></td><td>生成调试信息</td></tr><tr><td><code>--target &lt;target&gt;</code></td><td>指定编译目标</td></tr><tr><td><code>--emit=asm</code></td><td>生成汇编代码</td></tr><tr><td><code>-C opt-level=3</code></td><td>设置优化级别</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="️-rust-安装时包含的所有工具">🛠️ Rust 安装时包含的所有工具<a href="#️-rust-安装时包含的所有工具" class="hash-link" aria-label="Direct link to 🛠️ Rust 安装时包含的所有工具" title="Direct link to 🛠️ Rust 安装时包含的所有工具" translate="no">​</a></h2>
<p>当你通过 <code>rustup</code> 安装 Rust 时，会自动安装以下组件：</p>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="核心组件默认安装">核心组件（默认安装）<a href="#核心组件默认安装" class="hash-link" aria-label="Direct link to 核心组件（默认安装）" title="Direct link to 核心组件（默认安装）" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="1-cargo---包管理器和构建工具">1. <strong>cargo</strong> - 包管理器和构建工具<a href="#1-cargo---包管理器和构建工具" class="hash-link" aria-label="Direct link to 1-cargo---包管理器和构建工具" title="Direct link to 1-cargo---包管理器和构建工具" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain">cargo --version</span><br></span></code></pre></div></div>
<ul>
<li class="">项目管理、依赖管理、构建系统</li>
<li class="">详见上文 &quot;cargo&quot; 章节</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="2-clippy---代码检查工具linter">2. <strong>clippy</strong> - 代码检查工具（Linter）<a href="#2-clippy---代码检查工具linter" class="hash-link" aria-label="Direct link to 2-clippy---代码检查工具linter" title="Direct link to 2-clippy---代码检查工具linter" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain">cargo clippy</span><br></span></code></pre></div></div>
<p><strong>功能：</strong></p>
<ul>
<li class="">检测常见错误和不良实践</li>
<li class="">提供代码改进建议</li>
<li class="">超过 600 个 lint 规则</li>
</ul>
<p><strong>示例：</strong></p>
<div class="language-rust codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-rust codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 不推荐的写法</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">let</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> x </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token macro property" style="color:#36acaa">println!</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;zero&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// clippy 会建议：</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> x</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">is_zero</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 更清晰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token macro property" style="color:#36acaa">println!</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;zero&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>常用命令：</strong></p>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 运行 clippy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo clippy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 将警告视为错误</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo clippy -- -D warnings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 自动修复部分问题</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo clippy --fix</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 查看所有 lint 规则</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo clippy --help</span><br></span></code></pre></div></div>
<p><strong>配置 clippy：</strong></p>
<p>在 <code>Cargo.toml</code> 中：</p>
<div class="language-toml codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-toml codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain">[lints.clippy]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">all = &quot;warn&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pedantic = &quot;warn&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">nursery = &quot;warn&quot;</span><br></span></code></pre></div></div>
<p>或在代码中：</p>
<div class="language-rust codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-rust codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token attribute attr-name" style="color:#00a4db">#![warn(clippy::all)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token attribute attr-name" style="color:#00a4db">#![warn(clippy::pedantic)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token attribute attr-name" style="color:#00a4db">#![deny(clippy::unwrap_used)]</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 禁止使用 unwrap</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="3-rust-docs---离线文档">3. <strong>rust-docs</strong> - 离线文档<a href="#3-rust-docs---离线文档" class="hash-link" aria-label="Direct link to 3-rust-docs---离线文档" title="Direct link to 3-rust-docs---离线文档" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain">rustup doc</span><br></span></code></pre></div></div>
<p><strong>包含的文档：</strong></p>
<ul>
<li class=""><strong>The Rust Book</strong> - Rust 官方教程</li>
<li class=""><strong>Rust by Example</strong> - 示例学习</li>
<li class=""><strong>Standard Library API</strong> - 标准库文档</li>
<li class=""><strong>Cargo Book</strong> - Cargo 使用指南</li>
<li class=""><strong>rustc Book</strong> - 编译器文档</li>
<li class=""><strong>rustdoc Book</strong> - 文档生成工具指南</li>
</ul>
<p><strong>常用命令：</strong></p>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 打开主文档页面</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup doc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 打开 The Rust Book</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup doc --book</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 打开标准库文档</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup doc --std</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 打开 Cargo Book</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup doc --cargo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 打开特定模块文档</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup doc std::collections</span><br></span></code></pre></div></div>
<p><strong>优势：</strong></p>
<ul>
<li class="">✅ 完全离线可用</li>
<li class="">✅ 与安装的 Rust 版本完全匹配</li>
<li class="">✅ 包含所有标准库 API</li>
<li class="">✅ 搜索功能强大</li>
</ul>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="4-rustfmt---代码格式化工具">4. <strong>rustfmt</strong> - 代码格式化工具<a href="#4-rustfmt---代码格式化工具" class="hash-link" aria-label="Direct link to 4-rustfmt---代码格式化工具" title="Direct link to 4-rustfmt---代码格式化工具" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain">cargo fmt</span><br></span></code></pre></div></div>
<p><strong>功能：</strong></p>
<ul>
<li class="">自动格式化 Rust 代码</li>
<li class="">统一代码风格</li>
<li class="">支持自定义配置</li>
</ul>
<p><strong>常用命令：</strong></p>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 格式化整个项目</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo fmt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 检查格式但不修改</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo fmt -- --check</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 格式化单个文件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustfmt src/main.rs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 显示格式化差异</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo fmt -- --emit=diff</span><br></span></code></pre></div></div>
<p><strong>配置 rustfmt：</strong></p>
<p>创建 <code>rustfmt.toml</code> 或 <code>.rustfmt.toml</code>：</p>
<div class="language-toml codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-toml codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain">max_width = 100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hard_tabs = false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tab_spaces = 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">newline_style = &quot;Unix&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use_small_heuristics = &quot;Default&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">reorder_imports = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">reorder_modules = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">remove_nested_parens = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">edition = &quot;2021&quot;</span><br></span></code></pre></div></div>
<p><strong>常用配置项：</strong></p>
<div class="language-toml codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-toml codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 每行最大字符数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">max_width = 100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 导入排序</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">reorder_imports = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 函数参数换行</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fn_args_layout = &quot;Tall&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 链式调用换行</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">chain_width = 60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 注释宽度</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">comment_width = 80</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 使用字段初始化简写</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">use_field_init_shorthand = true</span><br></span></code></pre></div></div>
<p><strong>在 CI 中使用：</strong></p>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 检查代码格式</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo fmt -- --check || exit 1</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="5-rustc---rust-编译器">5. <strong>rustc</strong> - Rust 编译器<a href="#5-rustc---rust-编译器" class="hash-link" aria-label="Direct link to 5-rustc---rust-编译器" title="Direct link to 5-rustc---rust-编译器" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain">rustc --version</span><br></span></code></pre></div></div>
<ul>
<li class="">将 Rust 代码编译成机器码</li>
<li class="">详见上文 &quot;rustc&quot; 章节</li>
</ul>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="6-rust-std---rust-标准库">6. <strong>rust-std</strong> - Rust 标准库<a href="#6-rust-std---rust-标准库" class="hash-link" aria-label="Direct link to 6-rust-std---rust-标准库" title="Direct link to 6-rust-std---rust-标准库" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain">rustc --print sysroot</span><br></span></code></pre></div></div>
<p><strong>包含的内容：</strong></p>
<ul>
<li class=""><strong>核心库（core）</strong> - 不依赖操作系统的基础功能</li>
<li class=""><strong>标准库（std）</strong> - 完整的标准库</li>
<li class=""><strong>alloc</strong> - 堆分配相关功能</li>
<li class=""><strong>proc_macro</strong> - 过程宏支持</li>
</ul>
<p><strong>标准库模块：</strong></p>
<ul>
<li class=""><code>std::collections</code> - 集合类型（Vec, HashMap 等）</li>
<li class=""><code>std::io</code> - 输入输出</li>
<li class=""><code>std::fs</code> - 文件系统操作</li>
<li class=""><code>std::net</code> - 网络编程</li>
<li class=""><code>std::thread</code> - 线程</li>
<li class=""><code>std::sync</code> - 同步原语</li>
<li class=""><code>std::process</code> - 进程管理</li>
<li class=""><code>std::env</code> - 环境变量</li>
</ul>
<p><strong>查看标准库源码：</strong></p>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 安装源码组件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup component add rust-src</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 源码位置</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustc --print sysroot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 通常在 &lt;sysroot&gt;/lib/rustlib/src/rust/library/</span><br></span></code></pre></div></div>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="可选组件需要手动安装">可选组件（需要手动安装）<a href="#可选组件需要手动安装" class="hash-link" aria-label="Direct link to 可选组件（需要手动安装）" title="Direct link to 可选组件（需要手动安装）" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="7-rust-src---rust-源代码">7. <strong>rust-src</strong> - Rust 源代码<a href="#7-rust-src---rust-源代码" class="hash-link" aria-label="Direct link to 7-rust-src---rust-源代码" title="Direct link to 7-rust-src---rust-源代码" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain">rustup component add rust-src</span><br></span></code></pre></div></div>
<p><strong>用途：</strong></p>
<ul>
<li class="">IDE 代码补全和跳转</li>
<li class="">查看标准库实现</li>
<li class="">交叉编译某些目标</li>
<li class="">学习 Rust 内部实现</li>
</ul>
<p><strong>使用场景：</strong></p>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 跳转到标准库定义（在 IDE 中）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 例如：跳转到 Vec::push 的实现</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 嵌入式开发</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo build --target thumbv7em-none-eabihf</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="8-rust-analyzer---lsp-语言服务器">8. <strong>rust-analyzer</strong> - LSP 语言服务器<a href="#8-rust-analyzer---lsp-语言服务器" class="hash-link" aria-label="Direct link to 8-rust-analyzer---lsp-语言服务器" title="Direct link to 8-rust-analyzer---lsp-语言服务器" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain">rustup component add rust-analyzer</span><br></span></code></pre></div></div>
<p><strong>功能：</strong></p>
<ul>
<li class="">代码补全</li>
<li class="">类型提示</li>
<li class="">错误检查</li>
<li class="">代码导航（跳转定义、查找引用）</li>
<li class="">重构支持</li>
<li class="">内联提示</li>
</ul>
<p><strong>支持的编辑器：</strong></p>
<ul>
<li class="">VS Code（推荐插件：rust-analyzer）</li>
<li class="">IntelliJ IDEA / CLion</li>
<li class="">Vim / Neovim</li>
<li class="">Emacs</li>
<li class="">Sublime Text</li>
<li class="">Helix</li>
</ul>
<p><strong>VS Code 配置示例：</strong></p>
<div class="language-json codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-json codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;rust-analyzer.checkOnSave.command&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;clippy&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;rust-analyzer.cargo.features&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;all&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;rust-analyzer.inlayHints.enable&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;rust-analyzer.completion.autoimport.enable&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="9-rustdoc---文档生成工具">9. <strong>rustdoc</strong> - 文档生成工具<a href="#9-rustdoc---文档生成工具" class="hash-link" aria-label="Direct link to 9-rustdoc---文档生成工具" title="Direct link to 9-rustdoc---文档生成工具" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain">rustdoc --version</span><br></span></code></pre></div></div>
<p><strong>功能：</strong></p>
<ul>
<li class="">从代码注释生成 HTML 文档</li>
<li class="">支持 Markdown 语法</li>
<li class="">自动生成 API 文档</li>
<li class="">运行文档测试</li>
</ul>
<p><strong>文档注释语法：</strong></p>
<div class="language-rust codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-rust codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/// 计算两个数的和</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">///</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/// # Examples</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">///</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/// ```</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/// let result = add(2, 3);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/// assert_eq!(result, 5);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/// ```</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">///</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/// # Panics</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">///</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/// 当结果溢出时会 panic</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#d73a49">add</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">i32</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> b</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">i32</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">i32</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>常用命令：</strong></p>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 生成文档</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo doc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 生成并打开文档</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo doc --open</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 包含私有项</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo doc --document-private-items</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 不包含依赖的文档</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo doc --no-deps</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 测试文档中的代码示例</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo test --doc</span><br></span></code></pre></div></div>
<hr>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="10-rust-mingw仅-windows">10. <strong>rust-mingw</strong>（仅 Windows）<a href="#10-rust-mingw仅-windows" class="hash-link" aria-label="Direct link to 10-rust-mingw仅-windows" title="Direct link to 10-rust-mingw仅-windows" translate="no">​</a></h4>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># Windows 上自动安装</span><br></span></code></pre></div></div>
<p><strong>功能：</strong></p>
<ul>
<li class="">提供 MinGW 工具链</li>
<li class="">用于 <code>x86_64-pc-windows-gnu</code> 目标</li>
<li class="">包含 GCC 和相关工具</li>
</ul>
<p><strong>目标选择：</strong></p>
<ul>
<li class=""><code>x86_64-pc-windows-msvc</code> - 使用 MSVC（推荐）</li>
<li class=""><code>x86_64-pc-windows-gnu</code> - 使用 MinGW</li>
</ul>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="其他实用工具">其他实用工具<a href="#其他实用工具" class="hash-link" aria-label="Direct link to 其他实用工具" title="Direct link to 其他实用工具" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_FzkC" id="11-cargo-fmt--cargo-clippy">11. <strong>cargo-fmt</strong> / <strong>cargo-clippy</strong><a href="#11-cargo-fmt--cargo-clippy" class="hash-link" aria-label="Direct link to 11-cargo-fmt--cargo-clippy" title="Direct link to 11-cargo-fmt--cargo-clippy" translate="no">​</a></h4>
<p>这些是 cargo 的子命令，由对应组件提供：</p>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain">cargo fmt    # 由 rustfmt 提供</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo clippy # 由 clippy 提供</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="-完整的安装清单">📦 完整的安装清单<a href="#-完整的安装清单" class="hash-link" aria-label="Direct link to 📦 完整的安装清单" title="Direct link to 📦 完整的安装清单" translate="no">​</a></h2>
<p>根据你的安装截图，标准安装包含：</p>
<table><thead><tr><th>组件</th><th>大小</th><th>说明</th></tr></thead><tbody><tr><td><strong>cargo</strong></td><td>~20 MiB</td><td>包管理器和构建工具</td></tr><tr><td><strong>clippy</strong></td><td>~20 MiB</td><td>代码检查工具</td></tr><tr><td><strong>rust-docs</strong></td><td>~20 MiB</td><td>离线文档</td></tr><tr><td><strong>rust-std</strong></td><td>~20 MiB</td><td>标准库</td></tr><tr><td><strong>rustc</strong></td><td>~76 MiB</td><td>Rust 编译器</td></tr><tr><td><strong>rustfmt</strong></td><td>~76 MiB</td><td>代码格式化工具</td></tr></tbody></table>
<p><strong>总大小：</strong> 约 230-250 MiB</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="-推荐的开发环境配置">🎯 推荐的开发环境配置<a href="#-推荐的开发环境配置" class="hash-link" aria-label="Direct link to 🎯 推荐的开发环境配置" title="Direct link to 🎯 推荐的开发环境配置" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="1-安装必要组件">1. 安装必要组件<a href="#1-安装必要组件" class="hash-link" aria-label="Direct link to 1. 安装必要组件" title="Direct link to 1. 安装必要组件" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 基础组件（已默认安装）</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup component add rustfmt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup component add clippy</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 推荐额外安装</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup component add rust-src        # IDE 支持</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup component add rust-analyzer   # LSP 服务器</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="2-安装常用工具">2. 安装常用工具<a href="#2-安装常用工具" class="hash-link" aria-label="Direct link to 2. 安装常用工具" title="Direct link to 2. 安装常用工具" translate="no">​</a></h3>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 监听文件变化自动编译</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo install cargo-watch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 更好的错误信息显示</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo install cargo-expand</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 依赖管理</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo install cargo-edit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo install cargo-outdated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo install cargo-audit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 性能分析</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo install cargo-flamegraph</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo install cargo-benchcmp</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_FzkC" id="3-配置编辑器">3. 配置编辑器<a href="#3-配置编辑器" class="hash-link" aria-label="Direct link to 3. 配置编辑器" title="Direct link to 3. 配置编辑器" translate="no">​</a></h3>
<p><strong>VS Code：</strong></p>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 安装 rust-analyzer 扩展</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">code --install-extension rust-lang.rust-analyzer</span><br></span></code></pre></div></div>
<p><strong>配置文件（.vscode/settings.json）：</strong></p>
<div class="language-json codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-json codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;rust-analyzer.checkOnSave.command&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;clippy&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;rust-analyzer.cargo.features&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;all&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;editor.formatOnSave&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;[rust]&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;editor.defaultFormatter&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;rust-lang.rust-analyzer&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="-验证安装">🔍 验证安装<a href="#-验证安装" class="hash-link" aria-label="Direct link to 🔍 验证安装" title="Direct link to 🔍 验证安装" translate="no">​</a></h2>
<p>运行以下命令验证所有工具是否正确安装：</p>
<div class="language-bash codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-bash codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain"># 核心工具</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustc --version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo --version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup --version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 组件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo fmt --version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo clippy --version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustdoc --version</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 检查已安装组件</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup component list --installed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># 检查工具链</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup show</span><br></span></code></pre></div></div>
<p><strong>预期输出：</strong></p>
<div class="language-text codeBlockContainer_iV14 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_jh8H"><pre tabindex="0" class="prism-code language-text codeBlock_E9uv thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_Kv4h"><span class="token-line" style="color:#393A34"><span class="token plain">rustc 1.90.0 (11159782cd 2025-05-1d)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cargo 1.90.0 (11159782cd 2025-05-1d)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustup 1.27.0 (2024-09-18)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustfmt 1.7.0-stable (11159782cd 2025-05-1d)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clippy 0.1.80 (11159782cd 2025-05-1d)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rustdoc 1.90.0 (11159782cd 2025-05-1d)</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_FzkC" id="-相关资源">🔗 相关资源<a href="#-相关资源" class="hash-link" aria-label="Direct link to 🔗 相关资源" title="Direct link to 🔗 相关资源" translate="no">​</a></h2>
<ul>
<li class=""><a href="https://rust-lang.github.io/rustup/" target="_blank" rel="noopener noreferrer" class="">rustup 官方文档</a></li>
<li class=""><a href="https://doc.rust-lang.org/cargo/" target="_blank" rel="noopener noreferrer" class="">cargo 官方文档</a></li>
<li class=""><a href="https://doc.rust-lang.org/rustc/" target="_blank" rel="noopener noreferrer" class="">rustc 官方文档</a></li>
<li class=""><a href="https://doc.rust-lang.org/cargo/index.html" target="_blank" rel="noopener noreferrer" class="">The Cargo Book</a></li>
<li class=""><a href="https://crates.io/" target="_blank" rel="noopener noreferrer" class="">crates.io</a> - Rust 包仓库</li>
<li class=""><a href="https://rust-analyzer.github.io/" target="_blank" rel="noopener noreferrer" class="">rust-analyzer 官网</a></li>
<li class=""><a href="https://rust-lang.github.io/rust-clippy/master/" target="_blank" rel="noopener noreferrer" class="">clippy lint 列表</a></li>
</ul>
<hr>
<p><strong>相关文档：</strong></p>
<ul>
<li class=""><a class="" href="/notes3/docs/Rust/学习路线">Rust 学习路线</a></li>
<li class=""><a class="" href="/notes3/docs/Rust/为什么学习Rust">为什么学习 Rust</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_RM2i"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Rust/Rust工具链.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_NBA7" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_Ng_4"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/notes3/docs/Rust/所有权与借用"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">所有权与借用</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/notes3/docs/Rust/Rust数据与图表资源"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Rust 数据与图表资源</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_qSfz thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#-工具链概览" class="table-of-contents__link toc-highlight">🦀 工具链概览</a></li><li><a href="#1️⃣-rustup---rust-工具链管理器" class="table-of-contents__link toc-highlight">1️⃣ rustup - Rust 工具链管理器</a><ul><li><a href="#-什么是-rustup" class="table-of-contents__link toc-highlight">📖 什么是 rustup？</a></li><li><a href="#-核心功能" class="table-of-contents__link toc-highlight">🎯 核心功能</a></li><li><a href="#-常用命令" class="table-of-contents__link toc-highlight">🔧 常用命令</a></li><li><a href="#-项目级工具链配置" class="table-of-contents__link toc-highlight">📁 项目级工具链配置</a></li><li><a href="#-环境变量" class="table-of-contents__link toc-highlight">🌍 环境变量</a></li></ul></li><li><a href="#2️⃣-cargo---rust-包管理器和构建工具" class="table-of-contents__link toc-highlight">2️⃣ cargo - Rust 包管理器和构建工具</a><ul><li><a href="#-什么是-cargo" class="table-of-contents__link toc-highlight">📖 什么是 cargo？</a></li><li><a href="#-核心功能-1" class="table-of-contents__link toc-highlight">🎯 核心功能</a></li><li><a href="#-常用命令-1" class="table-of-contents__link toc-highlight">🔧 常用命令</a></li><li><a href="#-workspace工作空间" class="table-of-contents__link toc-highlight">📦 Workspace（工作空间）</a></li><li><a href="#-常用-cargo-插件" class="table-of-contents__link toc-highlight">🚀 常用 Cargo 插件</a></li></ul></li><li><a href="#3️⃣-rustc---rust-编译器" class="table-of-contents__link toc-highlight">3️⃣ rustc - Rust 编译器</a><ul><li><a href="#-什么是-rustc" class="table-of-contents__link toc-highlight">📖 什么是 rustc？</a></li><li><a href="#-基本用法" class="table-of-contents__link toc-highlight">🎯 基本用法</a></li><li><a href="#-编译选项" class="table-of-contents__link toc-highlight">🔧 编译选项</a></li><li><a href="#-查看编译信息" class="table-of-contents__link toc-highlight">📊 查看编译信息</a></li><li><a href="#-通过-cargo-使用-rustc-选项" class="table-of-contents__link toc-highlight">🎨 通过 Cargo 使用 rustc 选项</a></li></ul></li><li><a href="#-工具链协作流程" class="table-of-contents__link toc-highlight">🔄 工具链协作流程</a></li><li><a href="#-实用技巧" class="table-of-contents__link toc-highlight">📚 实用技巧</a><ul><li><a href="#1-加速编译" class="table-of-contents__link toc-highlight">1. 加速编译</a></li><li><a href="#2-配置国内镜像" class="table-of-contents__link toc-highlight">2. 配置国内镜像</a></li><li><a href="#3-常用别名" class="table-of-contents__link toc-highlight">3. 常用别名</a></li></ul></li><li><a href="#-快速参考" class="table-of-contents__link toc-highlight">🎯 快速参考</a><ul><li><a href="#rustup-常用命令" class="table-of-contents__link toc-highlight">rustup 常用命令</a></li><li><a href="#cargo-常用命令" class="table-of-contents__link toc-highlight">cargo 常用命令</a></li><li><a href="#rustc-常用选项" class="table-of-contents__link toc-highlight">rustc 常用选项</a></li></ul></li><li><a href="#️-rust-安装时包含的所有工具" class="table-of-contents__link toc-highlight">🛠️ Rust 安装时包含的所有工具</a><ul><li><a href="#核心组件默认安装" class="table-of-contents__link toc-highlight">核心组件（默认安装）</a></li><li><a href="#可选组件需要手动安装" class="table-of-contents__link toc-highlight">可选组件（需要手动安装）</a></li><li><a href="#其他实用工具" class="table-of-contents__link toc-highlight">其他实用工具</a></li></ul></li><li><a href="#-完整的安装清单" class="table-of-contents__link toc-highlight">📦 完整的安装清单</a></li><li><a href="#-推荐的开发环境配置" class="table-of-contents__link toc-highlight">🎯 推荐的开发环境配置</a><ul><li><a href="#1-安装必要组件" class="table-of-contents__link toc-highlight">1. 安装必要组件</a></li><li><a href="#2-安装常用工具" class="table-of-contents__link toc-highlight">2. 安装常用工具</a></li><li><a href="#3-配置编辑器" class="table-of-contents__link toc-highlight">3. 配置编辑器</a></li></ul></li><li><a href="#-验证安装" class="table-of-contents__link toc-highlight">🔍 验证安装</a></li><li><a href="#-相关资源" class="table-of-contents__link toc-highlight">🔗 相关资源</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_EO6u"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_EO6u"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_EO6u"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/notes3/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_EO6u"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>