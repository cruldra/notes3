要在 `uv` 中实现“仅为特定包指定源”并持久化到配置文件中，需要结合使用 `[[tool.uv.index]]` 和 `[tool.uv.sources]`。

这种做法最为规范，因为它能确保 `uv` 不会在 PyTorch 的服务器上寻找其他普通的 Python 包（如 `requests` 等），从而提高解析速度并避免潜在的安全风险。

### 具体实现步骤

#### 1. 编辑 `pyproject.toml`

你需要在文件中手动添加以下配置：

```toml
# 1. 定义命名的索引源
[[tool.uv.index]]
name = "pytorch-cu126"
url = "https://download.pytorch.org/whl/cu126"
explicit = true  # 关键：设置为 true 表示 uv 除非被明确要求，否则不会主动去这里找包

# 2. 将特定包绑定到该源
[tool.uv.sources]
torch = { index = "pytorch-cu126" }
torchvision = { index = "pytorch-cu126" }
```

#### 2. 执行命令

完成上述配置后，你直接运行标准的 `uv add` 命令即可，`uv` 会自动识别 `tool.uv.sources` 中的绑定关系：

```bash
uv add torch torchvision
```

---

### 为什么这样做是最佳实践？

1. **`explicit = true`**: 这个设置防止了“索引污染”。如果没有它，`uv` 在安装任何包时都会尝试去所有已定义的 index 中查找版本。PyTorch 的服务器只托管特定的 wheel 文件，频繁请求会拖慢速度。
2. **`tool.uv.sources`**: 这实现了你要求的“持久化”。它在配置文件中建立了一个永久的链接，无论是你还是你的同事后续运行 `uv sync` 或 `uv lock`，这两个包都会锁定从该特定源下载。
3. **可维护性**: 如果以后你想升级 CUDA 版本（例如到 cu128），你只需要修改 `[[tool.uv.index]]` 里的 URL 一处地方，而不需要修改每一个依赖项。

### 最终的 `pyproject.toml` 结构预览

```toml
[project]
name = "your-project-name"
version = "0.1.0"
dependencies = [
    "torch",
    "torchvision",
]

[[tool.uv.index]]
name = "pytorch-cu126"
url = "https://download.pytorch.org/whl/cu126"
explicit = true

[tool.uv.sources]
torch = { index = "pytorch-cu126" }
torchvision = { index = "pytorch-cu126" }
```

如果你当前还没有 `pyproject.toml` 文件，可以先运行 `uv init` 初始化项目。
